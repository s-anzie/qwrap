time=2025-06-16T14:26:22.854+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/client/main.go:63 msg="qwrap client starting" orchestrator=localhost:7878 file_id=testfile_10M.dat destination=/home/bradley/work/qwrap-ws/downloaded_output_testfile_10M.dat
time=2025-06-16T14:26:22.855+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:99 msg="Attempting to connect to orchestrator..." component=quic_orchestrator_comms orch_addr=localhost:7878
time=2025-06-16T14:26:22.856+02:00 level=INFO source=:0 msg="failed to sufficiently increase receive buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details."
time=2025-06-16T14:26:22.863+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:113 msg="Successfully connected to orchestrator." component=quic_orchestrator_comms orch_addr=localhost:7878
time=2025-06-16T14:26:22.863+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/client/main.go:153 msg="Client prepared TransferRequest, FileID only" file_id=testfile_10M.dat request_id=client-req-1750076782863323932
time=2025-06-16T14:26:22.863+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/client/main.go:156 msg="Initiating download process..." file_id=testfile_10M.dat
time=2025-06-16T14:26:22.863+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:210 msg="Downloader lifecycle started" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle
time=2025-06-16T14:26:22.863+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:203 msg="Requesting initial plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 request_id=client-req-1750076782863323932
time=2025-06-16T14:26:22.863+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=0 purpose=TRANSFER_REQUEST role=reader
time=2025-06-16T14:26:22.872+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:214 msg="Initial plan received successfully from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_assignments=10
time=2025-06-16T14:26:22.872+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:274 msg="Initial transfer plan received" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_chunks=10
time=2025-06-16T14:26:22.872+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:337 msg="Starting listener for updated plans from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=3
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=3 file_id=testfile_10M.dat chunk_id=0 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.872+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:243 msg="Opened stream for plan updates" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a stream_id=4
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=5
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=5 file_id=testfile_10M.dat chunk_id=1 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=2
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=2 file_id=testfile_10M.dat chunk_id=2 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:262 msg="Sent registration request for plan updates" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=1
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=6
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=1 file_id=testfile_10M.dat chunk_id=3 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=0
time=2025-06-16T14:26:22.872+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:349 msg="Goroutine for ListenForUpdatedPlans has finished." component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=0 file_id=testfile_10M.dat chunk_id=5 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=6 file_id=testfile_10M.dat chunk_id=4 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=7
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a update_stream_id=4 role=reader
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:194 msg="Attempting to dial QUIC connection" address=127.0.0.1:8080 attempt=1
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=9
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=9 file_id=testfile_10M.dat chunk_id=7 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=4
time=2025-06-16T14:26:22.873+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=4 file_id=testfile_10M.dat chunk_id=8 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:834 msg="Download worker started" component=downloader id=8
time=2025-06-16T14:26:22.872+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=7 file_id=testfile_10M.dat chunk_id=6 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-16T14:26:22.873+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=8 file_id=testfile_10M.dat chunk_id=9 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-16T14:26:22.878+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:201 msg="Successfully established QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.878+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=0 stream_id=0
time=2025-06-16T14:26:22.878+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:194 msg="Attempting to dial QUIC connection" address=127.0.0.1:8081 attempt=1
time=2025-06-16T14:26:22.878+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=0 stream_id=0
time=2025-06-16T14:26:22.879+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=0 stream_id=0
time=2025-06-16T14:26:22.885+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:201 msg="Successfully established QUIC connection" address=127.0.0.1:8081
time=2025-06-16T14:26:22.885+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=5 stream_id=0
time=2025-06-16T14:26:22.885+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=5 stream_id=0
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:161 msg="Connection established by another goroutine" address=127.0.0.1:8081
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:161 msg="Connection established by another goroutine" address=127.0.0.1:8081
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=8 stream_id=4
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=8 stream_id=4
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=7 stream_id=8
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=7 stream_id=8
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:161 msg="Connection established by another goroutine" address=127.0.0.1:8081
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=5 stream_id=0
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:161 msg="Connection established by another goroutine" address=127.0.0.1:8081
time=2025-06-16T14:26:22.887+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=9 stream_id=16
time=2025-06-16T14:26:22.887+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=9 stream_id=16
time=2025-06-16T14:26:22.887+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=9 stream_id=16
time=2025-06-16T14:26:22.886+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=7 stream_id=8
time=2025-06-16T14:26:22.887+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=8 stream_id=4
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=1 stream_id=20
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=3 stream_id=24
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=1 stream_id=20
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=3 stream_id=24
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=1 stream_id=20
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.889+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=8 stream_id=4 total_bytes_read=48 expected_size=1048576
time=2025-06-16T14:26:22.889+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1057 msg="Incomplete chunk received from agent after read loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=8 stream_id=4 expected=1048576 received=48
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.889+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=3 stream_id=24
time=2025-06-16T14:26:22.888+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=5 stream_id=0 total_bytes_read=48 expected_size=1048576
time=2025-06-16T14:26:22.889+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1057 msg="Incomplete chunk received from agent after read loop" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=5 stream_id=0 expected=1048576 received=48
time=2025-06-16T14:26:22.889+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=7 stream_id=8 total_bytes_read=48 expected_size=1048576
time=2025-06-16T14:26:22.889+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1057 msg="Incomplete chunk received from agent after read loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=7 stream_id=8 expected=1048576 received=48
time=2025-06-16T14:26:22.887+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=6 stream_id=12
time=2025-06-16T14:26:22.889+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=6 stream_id=12
time=2025-06-16T14:26:22.889+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=2 stream_id=28
time=2025-06-16T14:26:22.889+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=2 stream_id=28
time=2025-06-16T14:26:22.889+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=2 stream_id=28
time=2025-06-16T14:26:22.889+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:453 msg="Chunk download attempt failed" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=8 agent=agent002 attempt_on_assign=1 total_local_attempts_for_chunk=1 error="incomplete chunk 8 from 127.0.0.1:8081: got 48, want 1048576: unexpected EOF"
time=2025-06-16T14:26:22.889+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:476 msg="Max local retries on current assignment. Requesting reassignment." component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=8 agent=agent002
time=2025-06-16T14:26:22.889+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:453 msg="Chunk download attempt failed" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=5 agent=agent002 attempt_on_assign=1 total_local_attempts_for_chunk=1 error="incomplete chunk 5 from 127.0.0.1:8081: got 48, want 1048576: unexpected EOF"
time=2025-06-16T14:26:22.890+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:476 msg="Max local retries on current assignment. Requesting reassignment." component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=5 agent=agent002
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=4 stream_id=32
time=2025-06-16T14:26:22.890+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:453 msg="Chunk download attempt failed" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=7 agent=agent002 attempt_on_assign=1 total_local_attempts_for_chunk=1 error="incomplete chunk 7 from 127.0.0.1:8081: got 48, want 1048576: unexpected EOF"
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=4 stream_id=32
time=2025-06-16T14:26:22.890+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:476 msg="Max local retries on current assignment. Requesting reassignment." component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=7 agent=agent002
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=4 stream_id=32
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=8 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=16 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=6 stream_id=12
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=12 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=20 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=24 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=28 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=7 event=REASSIGNMENT_REQUESTED
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=5 event=REASSIGNMENT_REQUESTED
time=2025-06-16T14:26:22.890+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=7 event=DOWNLOAD_FAILED_TRANSFER_ERROR
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=6 stream_id=12 total_bytes_read=48 expected_size=1048576
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=9 stream_id=16 total_bytes_read=48 expected_size=1048576
time=2025-06-16T14:26:22.891+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1057 msg="Incomplete chunk received from agent after read loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=6 stream_id=12 expected=1048576 received=48
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=8 event=REASSIGNMENT_REQUESTED
time=2025-06-16T14:26:22.891+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1057 msg="Incomplete chunk received from agent after read loop" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8081 file_id=testfile_10M.dat chunk_id=9 stream_id=16 expected=1048576 received=48
time=2025-06-16T14:26:22.891+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:453 msg="Chunk download attempt failed" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=6 agent=agent002 attempt_on_assign=1 total_local_attempts_for_chunk=1 error="incomplete chunk 6 from 127.0.0.1:8081: got 48, want 1048576: unexpected EOF"
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=8 event=DOWNLOAD_FAILED_TRANSFER_ERROR
time=2025-06-16T14:26:22.891+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:476 msg="Max local retries on current assignment. Requesting reassignment." component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=6 agent=agent002
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=5 event=DOWNLOAD_FAILED_TRANSFER_ERROR
time=2025-06-16T14:26:22.891+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:453 msg="Chunk download attempt failed" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 agent=agent002 attempt_on_assign=1 total_local_attempts_for_chunk=1 error="incomplete chunk 9 from 127.0.0.1:8081: got 48, want 1048576: unexpected EOF"
time=2025-06-16T14:26:22.891+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:476 msg="Max local retries on current assignment. Requesting reassignment." component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 agent=agent002
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=36 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=32 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=9 event=REASSIGNMENT_REQUESTED
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=6 event=DOWNLOAD_FAILED_TRANSFER_ERROR
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=40 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.891+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=6 event=REASSIGNMENT_REQUESTED
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.893+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.893+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=7 new_agent=agent001
time=2025-06-16T14:26:22.893+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.893+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=7 new_agent=agent001
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=0 file_id=testfile_10M.dat chunk_id=7 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.893+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.893+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=5 new_agent=agent001
time=2025-06-16T14:26:22.893+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.893+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=6 new_agent=agent003
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=7 file_id=testfile_10M.dat chunk_id=6 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:194 msg="Attempting to dial QUIC connection" address=127.0.0.1:8082 attempt=1
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=44 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=9 event=DOWNLOAD_FAILED_TRANSFER_ERROR
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=9 file_id=testfile_10M.dat chunk_id=5 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 new_agent=agent001
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=5 new_agent=agent001
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=8 new_agent=agent001
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=6 new_agent=agent001
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=8 file_id=testfile_10M.dat chunk_id=9 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=7 stream_id=40
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=7 stream_id=40
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=8 new_agent=agent001
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=7 stream_id=40
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 new_agent=agent003
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=0 stream_id=0 total_bytes_read=1048576 expected_size=1048576
time=2025-06-16T14:26:22.894+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=0 stream_id=0 size=1048576
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=3 file_id=testfile_10M.dat chunk_id=5 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.894+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=0 size=1048576
time=2025-06-16T14:26:22.895+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.895+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=48 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.895+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=0 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.896+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=0 offset=0 size=1048576
time=2025-06-16T14:26:22.893+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=4 file_id=testfile_10M.dat chunk_id=7 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.899+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:201 msg="Successfully established QUIC connection" address=127.0.0.1:8082
time=2025-06-16T14:26:22.899+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.900+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=60
time=2025-06-16T14:26:22.900+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=60
time=2025-06-16T14:26:22.900+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=6 stream_id=0
time=2025-06-16T14:26:22.900+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=60
time=2025-06-16T14:26:22.900+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=6 stream_id=0
time=2025-06-16T14:26:22.900+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.901+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.901+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=5 stream_id=64
time=2025-06-16T14:26:22.901+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=5 stream_id=64
time=2025-06-16T14:26:22.901+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=6 stream_id=0
time=2025-06-16T14:26:22.901+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=5 stream_id=64
time=2025-06-16T14:26:22.901+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.901+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=7 stream_id=68
time=2025-06-16T14:26:22.901+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=7 stream_id=68
time=2025-06-16T14:26:22.903+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=5 stream_id=72
time=2025-06-16T14:26:22.903+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=5 stream_id=72
time=2025-06-16T14:26:22.902+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=7 stream_id=68
time=2025-06-16T14:26:22.903+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=5 stream_id=72
time=2025-06-16T14:26:22.904+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=6 stream_id=0 total_bytes_read=48 expected_size=1048576
time=2025-06-16T14:26:22.904+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1057 msg="Incomplete chunk received from agent after read loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=6 stream_id=0 expected=1048576 received=48
time=2025-06-16T14:26:22.904+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=7 file_id=testfile_10M.dat chunk_id=8 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.904+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.904+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=8 stream_id=80
time=2025-06-16T14:26:22.904+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=8 stream_id=80
time=2025-06-16T14:26:22.904+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:453 msg="Chunk download attempt failed" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=6 agent=agent003 attempt_on_assign=1 total_local_attempts_for_chunk=1 error="incomplete chunk 6 from 127.0.0.1:8082: got 48, want 1048576: unexpected EOF"
time=2025-06-16T14:26:22.904+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.904+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=8 stream_id=80
time=2025-06-16T14:26:22.904+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=52 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.904+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=6 event=DOWNLOAD_FAILED_TRANSFER_ERROR
time=2025-06-16T14:26:22.905+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.905+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.905+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=6 new_agent=agent001
time=2025-06-16T14:26:22.925+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=4 stream_id=32 total_bytes_read=1048576 expected_size=1048576
time=2025-06-16T14:26:22.925+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=4 stream_id=32 size=1048576
time=2025-06-16T14:26:22.925+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=6 file_id=testfile_10M.dat chunk_id=6 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.925+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.925+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=88
time=2025-06-16T14:26:22.925+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=88
time=2025-06-16T14:26:22.925+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=4 size=1048576
time=2025-06-16T14:26:22.925+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=88
time=2025-06-16T14:26:22.925+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.926+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=56 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.926+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=4 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.928+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=1 stream_id=20 size=1048576
time=2025-06-16T14:26:22.928+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=5 file_id=testfile_10M.dat chunk_id=8 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.928+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.928+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=1 size=1048576
time=2025-06-16T14:26:22.928+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=8 stream_id=96
time=2025-06-16T14:26:22.928+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=8 stream_id=96
time=2025-06-16T14:26:22.928+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=8 stream_id=96
time=2025-06-16T14:26:22.928+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.929+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=60 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.929+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=1 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.930+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=2 stream_id=28 size=1048576
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=2 file_id=testfile_10M.dat chunk_id=9 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=1 offset=1048576 size=1048576
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8082
time=2025-06-16T14:26:22.930+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=3 stream_id=24 size=1048576
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=2 size=1048576
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=1 file_id=testfile_10M.dat chunk_id=6 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=9 stream_id=8
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=9 stream_id=8
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=104
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=9 stream_id=8
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=64 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=2 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=104
time=2025-06-16T14:26:22.930+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=104
time=2025-06-16T14:26:22.931+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=2 offset=2097152 size=1048576
time=2025-06-16T14:26:22.931+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=9 stream_id=8 total_bytes_read=48 expected_size=1048576
time=2025-06-16T14:26:22.931+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=3 size=1048576
time=2025-06-16T14:26:22.931+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1057 msg="Incomplete chunk received from agent after read loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8082 file_id=testfile_10M.dat chunk_id=9 stream_id=8 expected=1048576 received=48
time=2025-06-16T14:26:22.931+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.931+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=68 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.931+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=3 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.931+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=7 stream_id=40 size=1048576
time=2025-06-16T14:26:22.931+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=3 offset=3145728 size=1048576
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=4 offset=4194304 size=1048576
time=2025-06-16T14:26:22.932+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:453 msg="Chunk download attempt failed" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 agent=agent003 attempt_on_assign=1 total_local_attempts_for_chunk=1 error="incomplete chunk 9 from 127.0.0.1:8082: got 48, want 1048576: unexpected EOF"
time=2025-06-16T14:26:22.932+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:476 msg="Max local retries on current assignment. Requesting reassignment." component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 agent=agent003
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=7 size=1048576
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=72 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=7 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=76 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=80 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=9 event=DOWNLOAD_FAILED_TRANSFER_ERROR
time=2025-06-16T14:26:22.932+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=9 event=REASSIGNMENT_REQUESTED
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.933+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.933+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 new_agent=agent001
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=2 file_id=testfile_10M.dat chunk_id=9 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=112
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=112
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=112
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:303 msg="Client received updated plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_new_assign=1
time=2025-06-16T14:26:22.933+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:380 msg="Downloader received UpdatedTransferPlan" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat num_new_assign=1 num_invalidated=0
time=2025-06-16T14:26:22.933+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:396 msg="Processing new assignment from orchestrator" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 new_agent=agent001
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:851 msg="Worker picked up job" component=downloader worker_id=0 file_id=testfile_10M.dat chunk_id=9 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:974 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=120
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:987 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=120
time=2025-06-16T14:26:22.933+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1013 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=120
time=2025-06-16T14:26:22.940+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=5 stream_id=72 size=1048576
time=2025-06-16T14:26:22.940+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=5 size=1048576
time=2025-06-16T14:26:22.940+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.940+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=84 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.940+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=5 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.940+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=5 offset=5242880 size=1048576
time=2025-06-16T14:26:22.943+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=7 stream_id=68 size=1048576
time=2025-06-16T14:26:22.944+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=60 total_bytes_read=1048576 expected_size=1048576
time=2025-06-16T14:26:22.944+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=60 size=1048576
time=2025-06-16T14:26:22.944+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 size=1048576
time=2025-06-16T14:26:22.944+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.944+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=88 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.944+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=9 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.945+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=8 stream_id=80 size=1048576
time=2025-06-16T14:26:22.945+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=8 size=1048576
time=2025-06-16T14:26:22.945+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.945+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=92 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.945+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=8 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.945+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=5 stream_id=64 size=1048576
time=2025-06-16T14:26:22.955+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=88 total_bytes_read=1048576 expected_size=1048576
time=2025-06-16T14:26:22.955+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=88 size=1048576
time=2025-06-16T14:26:22.955+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:490 msg="Chunk download successful" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=6 size=1048576
time=2025-06-16T14:26:22.955+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=8 stream_id=96 size=1048576
time=2025-06-16T14:26:22.955+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=112 size=1048576
time=2025-06-16T14:26:22.956+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=104 total_bytes_read=1048576 expected_size=1048576
time=2025-06-16T14:26:22.956+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=6 stream_id=104 size=1048576
time=2025-06-16T14:26:22.956+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=6 offset=6291456 size=1048576
time=2025-06-16T14:26:22.956+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1046 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=120 total_bytes_read=1048576 expected_size=1048576
time=2025-06-16T14:26:22.956+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1070 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=0 agent_addr=127.0.0.1:8080 file_id=testfile_10M.dat chunk_id=9 stream_id=120 size=1048576
time=2025-06-16T14:26:22.956+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:219 msg="Reporting transfer status" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a num_chunk_statuses=1
time=2025-06-16T14:26:22.956+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=96 purpose=CLIENT_REPORT role=reader
time=2025-06-16T14:26:22.956+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:720 msg="Successfully reported chunk status to orchestrator" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a chunk_id=6 event=DOWNLOAD_SUCCESSFUL
time=2025-06-16T14:26:22.956+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=7 offset=7340032 size=1048576
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=8 offset=8388608 size=1048576
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:771 msg="Successfully wrote chunk to disk" component=downloader chunk_id=9 offset=9437184 size=1048576
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:578 msg="Main download loop ended. Draining results and waiting for goroutines." component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=6
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=1
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:599 msg="Drained a result during shutdown" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=8 err=<nil>
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=2
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=0
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=5
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=9
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=8
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=7
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=4
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:842 msg="Download worker shutting down due to context cancellation" component=downloader id=3
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:599 msg="Drained a result during shutdown" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 err=<nil>
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:599 msg="Drained a result during shutdown" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=6 err=<nil>
time=2025-06-16T14:26:22.957+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:599 msg="Drained a result during shutdown" component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat chunk_id=9 err=<nil>
time=2025-06-16T14:26:22.957+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:611 msg="All downloader goroutines have finished." component=downloader request_id=client-req-1750076782863323932 op=manageDownloadLifecycle plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat
time=2025-06-16T14:26:22.957+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:685 msg="Download process completed successfully" component=downloader plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a file_id=testfile_10M.dat
time=2025-06-16T14:26:22.957+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/client/main.go:183 msg="Download completed successfully!" file_id=testfile_10M.dat destination=/home/bradley/work/qwrap-ws/downloaded_output_testfile_10M.dat
time=2025-06-16T14:26:22.958+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:292 msg="Error reading updated plan from stream, stopping listener." component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a error="malformed uvarint length prefix: Application error 0x0 (local): client orchestrator communication closed"
time=2025-06-16T14:26:22.958+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:324 msg="Closed connection to orchestrator." component=quic_orchestrator_comms orch_addr=localhost:7878
time=2025-06-16T14:26:22.958+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:300 msg="Plan update listener goroutine stopped" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-37d60eb0-a45a-404d-963f-612cab389c5a stream_id=4
time=2025-06-16T14:26:22.958+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:320 msg="Closing all managed QUIC connections"
