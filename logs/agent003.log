time=2025-06-16T13:05:15.417+02:00 level=INFO msg="qwrap agent starting up..." agent_id=agent003 listen_addr_config=localhost:8082 data_dir=/home/bradley/work/qwrap-ws/agent_data/agent003 orchestrator=localhost:7878
time=2025-06-16T13:05:15.417+02:00 level=WARN msg="No TLS cert/key files provided for ChunkServer, generating self-signed (INSECURE)" agent_id=agent003
time=2025-06-16T13:05:15.675+02:00 level=INFO msg="ChunkServer attempting to start..." agent_id=agent003
time=2025-06-16T13:05:15.676+02:00 level=INFO msg="failed to sufficiently increase receive buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details."
time=2025-06-16T13:05:15.676+02:00 level=INFO msg="ChunkServer started, listening" agent_id=agent003 address=127.0.0.1:8082
time=2025-06-16T13:05:17.677+02:00 level=INFO msg="ChunkServer is listening on" agent_id=agent003 actual_address=127.0.0.1:8082
time=2025-06-16T13:05:17.677+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-16T13:05:17.691+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-16T13:05:17.691+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 subcomponent=agent_orch_comms stream_id=0 operation=register
time=2025-06-16T13:05:17.695+02:00 level=INFO msg="Agent successfully registered with orchestrator" agent_id=agent003 reported_listen_addr=127.0.0.1:8082
time=2025-06-16T13:05:17.695+02:00 level=INFO msg="Heartbeat interval set" agent_id=agent003 interval=10s
time=2025-06-16T13:05:17.695+02:00 level=INFO msg="Agent is running. Press Ctrl+C to exit." agent_id=agent003
time=2025-06-16T13:05:17.695+02:00 level=INFO msg="Heartbeat loop started" agent_id=agent003
time=2025-06-16T13:05:21.465+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:49932
time=2025-06-16T13:05:21.465+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:49932
time=2025-06-16T13:05:21.466+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:49932 stream_id=0
time=2025-06-16T13:05:21.466+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:49932 stream_id=0
time=2025-06-16T13:05:21.466+02:00 level=INFO msg="Agent stream received purpose" agent_id=agent003 remote_addr=127.0.0.1:49932 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-16T13:05:21.466+02:00 level=INFO msg="Processing GetFileMetadataRequest from orchestrator" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:49932 request_id=orch-meta-testfile_10M.dat-agent003 file_id=testfile_10M.dat
time=2025-06-16T13:05:21.466+02:00 level=WARN msg="File not found for metadata" agent_id=agent003 file_id=testfile_10M.dat path=/home/bradley/work/qwrap-ws/agent_data/agent003/testfile_10M.dat
time=2025-06-16T13:05:21.466+02:00 level=INFO msg="File not found by agent for metadata request" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:49932 file_id=testfile_10M.dat
time=2025-06-16T13:05:21.466+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:49932 request_id=orch-meta-testfile_10M.dat-agent003 file_id=testfile_10M.dat found=false
time=2025-06-16T13:05:21.466+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:49932 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-16T13:05:21.466+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:49932
time=2025-06-16T13:05:21.524+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:47457
time=2025-06-16T13:05:21.525+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:47457
time=2025-06-16T13:05:21.528+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=0
time=2025-06-16T13:05:21.528+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=0
time=2025-06-16T13:05:21.528+02:00 level=INFO msg="Agent stream received purpose" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-16T13:05:21.528+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:47457 file_id=testfile_10M.dat chunk_id=2 offset=2097152 length=1048576
time=2025-06-16T13:05:21.528+02:00 level=WARN msg="File not found for metadata" agent_id=agent003 file_id=testfile_10M.dat path=/home/bradley/work/qwrap-ws/agent_data/agent003/testfile_10M.dat
time=2025-06-16T13:05:21.528+02:00 level=ERROR msg="Failed to get file metadata for chunk validation" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:47457 file_id=testfile_10M.dat error="file not found on agent"
time=2025-06-16T13:05:21.528+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=4
time=2025-06-16T13:05:21.528+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=4
time=2025-06-16T13:05:21.528+02:00 level=INFO msg="Agent stream received purpose" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=4 purpose=CHUNK_REQUEST
time=2025-06-16T13:05:21.528+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=4 remote_addr=127.0.0.1:47457 file_id=testfile_10M.dat chunk_id=5 offset=5242880 length=1048576
time=2025-06-16T13:05:21.528+02:00 level=WARN msg="File not found for metadata" agent_id=agent003 file_id=testfile_10M.dat path=/home/bradley/work/qwrap-ws/agent_data/agent003/testfile_10M.dat
time=2025-06-16T13:05:21.528+02:00 level=ERROR msg="Failed to get file metadata for chunk validation" agent_id=agent003 handler=ClientChunkRequest stream_id=4 remote_addr=127.0.0.1:47457 file_id=testfile_10M.dat error="file not found on agent"
time=2025-06-16T13:05:21.529+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=8
time=2025-06-16T13:05:21.530+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=8
time=2025-06-16T13:05:21.530+02:00 level=INFO msg="Agent stream received purpose" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=8 purpose=CHUNK_REQUEST
time=2025-06-16T13:05:21.531+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:47457 file_id=testfile_10M.dat chunk_id=8 offset=8388608 length=1048576
time=2025-06-16T13:05:21.531+02:00 level=WARN msg="File not found for metadata" agent_id=agent003 file_id=testfile_10M.dat path=/home/bradley/work/qwrap-ws/agent_data/agent003/testfile_10M.dat
time=2025-06-16T13:05:21.531+02:00 level=ERROR msg="Failed to get file metadata for chunk validation" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:47457 file_id=testfile_10M.dat error="file not found on agent"
time=2025-06-16T13:05:21.537+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=12
time=2025-06-16T13:05:21.537+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=16
time=2025-06-16T13:05:21.537+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=16
time=2025-06-16T13:05:21.537+02:00 level=INFO msg="Agent stream received purpose" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-16T13:05:21.537+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:47457 file_id=testfile_10M.dat chunk_id=7 offset=7340032 length=1048576
time=2025-06-16T13:05:21.537+02:00 level=WARN msg="File not found for metadata" agent_id=agent003 file_id=testfile_10M.dat path=/home/bradley/work/qwrap-ws/agent_data/agent003/testfile_10M.dat
time=2025-06-16T13:05:21.537+02:00 level=ERROR msg="Failed to get file metadata for chunk validation" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:47457 file_id=testfile_10M.dat error="file not found on agent"
time=2025-06-16T13:05:21.537+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=12
time=2025-06-16T13:05:21.537+02:00 level=DEBUG msg="Failed to read StreamPurposeRequest on agent stream (EOF/Closed/Cancelled)" agent_id=agent003 remote_addr=127.0.0.1:47457 stream_id=12 error=EOF
time=2025-06-16T13:05:21.661+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:47457 error="Application error 0x0 (remote): connection manager shutdown"
time=2025-06-16T13:05:21.661+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:47457
time=2025-06-16T13:05:21.715+02:00 level=INFO msg="Received signal, shutting down agent..." agent_id=agent003 signal=terminated
time=2025-06-16T13:05:21.715+02:00 level=INFO msg="Context cancelled, stopping ChunkServer listener..." agent_id=agent003
time=2025-06-16T13:05:21.715+02:00 level=INFO msg="Heartbeat loop stopping." agent_id=agent003
time=2025-06-16T13:05:21.715+02:00 level=INFO msg="Agent shutting down main process..." agent_id=agent003
time=2025-06-16T13:05:21.715+02:00 level=INFO msg="Closed agent connection to orchestrator." agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-16T13:05:21.716+02:00 level=INFO msg="ChunkServer listener accept loop ending." agent_id=agent003 reason="context canceled"
time=2025-06-16T13:05:21.716+02:00 level=INFO msg="ChunkServer Start goroutine finished." agent_id=agent003
time=2025-06-16T13:05:21.716+02:00 level=INFO msg="Agent shutdown complete." agent_id=agent003
time=2025-06-16T13:05:21.716+02:00 level=INFO msg="Closed agent connection to orchestrator." agent_id=agent003 subcomponent=agent_orch_comms
