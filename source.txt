# ===== FILE: proto/qwrap.proto =====
syntax = "proto3";

package qwrap_proto;

import "google/protobuf/timestamp.proto";
import "google/protobuf/duration.proto";

option go_package = "qwrap/pkg/qwrappb"; // Adaptez si nécessaire

// ==================== Énumérations et Types Communs ====================

message StreamPurposeRequest {
  enum Purpose {
    PURPOSE_UNKNOWN = 0;
    TRANSFER_REQUEST = 1;           // Client veut un plan
    CLIENT_REPORT = 2;              // Client envoie des statuts de chunks
    REGISTER_FOR_PLAN_UPDATES = 3;  // Client veut écouter les UpdatedTransferPlan
    AGENT_REGISTRATION = 4;         // Agent veut s'enregistrer
    AGENT_HEARTBEAT = 5;            // Agent envoie un heartbeat
    GET_FILE_METADATA_REQUEST = 6;
    GET_FILE_METADATA_RESPONSE = 7;
    CHUNK_REQUEST = 8;
  }
  Purpose purpose = 1;
  string plan_id_context = 2; // Optionnel, ex: pour REGISTER_FOR_PLAN_UPDATES
}

enum AgentStatus {
  AGENT_STATUS_UNKNOWN = 0;
  AGENT_STATUS_REGISTERING = 1;
  AGENT_STATUS_IDLE = 2;
  AGENT_STATUS_ACTIVE = 3;
  AGENT_STATUS_DEGRADED = 4;
  AGENT_STATUS_UNAVAILABLE = 5;
  AGENT_STATUS_ERROR = 6;
}

enum ChecksumAlgorithm {
  CHECKSUM_ALGORITHM_UNKNOWN = 0;
  SHA256 = 1;
  SHA512 = 2;
  MD5 = 3;
  XXHASH64 = 4;
}

message ByteRange {
  int64 offset = 1;
  int64 length = 2;
}

message FileMetadata {
  string file_id = 1;
  int64 total_size = 2;
  ChecksumAlgorithm checksum_algorithm = 3;
  string checksum_value = 4;
  int64 chunk_size = 5; // Size of each chunk in bytes
  google.protobuf.Timestamp last_modified = 6;
  map<string, string> custom_attributes = 7;
}

enum TransferEvent {
  TRANSFER_EVENT_UNKNOWN = 0;
  DOWNLOAD_STARTED = 1;
  DOWNLOAD_SUCCESSFUL = 2;
  DOWNLOAD_FAILED_AGENT_UNREACHABLE = 3;
  DOWNLOAD_FAILED_TRANSFER_ERROR = 4;
  DOWNLOAD_FAILED_CHECKSUM_MISMATCH = 5;
  REASSIGNMENT_REQUESTED = 6;
}

enum ChunkErrorCode {
  CHUNK_ERROR_UNKNOWN = 0;
  CHUNK_NOT_FOUND = 1;
  CHUNK_NOT_AVAILABLE_YET = 2;
  AGENT_OVERLOADED = 3;
  INTERNAL_AGENT_ERROR = 4;
}

// ==================== Messages Orchestrateur <-> Agent ====================
message AgentRegistrationRequest {
  string agent_id = 1;
  string agent_address = 2;
  repeated string capabilities = 3;
  int64 max_concurrent_streams = 4;
}

message AgentRegistrationResponse {
  bool success = 1;
  string message = 2;
  google.protobuf.Duration heartbeat_interval = 3;
}

message AgentHeartbeat {
  string agent_id = 1;
  google.protobuf.Timestamp timestamp = 2;
  AgentStatus status = 3;
  float cpu_load_percent = 4;
  int64 memory_usage_bytes = 5;
  int64 available_bandwidth_bps = 6;
  int32 active_client_connections = 7;
  int32 active_chunk_transfers = 8;
  map<string, string> custom_metrics = 9;
}

message HeartbeatResponse {}

message GetFileMetadataRequest {
  string request_id = 1; // ID unique pour cette requête de métadonnées
  string file_id = 2;    // L'ID du fichier dont on veut les métadonnées
}

// Décrit une portion contiguë d'un fichier global détenue par un agent.
message FilePortionInfo {
  // Identifiant unique du fichier global auquel cette portion appartient.
  string global_file_id = 1;

  // Position de début de la portion dans le fichier global (en octets).
  int64 offset = 2;

  // Nombre total de chunks dans cette portion. Doit être >= 1.
  int64 num_chunks = 3;

  // Taille standard de chaque chunk dans cette portion (en octets).
  int64 chunk_size = 4;

  // Taille du dernier chunk, si elle est différente de chunk_size.
  // Si non spécifié (ou 0), tous les chunks ont la même taille.
  optional int64 last_chunk_size = 5;

  // Index global du premier chunk couvert par cette portion.
  uint64 chunk_index_start = 6;

  // Index global du dernier chunk couvert par cette portion.
  uint64 chunk_index_end = 7;

  // Chemin d'accès local au fichier/chunk sur le disque de l'agent.
  // Ce chemin est relatif au répertoire de données de base de l'agent.
  string path_on_disk = 8;
}

message GetFileMetadataResponse {
  string request_id = 1;      // Rappel de l'ID de la requête
  string agent_id = 2;        // ID de l'agent qui répond
  optional FileMetadata global_file_metadata = 3;  // Les métadonnées globales du fichier, si l'agent les connaît.
  bool found = 4;             // True si l'agent a des informations sur ce fichier (même sans détenir de portion)
  string error_message = 5;   // Message d'erreur si found est false ou si problème
  // Liste des portions du fichier que cet agent détient. Vide si aucune.
  repeated FilePortionInfo available_portions = 6;
}

// ==================== Messages Client <-> Orchestrateur ====================
message TransferOptions {
  int32 priority = 1;
  bool verify_chunk_checksums = 2;
}

message TransferRequest {
  string request_id = 1;
  repeated FileMetadata files_to_transfer = 2;
  TransferOptions options = 3;
}

message ChunkInfo {
  string file_id = 1;
  uint64 chunk_id = 2;
  ByteRange range = 3; // <<<<< MODIFIÉ ET ESSENTIEL
  ChecksumAlgorithm checksum_algorithm = 4;
  string checksum_value = 5;
}

message ChunkAssignment {
  ChunkInfo chunk_info = 1;
  string agent_id = 2;
  string agent_address = 3;
  google.protobuf.Timestamp estimated_availability_time = 4;
}

message TransferPlan {
  string plan_id = 1;
  string client_request_id = 2;
  repeated FileMetadata source_file_metadata = 3;
  int64 default_chunk_size = 4; // Peut-être moins pertinent si ChunkInfo.Range est toujours utilisé
  repeated ChunkAssignment chunk_assignments = 5;
  TransferOptions options = 6;
  string error_message = 7;
}

message ClientReport {
  string plan_id = 1;
  google.protobuf.Timestamp report_timestamp = 2;
  repeated ChunkTransferStatus chunk_statuses = 3;
}

message ChunkTransferStatus {
  ChunkInfo chunk_info = 1;
  TransferEvent event = 2;
  string agent_id = 3;
  string details = 4;
  google.protobuf.Duration transfer_duration = 5;
}

message UpdatedTransferPlan {
  string plan_id = 1;
  repeated ChunkAssignment new_or_updated_assignments = 2;
  repeated ChunkInfo invalidated_chunks = 3;
}

// Message du client pour s'abonner aux mises à jour de plan
message RegisterForPlanUpdatesRequest {
    string plan_id = 1;
}


// ==================== Messages Client <-> Agent ====================
message ChunkRequest {
  ChunkInfo chunk_info_requested = 1; // <<<<< MODIFIÉ: Le client envoie les détails complets.
}

message ChunkErrorResponse {
  string file_id = 1; // Peut être extrait de ChunkInfoRequested
  uint64 chunk_id = 2; // Peut être extrait de ChunkInfoRequested
  ChunkErrorCode error_code = 3;
  string message = 4;
}

# ===== FILE: qwrap/pkg/qwrappb/qwrap.pb.go =====
// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.36.6
// 	protoc        v6.30.2
// source: qwrap.proto

package qwrappb

import (
	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	protoimpl "google.golang.org/protobuf/runtime/protoimpl"
	durationpb "google.golang.org/protobuf/types/known/durationpb"
	timestamppb "google.golang.org/protobuf/types/known/timestamppb"
	reflect "reflect"
	sync "sync"
	unsafe "unsafe"
)

const (
	// Verify that this generated code is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
	// Verify that runtime/protoimpl is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

type AgentStatus int32

const (
	AgentStatus_AGENT_STATUS_UNKNOWN     AgentStatus = 0
	AgentStatus_AGENT_STATUS_REGISTERING AgentStatus = 1
	AgentStatus_AGENT_STATUS_IDLE        AgentStatus = 2
	AgentStatus_AGENT_STATUS_ACTIVE      AgentStatus = 3
	AgentStatus_AGENT_STATUS_DEGRADED    AgentStatus = 4
	AgentStatus_AGENT_STATUS_UNAVAILABLE AgentStatus = 5
	AgentStatus_AGENT_STATUS_ERROR       AgentStatus = 6
)

// Enum value maps for AgentStatus.
var (
	AgentStatus_name = map[int32]string{
		0: "AGENT_STATUS_UNKNOWN",
		1: "AGENT_STATUS_REGISTERING",
		2: "AGENT_STATUS_IDLE",
		3: "AGENT_STATUS_ACTIVE",
		4: "AGENT_STATUS_DEGRADED",
		5: "AGENT_STATUS_UNAVAILABLE",
		6: "AGENT_STATUS_ERROR",
	}
	AgentStatus_value = map[string]int32{
		"AGENT_STATUS_UNKNOWN":     0,
		"AGENT_STATUS_REGISTERING": 1,
		"AGENT_STATUS_IDLE":        2,
		"AGENT_STATUS_ACTIVE":      3,
		"AGENT_STATUS_DEGRADED":    4,
		"AGENT_STATUS_UNAVAILABLE": 5,
		"AGENT_STATUS_ERROR":       6,
	}
)

func (x AgentStatus) Enum() *AgentStatus {
	p := new(AgentStatus)
	*p = x
	return p
}

func (x AgentStatus) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (AgentStatus) Descriptor() protoreflect.EnumDescriptor {
	return file_qwrap_proto_enumTypes[0].Descriptor()
}

func (AgentStatus) Type() protoreflect.EnumType {
	return &file_qwrap_proto_enumTypes[0]
}

func (x AgentStatus) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use AgentStatus.Descriptor instead.
func (AgentStatus) EnumDescriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{0}
}

type ChecksumAlgorithm int32

const (
	ChecksumAlgorithm_CHECKSUM_ALGORITHM_UNKNOWN ChecksumAlgorithm = 0
	ChecksumAlgorithm_SHA256                     ChecksumAlgorithm = 1
	ChecksumAlgorithm_SHA512                     ChecksumAlgorithm = 2
	ChecksumAlgorithm_MD5                        ChecksumAlgorithm = 3
	ChecksumAlgorithm_XXHASH64                   ChecksumAlgorithm = 4
)

// Enum value maps for ChecksumAlgorithm.
var (
	ChecksumAlgorithm_name = map[int32]string{
		0: "CHECKSUM_ALGORITHM_UNKNOWN",
		1: "SHA256",
		2: "SHA512",
		3: "MD5",
		4: "XXHASH64",
	}
	ChecksumAlgorithm_value = map[string]int32{
		"CHECKSUM_ALGORITHM_UNKNOWN": 0,
		"SHA256":                     1,
		"SHA512":                     2,
		"MD5":                        3,
		"XXHASH64":                   4,
	}
)

func (x ChecksumAlgorithm) Enum() *ChecksumAlgorithm {
	p := new(ChecksumAlgorithm)
	*p = x
	return p
}

func (x ChecksumAlgorithm) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ChecksumAlgorithm) Descriptor() protoreflect.EnumDescriptor {
	return file_qwrap_proto_enumTypes[1].Descriptor()
}

func (ChecksumAlgorithm) Type() protoreflect.EnumType {
	return &file_qwrap_proto_enumTypes[1]
}

func (x ChecksumAlgorithm) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ChecksumAlgorithm.Descriptor instead.
func (ChecksumAlgorithm) EnumDescriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{1}
}

type TransferEvent int32

const (
	TransferEvent_TRANSFER_EVENT_UNKNOWN            TransferEvent = 0
	TransferEvent_DOWNLOAD_STARTED                  TransferEvent = 1
	TransferEvent_DOWNLOAD_SUCCESSFUL               TransferEvent = 2
	TransferEvent_DOWNLOAD_FAILED_AGENT_UNREACHABLE TransferEvent = 3
	TransferEvent_DOWNLOAD_FAILED_TRANSFER_ERROR    TransferEvent = 4
	TransferEvent_DOWNLOAD_FAILED_CHECKSUM_MISMATCH TransferEvent = 5
	TransferEvent_REASSIGNMENT_REQUESTED            TransferEvent = 6
)

// Enum value maps for TransferEvent.
var (
	TransferEvent_name = map[int32]string{
		0: "TRANSFER_EVENT_UNKNOWN",
		1: "DOWNLOAD_STARTED",
		2: "DOWNLOAD_SUCCESSFUL",
		3: "DOWNLOAD_FAILED_AGENT_UNREACHABLE",
		4: "DOWNLOAD_FAILED_TRANSFER_ERROR",
		5: "DOWNLOAD_FAILED_CHECKSUM_MISMATCH",
		6: "REASSIGNMENT_REQUESTED",
	}
	TransferEvent_value = map[string]int32{
		"TRANSFER_EVENT_UNKNOWN":            0,
		"DOWNLOAD_STARTED":                  1,
		"DOWNLOAD_SUCCESSFUL":               2,
		"DOWNLOAD_FAILED_AGENT_UNREACHABLE": 3,
		"DOWNLOAD_FAILED_TRANSFER_ERROR":    4,
		"DOWNLOAD_FAILED_CHECKSUM_MISMATCH": 5,
		"REASSIGNMENT_REQUESTED":            6,
	}
)

func (x TransferEvent) Enum() *TransferEvent {
	p := new(TransferEvent)
	*p = x
	return p
}

func (x TransferEvent) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (TransferEvent) Descriptor() protoreflect.EnumDescriptor {
	return file_qwrap_proto_enumTypes[2].Descriptor()
}

func (TransferEvent) Type() protoreflect.EnumType {
	return &file_qwrap_proto_enumTypes[2]
}

func (x TransferEvent) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use TransferEvent.Descriptor instead.
func (TransferEvent) EnumDescriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{2}
}

type ChunkErrorCode int32

const (
	ChunkErrorCode_CHUNK_ERROR_UNKNOWN     ChunkErrorCode = 0
	ChunkErrorCode_CHUNK_NOT_FOUND         ChunkErrorCode = 1
	ChunkErrorCode_CHUNK_NOT_AVAILABLE_YET ChunkErrorCode = 2
	ChunkErrorCode_AGENT_OVERLOADED        ChunkErrorCode = 3
	ChunkErrorCode_INTERNAL_AGENT_ERROR    ChunkErrorCode = 4
)

// Enum value maps for ChunkErrorCode.
var (
	ChunkErrorCode_name = map[int32]string{
		0: "CHUNK_ERROR_UNKNOWN",
		1: "CHUNK_NOT_FOUND",
		2: "CHUNK_NOT_AVAILABLE_YET",
		3: "AGENT_OVERLOADED",
		4: "INTERNAL_AGENT_ERROR",
	}
	ChunkErrorCode_value = map[string]int32{
		"CHUNK_ERROR_UNKNOWN":     0,
		"CHUNK_NOT_FOUND":         1,
		"CHUNK_NOT_AVAILABLE_YET": 2,
		"AGENT_OVERLOADED":        3,
		"INTERNAL_AGENT_ERROR":    4,
	}
)

func (x ChunkErrorCode) Enum() *ChunkErrorCode {
	p := new(ChunkErrorCode)
	*p = x
	return p
}

func (x ChunkErrorCode) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ChunkErrorCode) Descriptor() protoreflect.EnumDescriptor {
	return file_qwrap_proto_enumTypes[3].Descriptor()
}

func (ChunkErrorCode) Type() protoreflect.EnumType {
	return &file_qwrap_proto_enumTypes[3]
}

func (x ChunkErrorCode) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ChunkErrorCode.Descriptor instead.
func (ChunkErrorCode) EnumDescriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{3}
}

type StreamPurposeRequest_Purpose int32

const (
	StreamPurposeRequest_PURPOSE_UNKNOWN            StreamPurposeRequest_Purpose = 0
	StreamPurposeRequest_TRANSFER_REQUEST           StreamPurposeRequest_Purpose = 1 // Client veut un plan
	StreamPurposeRequest_CLIENT_REPORT              StreamPurposeRequest_Purpose = 2 // Client envoie des statuts de chunks
	StreamPurposeRequest_REGISTER_FOR_PLAN_UPDATES  StreamPurposeRequest_Purpose = 3 // Client veut écouter les UpdatedTransferPlan
	StreamPurposeRequest_AGENT_REGISTRATION         StreamPurposeRequest_Purpose = 4 // Agent veut s'enregistrer
	StreamPurposeRequest_AGENT_HEARTBEAT            StreamPurposeRequest_Purpose = 5 // Agent envoie un heartbeat
	StreamPurposeRequest_GET_FILE_METADATA_REQUEST  StreamPurposeRequest_Purpose = 6
	StreamPurposeRequest_GET_FILE_METADATA_RESPONSE StreamPurposeRequest_Purpose = 7
	StreamPurposeRequest_CHUNK_REQUEST              StreamPurposeRequest_Purpose = 8
)

// Enum value maps for StreamPurposeRequest_Purpose.
var (
	StreamPurposeRequest_Purpose_name = map[int32]string{
		0: "PURPOSE_UNKNOWN",
		1: "TRANSFER_REQUEST",
		2: "CLIENT_REPORT",
		3: "REGISTER_FOR_PLAN_UPDATES",
		4: "AGENT_REGISTRATION",
		5: "AGENT_HEARTBEAT",
		6: "GET_FILE_METADATA_REQUEST",
		7: "GET_FILE_METADATA_RESPONSE",
		8: "CHUNK_REQUEST",
	}
	StreamPurposeRequest_Purpose_value = map[string]int32{
		"PURPOSE_UNKNOWN":            0,
		"TRANSFER_REQUEST":           1,
		"CLIENT_REPORT":              2,
		"REGISTER_FOR_PLAN_UPDATES":  3,
		"AGENT_REGISTRATION":         4,
		"AGENT_HEARTBEAT":            5,
		"GET_FILE_METADATA_REQUEST":  6,
		"GET_FILE_METADATA_RESPONSE": 7,
		"CHUNK_REQUEST":              8,
	}
)

func (x StreamPurposeRequest_Purpose) Enum() *StreamPurposeRequest_Purpose {
	p := new(StreamPurposeRequest_Purpose)
	*p = x
	return p
}

func (x StreamPurposeRequest_Purpose) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (StreamPurposeRequest_Purpose) Descriptor() protoreflect.EnumDescriptor {
	return file_qwrap_proto_enumTypes[4].Descriptor()
}

func (StreamPurposeRequest_Purpose) Type() protoreflect.EnumType {
	return &file_qwrap_proto_enumTypes[4]
}

func (x StreamPurposeRequest_Purpose) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use StreamPurposeRequest_Purpose.Descriptor instead.
func (StreamPurposeRequest_Purpose) EnumDescriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{0, 0}
}

type StreamPurposeRequest struct {
	state         protoimpl.MessageState       `protogen:"open.v1"`
	Purpose       StreamPurposeRequest_Purpose `protobuf:"varint,1,opt,name=purpose,proto3,enum=qwrap_proto.StreamPurposeRequest_Purpose" json:"purpose,omitempty"`
	PlanIdContext string                       `protobuf:"bytes,2,opt,name=plan_id_context,json=planIdContext,proto3" json:"plan_id_context,omitempty"` // Optionnel, ex: pour REGISTER_FOR_PLAN_UPDATES
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *StreamPurposeRequest) Reset() {
	*x = StreamPurposeRequest{}
	mi := &file_qwrap_proto_msgTypes[0]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *StreamPurposeRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*StreamPurposeRequest) ProtoMessage() {}

func (x *StreamPurposeRequest) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[0]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use StreamPurposeRequest.ProtoReflect.Descriptor instead.
func (*StreamPurposeRequest) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{0}
}

func (x *StreamPurposeRequest) GetPurpose() StreamPurposeRequest_Purpose {
	if x != nil {
		return x.Purpose
	}
	return StreamPurposeRequest_PURPOSE_UNKNOWN
}

func (x *StreamPurposeRequest) GetPlanIdContext() string {
	if x != nil {
		return x.PlanIdContext
	}
	return ""
}

type ByteRange struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Offset        int64                  `protobuf:"varint,1,opt,name=offset,proto3" json:"offset,omitempty"`
	Length        int64                  `protobuf:"varint,2,opt,name=length,proto3" json:"length,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ByteRange) Reset() {
	*x = ByteRange{}
	mi := &file_qwrap_proto_msgTypes[1]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ByteRange) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ByteRange) ProtoMessage() {}

func (x *ByteRange) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[1]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ByteRange.ProtoReflect.Descriptor instead.
func (*ByteRange) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{1}
}

func (x *ByteRange) GetOffset() int64 {
	if x != nil {
		return x.Offset
	}
	return 0
}

func (x *ByteRange) GetLength() int64 {
	if x != nil {
		return x.Length
	}
	return 0
}

type FileMetadata struct {
	state             protoimpl.MessageState `protogen:"open.v1"`
	FileId            string                 `protobuf:"bytes,1,opt,name=file_id,json=fileId,proto3" json:"file_id,omitempty"`
	TotalSize         int64                  `protobuf:"varint,2,opt,name=total_size,json=totalSize,proto3" json:"total_size,omitempty"`
	ChecksumAlgorithm ChecksumAlgorithm      `protobuf:"varint,3,opt,name=checksum_algorithm,json=checksumAlgorithm,proto3,enum=qwrap_proto.ChecksumAlgorithm" json:"checksum_algorithm,omitempty"`
	ChecksumValue     string                 `protobuf:"bytes,4,opt,name=checksum_value,json=checksumValue,proto3" json:"checksum_value,omitempty"`
	LastModified      *timestamppb.Timestamp `protobuf:"bytes,5,opt,name=last_modified,json=lastModified,proto3" json:"last_modified,omitempty"`
	CustomAttributes  map[string]string      `protobuf:"bytes,6,rep,name=custom_attributes,json=customAttributes,proto3" json:"custom_attributes,omitempty" protobuf_key:"bytes,1,opt,name=key" protobuf_val:"bytes,2,opt,name=value"`
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *FileMetadata) Reset() {
	*x = FileMetadata{}
	mi := &file_qwrap_proto_msgTypes[2]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *FileMetadata) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*FileMetadata) ProtoMessage() {}

func (x *FileMetadata) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[2]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use FileMetadata.ProtoReflect.Descriptor instead.
func (*FileMetadata) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{2}
}

func (x *FileMetadata) GetFileId() string {
	if x != nil {
		return x.FileId
	}
	return ""
}

func (x *FileMetadata) GetTotalSize() int64 {
	if x != nil {
		return x.TotalSize
	}
	return 0
}

func (x *FileMetadata) GetChecksumAlgorithm() ChecksumAlgorithm {
	if x != nil {
		return x.ChecksumAlgorithm
	}
	return ChecksumAlgorithm_CHECKSUM_ALGORITHM_UNKNOWN
}

func (x *FileMetadata) GetChecksumValue() string {
	if x != nil {
		return x.ChecksumValue
	}
	return ""
}

func (x *FileMetadata) GetLastModified() *timestamppb.Timestamp {
	if x != nil {
		return x.LastModified
	}
	return nil
}

func (x *FileMetadata) GetCustomAttributes() map[string]string {
	if x != nil {
		return x.CustomAttributes
	}
	return nil
}

// ==================== Messages Orchestrateur <-> Agent ====================
type AgentRegistrationRequest struct {
	state                protoimpl.MessageState `protogen:"open.v1"`
	AgentId              string                 `protobuf:"bytes,1,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`
	AgentAddress         string                 `protobuf:"bytes,2,opt,name=agent_address,json=agentAddress,proto3" json:"agent_address,omitempty"`
	Capabilities         []string               `protobuf:"bytes,3,rep,name=capabilities,proto3" json:"capabilities,omitempty"`
	MaxConcurrentStreams int64                  `protobuf:"varint,4,opt,name=max_concurrent_streams,json=maxConcurrentStreams,proto3" json:"max_concurrent_streams,omitempty"`
	unknownFields        protoimpl.UnknownFields
	sizeCache            protoimpl.SizeCache
}

func (x *AgentRegistrationRequest) Reset() {
	*x = AgentRegistrationRequest{}
	mi := &file_qwrap_proto_msgTypes[3]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *AgentRegistrationRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*AgentRegistrationRequest) ProtoMessage() {}

func (x *AgentRegistrationRequest) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[3]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use AgentRegistrationRequest.ProtoReflect.Descriptor instead.
func (*AgentRegistrationRequest) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{3}
}

func (x *AgentRegistrationRequest) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *AgentRegistrationRequest) GetAgentAddress() string {
	if x != nil {
		return x.AgentAddress
	}
	return ""
}

func (x *AgentRegistrationRequest) GetCapabilities() []string {
	if x != nil {
		return x.Capabilities
	}
	return nil
}

func (x *AgentRegistrationRequest) GetMaxConcurrentStreams() int64 {
	if x != nil {
		return x.MaxConcurrentStreams
	}
	return 0
}

type AgentRegistrationResponse struct {
	state             protoimpl.MessageState `protogen:"open.v1"`
	Success           bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	Message           string                 `protobuf:"bytes,2,opt,name=message,proto3" json:"message,omitempty"`
	HeartbeatInterval *durationpb.Duration   `protobuf:"bytes,3,opt,name=heartbeat_interval,json=heartbeatInterval,proto3" json:"heartbeat_interval,omitempty"`
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *AgentRegistrationResponse) Reset() {
	*x = AgentRegistrationResponse{}
	mi := &file_qwrap_proto_msgTypes[4]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *AgentRegistrationResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*AgentRegistrationResponse) ProtoMessage() {}

func (x *AgentRegistrationResponse) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[4]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use AgentRegistrationResponse.ProtoReflect.Descriptor instead.
func (*AgentRegistrationResponse) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{4}
}

func (x *AgentRegistrationResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *AgentRegistrationResponse) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

func (x *AgentRegistrationResponse) GetHeartbeatInterval() *durationpb.Duration {
	if x != nil {
		return x.HeartbeatInterval
	}
	return nil
}

type AgentHeartbeat struct {
	state                   protoimpl.MessageState `protogen:"open.v1"`
	AgentId                 string                 `protobuf:"bytes,1,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`
	Timestamp               *timestamppb.Timestamp `protobuf:"bytes,2,opt,name=timestamp,proto3" json:"timestamp,omitempty"`
	Status                  AgentStatus            `protobuf:"varint,3,opt,name=status,proto3,enum=qwrap_proto.AgentStatus" json:"status,omitempty"`
	CpuLoadPercent          float32                `protobuf:"fixed32,4,opt,name=cpu_load_percent,json=cpuLoadPercent,proto3" json:"cpu_load_percent,omitempty"`
	MemoryUsageBytes        int64                  `protobuf:"varint,5,opt,name=memory_usage_bytes,json=memoryUsageBytes,proto3" json:"memory_usage_bytes,omitempty"`
	AvailableBandwidthBps   int64                  `protobuf:"varint,6,opt,name=available_bandwidth_bps,json=availableBandwidthBps,proto3" json:"available_bandwidth_bps,omitempty"`
	ActiveClientConnections int32                  `protobuf:"varint,7,opt,name=active_client_connections,json=activeClientConnections,proto3" json:"active_client_connections,omitempty"`
	ActiveChunkTransfers    int32                  `protobuf:"varint,8,opt,name=active_chunk_transfers,json=activeChunkTransfers,proto3" json:"active_chunk_transfers,omitempty"`
	CustomMetrics           map[string]string      `protobuf:"bytes,9,rep,name=custom_metrics,json=customMetrics,proto3" json:"custom_metrics,omitempty" protobuf_key:"bytes,1,opt,name=key" protobuf_val:"bytes,2,opt,name=value"`
	unknownFields           protoimpl.UnknownFields
	sizeCache               protoimpl.SizeCache
}

func (x *AgentHeartbeat) Reset() {
	*x = AgentHeartbeat{}
	mi := &file_qwrap_proto_msgTypes[5]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *AgentHeartbeat) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*AgentHeartbeat) ProtoMessage() {}

func (x *AgentHeartbeat) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[5]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use AgentHeartbeat.ProtoReflect.Descriptor instead.
func (*AgentHeartbeat) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{5}
}

func (x *AgentHeartbeat) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *AgentHeartbeat) GetTimestamp() *timestamppb.Timestamp {
	if x != nil {
		return x.Timestamp
	}
	return nil
}

func (x *AgentHeartbeat) GetStatus() AgentStatus {
	if x != nil {
		return x.Status
	}
	return AgentStatus_AGENT_STATUS_UNKNOWN
}

func (x *AgentHeartbeat) GetCpuLoadPercent() float32 {
	if x != nil {
		return x.CpuLoadPercent
	}
	return 0
}

func (x *AgentHeartbeat) GetMemoryUsageBytes() int64 {
	if x != nil {
		return x.MemoryUsageBytes
	}
	return 0
}

func (x *AgentHeartbeat) GetAvailableBandwidthBps() int64 {
	if x != nil {
		return x.AvailableBandwidthBps
	}
	return 0
}

func (x *AgentHeartbeat) GetActiveClientConnections() int32 {
	if x != nil {
		return x.ActiveClientConnections
	}
	return 0
}

func (x *AgentHeartbeat) GetActiveChunkTransfers() int32 {
	if x != nil {
		return x.ActiveChunkTransfers
	}
	return 0
}

func (x *AgentHeartbeat) GetCustomMetrics() map[string]string {
	if x != nil {
		return x.CustomMetrics
	}
	return nil
}

type HeartbeatResponse struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *HeartbeatResponse) Reset() {
	*x = HeartbeatResponse{}
	mi := &file_qwrap_proto_msgTypes[6]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HeartbeatResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HeartbeatResponse) ProtoMessage() {}

func (x *HeartbeatResponse) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[6]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HeartbeatResponse.ProtoReflect.Descriptor instead.
func (*HeartbeatResponse) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{6}
}

type GetFileMetadataRequest struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	RequestId     string                 `protobuf:"bytes,1,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"` // ID unique pour cette requête de métadonnées
	FileId        string                 `protobuf:"bytes,2,opt,name=file_id,json=fileId,proto3" json:"file_id,omitempty"`          // L'ID du fichier dont on veut les métadonnées
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *GetFileMetadataRequest) Reset() {
	*x = GetFileMetadataRequest{}
	mi := &file_qwrap_proto_msgTypes[7]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *GetFileMetadataRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*GetFileMetadataRequest) ProtoMessage() {}

func (x *GetFileMetadataRequest) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[7]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use GetFileMetadataRequest.ProtoReflect.Descriptor instead.
func (*GetFileMetadataRequest) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{7}
}

func (x *GetFileMetadataRequest) GetRequestId() string {
	if x != nil {
		return x.RequestId
	}
	return ""
}

func (x *GetFileMetadataRequest) GetFileId() string {
	if x != nil {
		return x.FileId
	}
	return ""
}

// Décrit une portion contiguë d'un fichier global détenue par un agent.
type FilePortionInfo struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Identifiant unique du fichier global auquel cette portion appartient.
	GlobalFileId string `protobuf:"bytes,1,opt,name=global_file_id,json=globalFileId,proto3" json:"global_file_id,omitempty"`
	// Position de début de la portion dans le fichier global (en octets).
	Offset int64 `protobuf:"varint,2,opt,name=offset,proto3" json:"offset,omitempty"`
	// Nombre total de chunks dans cette portion. Doit être >= 1.
	NumChunks int64 `protobuf:"varint,3,opt,name=num_chunks,json=numChunks,proto3" json:"num_chunks,omitempty"`
	// Taille standard de chaque chunk dans cette portion (en octets).
	ChunkSize int64 `protobuf:"varint,4,opt,name=chunk_size,json=chunkSize,proto3" json:"chunk_size,omitempty"`
	// Taille du dernier chunk, si elle est différente de chunk_size.
	// Si non spécifié (ou 0), tous les chunks ont la même taille.
	LastChunkSize *int64 `protobuf:"varint,5,opt,name=last_chunk_size,json=lastChunkSize,proto3,oneof" json:"last_chunk_size,omitempty"`
	// Index global du premier chunk couvert par cette portion.
	ChunkIndexStart uint64 `protobuf:"varint,6,opt,name=chunk_index_start,json=chunkIndexStart,proto3" json:"chunk_index_start,omitempty"`
	// Index global du dernier chunk couvert par cette portion.
	ChunkIndexEnd uint64 `protobuf:"varint,7,opt,name=chunk_index_end,json=chunkIndexEnd,proto3" json:"chunk_index_end,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *FilePortionInfo) Reset() {
	*x = FilePortionInfo{}
	mi := &file_qwrap_proto_msgTypes[8]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *FilePortionInfo) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*FilePortionInfo) ProtoMessage() {}

func (x *FilePortionInfo) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[8]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use FilePortionInfo.ProtoReflect.Descriptor instead.
func (*FilePortionInfo) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{8}
}

func (x *FilePortionInfo) GetGlobalFileId() string {
	if x != nil {
		return x.GlobalFileId
	}
	return ""
}

func (x *FilePortionInfo) GetOffset() int64 {
	if x != nil {
		return x.Offset
	}
	return 0
}

func (x *FilePortionInfo) GetNumChunks() int64 {
	if x != nil {
		return x.NumChunks
	}
	return 0
}

func (x *FilePortionInfo) GetChunkSize() int64 {
	if x != nil {
		return x.ChunkSize
	}
	return 0
}

func (x *FilePortionInfo) GetLastChunkSize() int64 {
	if x != nil && x.LastChunkSize != nil {
		return *x.LastChunkSize
	}
	return 0
}

func (x *FilePortionInfo) GetChunkIndexStart() uint64 {
	if x != nil {
		return x.ChunkIndexStart
	}
	return 0
}

func (x *FilePortionInfo) GetChunkIndexEnd() uint64 {
	if x != nil {
		return x.ChunkIndexEnd
	}
	return 0
}

type GetFileMetadataResponse struct {
	state              protoimpl.MessageState `protogen:"open.v1"`
	RequestId          string                 `protobuf:"bytes,1,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"`                                    // Rappel de l'ID de la requête
	AgentId            string                 `protobuf:"bytes,2,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`                                          // ID de l'agent qui répond
	GlobalFileMetadata *FileMetadata          `protobuf:"bytes,3,opt,name=global_file_metadata,json=globalFileMetadata,proto3,oneof" json:"global_file_metadata,omitempty"` // Les métadonnées globales du fichier, si l'agent les connaît.
	Found              bool                   `protobuf:"varint,4,opt,name=found,proto3" json:"found,omitempty"`                                                            // True si l'agent a des informations sur ce fichier (même sans détenir de portion)
	ErrorMessage       string                 `protobuf:"bytes,5,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`                           // Message d'erreur si found est false ou si problème
	// Liste des portions du fichier que cet agent détient. Vide si aucune.
	AvailablePortions []*FilePortionInfo `protobuf:"bytes,6,rep,name=available_portions,json=availablePortions,proto3" json:"available_portions,omitempty"`
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *GetFileMetadataResponse) Reset() {
	*x = GetFileMetadataResponse{}
	mi := &file_qwrap_proto_msgTypes[9]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *GetFileMetadataResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*GetFileMetadataResponse) ProtoMessage() {}

func (x *GetFileMetadataResponse) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[9]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use GetFileMetadataResponse.ProtoReflect.Descriptor instead.
func (*GetFileMetadataResponse) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{9}
}

func (x *GetFileMetadataResponse) GetRequestId() string {
	if x != nil {
		return x.RequestId
	}
	return ""
}

func (x *GetFileMetadataResponse) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *GetFileMetadataResponse) GetGlobalFileMetadata() *FileMetadata {
	if x != nil {
		return x.GlobalFileMetadata
	}
	return nil
}

func (x *GetFileMetadataResponse) GetFound() bool {
	if x != nil {
		return x.Found
	}
	return false
}

func (x *GetFileMetadataResponse) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

func (x *GetFileMetadataResponse) GetAvailablePortions() []*FilePortionInfo {
	if x != nil {
		return x.AvailablePortions
	}
	return nil
}

// ==================== Messages Client <-> Orchestrateur ====================
type TransferOptions struct {
	state                protoimpl.MessageState `protogen:"open.v1"`
	Priority             int32                  `protobuf:"varint,1,opt,name=priority,proto3" json:"priority,omitempty"`
	VerifyChunkChecksums bool                   `protobuf:"varint,2,opt,name=verify_chunk_checksums,json=verifyChunkChecksums,proto3" json:"verify_chunk_checksums,omitempty"`
	unknownFields        protoimpl.UnknownFields
	sizeCache            protoimpl.SizeCache
}

func (x *TransferOptions) Reset() {
	*x = TransferOptions{}
	mi := &file_qwrap_proto_msgTypes[10]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *TransferOptions) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*TransferOptions) ProtoMessage() {}

func (x *TransferOptions) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[10]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use TransferOptions.ProtoReflect.Descriptor instead.
func (*TransferOptions) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{10}
}

func (x *TransferOptions) GetPriority() int32 {
	if x != nil {
		return x.Priority
	}
	return 0
}

func (x *TransferOptions) GetVerifyChunkChecksums() bool {
	if x != nil {
		return x.VerifyChunkChecksums
	}
	return false
}

type TransferRequest struct {
	state           protoimpl.MessageState `protogen:"open.v1"`
	RequestId       string                 `protobuf:"bytes,1,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"`
	FilesToTransfer []*FileMetadata        `protobuf:"bytes,2,rep,name=files_to_transfer,json=filesToTransfer,proto3" json:"files_to_transfer,omitempty"`
	Options         *TransferOptions       `protobuf:"bytes,3,opt,name=options,proto3" json:"options,omitempty"`
	unknownFields   protoimpl.UnknownFields
	sizeCache       protoimpl.SizeCache
}

func (x *TransferRequest) Reset() {
	*x = TransferRequest{}
	mi := &file_qwrap_proto_msgTypes[11]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *TransferRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*TransferRequest) ProtoMessage() {}

func (x *TransferRequest) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[11]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use TransferRequest.ProtoReflect.Descriptor instead.
func (*TransferRequest) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{11}
}

func (x *TransferRequest) GetRequestId() string {
	if x != nil {
		return x.RequestId
	}
	return ""
}

func (x *TransferRequest) GetFilesToTransfer() []*FileMetadata {
	if x != nil {
		return x.FilesToTransfer
	}
	return nil
}

func (x *TransferRequest) GetOptions() *TransferOptions {
	if x != nil {
		return x.Options
	}
	return nil
}

type ChunkInfo struct {
	state             protoimpl.MessageState `protogen:"open.v1"`
	FileId            string                 `protobuf:"bytes,1,opt,name=file_id,json=fileId,proto3" json:"file_id,omitempty"`
	ChunkId           uint64                 `protobuf:"varint,2,opt,name=chunk_id,json=chunkId,proto3" json:"chunk_id,omitempty"`
	Range             *ByteRange             `protobuf:"bytes,3,opt,name=range,proto3" json:"range,omitempty"` // <<<<< MODIFIÉ ET ESSENTIEL
	ChecksumAlgorithm ChecksumAlgorithm      `protobuf:"varint,4,opt,name=checksum_algorithm,json=checksumAlgorithm,proto3,enum=qwrap_proto.ChecksumAlgorithm" json:"checksum_algorithm,omitempty"`
	ChecksumValue     string                 `protobuf:"bytes,5,opt,name=checksum_value,json=checksumValue,proto3" json:"checksum_value,omitempty"`
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *ChunkInfo) Reset() {
	*x = ChunkInfo{}
	mi := &file_qwrap_proto_msgTypes[12]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkInfo) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkInfo) ProtoMessage() {}

func (x *ChunkInfo) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[12]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkInfo.ProtoReflect.Descriptor instead.
func (*ChunkInfo) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{12}
}

func (x *ChunkInfo) GetFileId() string {
	if x != nil {
		return x.FileId
	}
	return ""
}

func (x *ChunkInfo) GetChunkId() uint64 {
	if x != nil {
		return x.ChunkId
	}
	return 0
}

func (x *ChunkInfo) GetRange() *ByteRange {
	if x != nil {
		return x.Range
	}
	return nil
}

func (x *ChunkInfo) GetChecksumAlgorithm() ChecksumAlgorithm {
	if x != nil {
		return x.ChecksumAlgorithm
	}
	return ChecksumAlgorithm_CHECKSUM_ALGORITHM_UNKNOWN
}

func (x *ChunkInfo) GetChecksumValue() string {
	if x != nil {
		return x.ChecksumValue
	}
	return ""
}

type ChunkAssignment struct {
	state                     protoimpl.MessageState `protogen:"open.v1"`
	ChunkInfo                 *ChunkInfo             `protobuf:"bytes,1,opt,name=chunk_info,json=chunkInfo,proto3" json:"chunk_info,omitempty"`
	AgentId                   string                 `protobuf:"bytes,2,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`
	AgentAddress              string                 `protobuf:"bytes,3,opt,name=agent_address,json=agentAddress,proto3" json:"agent_address,omitempty"`
	EstimatedAvailabilityTime *timestamppb.Timestamp `protobuf:"bytes,4,opt,name=estimated_availability_time,json=estimatedAvailabilityTime,proto3" json:"estimated_availability_time,omitempty"`
	unknownFields             protoimpl.UnknownFields
	sizeCache                 protoimpl.SizeCache
}

func (x *ChunkAssignment) Reset() {
	*x = ChunkAssignment{}
	mi := &file_qwrap_proto_msgTypes[13]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkAssignment) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkAssignment) ProtoMessage() {}

func (x *ChunkAssignment) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[13]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkAssignment.ProtoReflect.Descriptor instead.
func (*ChunkAssignment) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{13}
}

func (x *ChunkAssignment) GetChunkInfo() *ChunkInfo {
	if x != nil {
		return x.ChunkInfo
	}
	return nil
}

func (x *ChunkAssignment) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *ChunkAssignment) GetAgentAddress() string {
	if x != nil {
		return x.AgentAddress
	}
	return ""
}

func (x *ChunkAssignment) GetEstimatedAvailabilityTime() *timestamppb.Timestamp {
	if x != nil {
		return x.EstimatedAvailabilityTime
	}
	return nil
}

type TransferPlan struct {
	state              protoimpl.MessageState `protogen:"open.v1"`
	PlanId             string                 `protobuf:"bytes,1,opt,name=plan_id,json=planId,proto3" json:"plan_id,omitempty"`
	ClientRequestId    string                 `protobuf:"bytes,2,opt,name=client_request_id,json=clientRequestId,proto3" json:"client_request_id,omitempty"`
	SourceFileMetadata []*FileMetadata        `protobuf:"bytes,3,rep,name=source_file_metadata,json=sourceFileMetadata,proto3" json:"source_file_metadata,omitempty"`
	DefaultChunkSize   int64                  `protobuf:"varint,4,opt,name=default_chunk_size,json=defaultChunkSize,proto3" json:"default_chunk_size,omitempty"` // Peut-être moins pertinent si ChunkInfo.Range est toujours utilisé
	ChunkAssignments   []*ChunkAssignment     `protobuf:"bytes,5,rep,name=chunk_assignments,json=chunkAssignments,proto3" json:"chunk_assignments,omitempty"`
	Options            *TransferOptions       `protobuf:"bytes,6,opt,name=options,proto3" json:"options,omitempty"`
	ErrorMessage       string                 `protobuf:"bytes,7,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	unknownFields      protoimpl.UnknownFields
	sizeCache          protoimpl.SizeCache
}

func (x *TransferPlan) Reset() {
	*x = TransferPlan{}
	mi := &file_qwrap_proto_msgTypes[14]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *TransferPlan) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*TransferPlan) ProtoMessage() {}

func (x *TransferPlan) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[14]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use TransferPlan.ProtoReflect.Descriptor instead.
func (*TransferPlan) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{14}
}

func (x *TransferPlan) GetPlanId() string {
	if x != nil {
		return x.PlanId
	}
	return ""
}

func (x *TransferPlan) GetClientRequestId() string {
	if x != nil {
		return x.ClientRequestId
	}
	return ""
}

func (x *TransferPlan) GetSourceFileMetadata() []*FileMetadata {
	if x != nil {
		return x.SourceFileMetadata
	}
	return nil
}

func (x *TransferPlan) GetDefaultChunkSize() int64 {
	if x != nil {
		return x.DefaultChunkSize
	}
	return 0
}

func (x *TransferPlan) GetChunkAssignments() []*ChunkAssignment {
	if x != nil {
		return x.ChunkAssignments
	}
	return nil
}

func (x *TransferPlan) GetOptions() *TransferOptions {
	if x != nil {
		return x.Options
	}
	return nil
}

func (x *TransferPlan) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

type ClientReport struct {
	state           protoimpl.MessageState `protogen:"open.v1"`
	PlanId          string                 `protobuf:"bytes,1,opt,name=plan_id,json=planId,proto3" json:"plan_id,omitempty"`
	ReportTimestamp *timestamppb.Timestamp `protobuf:"bytes,2,opt,name=report_timestamp,json=reportTimestamp,proto3" json:"report_timestamp,omitempty"`
	ChunkStatuses   []*ChunkTransferStatus `protobuf:"bytes,3,rep,name=chunk_statuses,json=chunkStatuses,proto3" json:"chunk_statuses,omitempty"`
	unknownFields   protoimpl.UnknownFields
	sizeCache       protoimpl.SizeCache
}

func (x *ClientReport) Reset() {
	*x = ClientReport{}
	mi := &file_qwrap_proto_msgTypes[15]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ClientReport) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ClientReport) ProtoMessage() {}

func (x *ClientReport) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[15]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ClientReport.ProtoReflect.Descriptor instead.
func (*ClientReport) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{15}
}

func (x *ClientReport) GetPlanId() string {
	if x != nil {
		return x.PlanId
	}
	return ""
}

func (x *ClientReport) GetReportTimestamp() *timestamppb.Timestamp {
	if x != nil {
		return x.ReportTimestamp
	}
	return nil
}

func (x *ClientReport) GetChunkStatuses() []*ChunkTransferStatus {
	if x != nil {
		return x.ChunkStatuses
	}
	return nil
}

type ChunkTransferStatus struct {
	state            protoimpl.MessageState `protogen:"open.v1"`
	ChunkInfo        *ChunkInfo             `protobuf:"bytes,1,opt,name=chunk_info,json=chunkInfo,proto3" json:"chunk_info,omitempty"`
	Event            TransferEvent          `protobuf:"varint,2,opt,name=event,proto3,enum=qwrap_proto.TransferEvent" json:"event,omitempty"`
	AgentId          string                 `protobuf:"bytes,3,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`
	Details          string                 `protobuf:"bytes,4,opt,name=details,proto3" json:"details,omitempty"`
	TransferDuration *durationpb.Duration   `protobuf:"bytes,5,opt,name=transfer_duration,json=transferDuration,proto3" json:"transfer_duration,omitempty"`
	unknownFields    protoimpl.UnknownFields
	sizeCache        protoimpl.SizeCache
}

func (x *ChunkTransferStatus) Reset() {
	*x = ChunkTransferStatus{}
	mi := &file_qwrap_proto_msgTypes[16]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkTransferStatus) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkTransferStatus) ProtoMessage() {}

func (x *ChunkTransferStatus) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[16]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkTransferStatus.ProtoReflect.Descriptor instead.
func (*ChunkTransferStatus) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{16}
}

func (x *ChunkTransferStatus) GetChunkInfo() *ChunkInfo {
	if x != nil {
		return x.ChunkInfo
	}
	return nil
}

func (x *ChunkTransferStatus) GetEvent() TransferEvent {
	if x != nil {
		return x.Event
	}
	return TransferEvent_TRANSFER_EVENT_UNKNOWN
}

func (x *ChunkTransferStatus) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *ChunkTransferStatus) GetDetails() string {
	if x != nil {
		return x.Details
	}
	return ""
}

func (x *ChunkTransferStatus) GetTransferDuration() *durationpb.Duration {
	if x != nil {
		return x.TransferDuration
	}
	return nil
}

type UpdatedTransferPlan struct {
	state                   protoimpl.MessageState `protogen:"open.v1"`
	PlanId                  string                 `protobuf:"bytes,1,opt,name=plan_id,json=planId,proto3" json:"plan_id,omitempty"`
	NewOrUpdatedAssignments []*ChunkAssignment     `protobuf:"bytes,2,rep,name=new_or_updated_assignments,json=newOrUpdatedAssignments,proto3" json:"new_or_updated_assignments,omitempty"`
	InvalidatedChunks       []*ChunkInfo           `protobuf:"bytes,3,rep,name=invalidated_chunks,json=invalidatedChunks,proto3" json:"invalidated_chunks,omitempty"`
	unknownFields           protoimpl.UnknownFields
	sizeCache               protoimpl.SizeCache
}

func (x *UpdatedTransferPlan) Reset() {
	*x = UpdatedTransferPlan{}
	mi := &file_qwrap_proto_msgTypes[17]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *UpdatedTransferPlan) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*UpdatedTransferPlan) ProtoMessage() {}

func (x *UpdatedTransferPlan) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[17]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use UpdatedTransferPlan.ProtoReflect.Descriptor instead.
func (*UpdatedTransferPlan) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{17}
}

func (x *UpdatedTransferPlan) GetPlanId() string {
	if x != nil {
		return x.PlanId
	}
	return ""
}

func (x *UpdatedTransferPlan) GetNewOrUpdatedAssignments() []*ChunkAssignment {
	if x != nil {
		return x.NewOrUpdatedAssignments
	}
	return nil
}

func (x *UpdatedTransferPlan) GetInvalidatedChunks() []*ChunkInfo {
	if x != nil {
		return x.InvalidatedChunks
	}
	return nil
}

// Message du client pour s'abonner aux mises à jour de plan
type RegisterForPlanUpdatesRequest struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	PlanId        string                 `protobuf:"bytes,1,opt,name=plan_id,json=planId,proto3" json:"plan_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *RegisterForPlanUpdatesRequest) Reset() {
	*x = RegisterForPlanUpdatesRequest{}
	mi := &file_qwrap_proto_msgTypes[18]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *RegisterForPlanUpdatesRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*RegisterForPlanUpdatesRequest) ProtoMessage() {}

func (x *RegisterForPlanUpdatesRequest) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[18]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use RegisterForPlanUpdatesRequest.ProtoReflect.Descriptor instead.
func (*RegisterForPlanUpdatesRequest) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{18}
}

func (x *RegisterForPlanUpdatesRequest) GetPlanId() string {
	if x != nil {
		return x.PlanId
	}
	return ""
}

// ==================== Messages Client <-> Agent ====================
type ChunkRequest struct {
	state              protoimpl.MessageState `protogen:"open.v1"`
	ChunkInfoRequested *ChunkInfo             `protobuf:"bytes,1,opt,name=chunk_info_requested,json=chunkInfoRequested,proto3" json:"chunk_info_requested,omitempty"` // <<<<< MODIFIÉ: Le client envoie les détails complets.
	unknownFields      protoimpl.UnknownFields
	sizeCache          protoimpl.SizeCache
}

func (x *ChunkRequest) Reset() {
	*x = ChunkRequest{}
	mi := &file_qwrap_proto_msgTypes[19]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkRequest) ProtoMessage() {}

func (x *ChunkRequest) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[19]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkRequest.ProtoReflect.Descriptor instead.
func (*ChunkRequest) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{19}
}

func (x *ChunkRequest) GetChunkInfoRequested() *ChunkInfo {
	if x != nil {
		return x.ChunkInfoRequested
	}
	return nil
}

type ChunkErrorResponse struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	FileId        string                 `protobuf:"bytes,1,opt,name=file_id,json=fileId,proto3" json:"file_id,omitempty"`     // Peut être extrait de ChunkInfoRequested
	ChunkId       uint64                 `protobuf:"varint,2,opt,name=chunk_id,json=chunkId,proto3" json:"chunk_id,omitempty"` // Peut être extrait de ChunkInfoRequested
	ErrorCode     ChunkErrorCode         `protobuf:"varint,3,opt,name=error_code,json=errorCode,proto3,enum=qwrap_proto.ChunkErrorCode" json:"error_code,omitempty"`
	Message       string                 `protobuf:"bytes,4,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ChunkErrorResponse) Reset() {
	*x = ChunkErrorResponse{}
	mi := &file_qwrap_proto_msgTypes[20]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkErrorResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkErrorResponse) ProtoMessage() {}

func (x *ChunkErrorResponse) ProtoReflect() protoreflect.Message {
	mi := &file_qwrap_proto_msgTypes[20]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkErrorResponse.ProtoReflect.Descriptor instead.
func (*ChunkErrorResponse) Descriptor() ([]byte, []int) {
	return file_qwrap_proto_rawDescGZIP(), []int{20}
}

func (x *ChunkErrorResponse) GetFileId() string {
	if x != nil {
		return x.FileId
	}
	return ""
}

func (x *ChunkErrorResponse) GetChunkId() uint64 {
	if x != nil {
		return x.ChunkId
	}
	return 0
}

func (x *ChunkErrorResponse) GetErrorCode() ChunkErrorCode {
	if x != nil {
		return x.ErrorCode
	}
	return ChunkErrorCode_CHUNK_ERROR_UNKNOWN
}

func (x *ChunkErrorResponse) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

var File_qwrap_proto protoreflect.FileDescriptor

const file_qwrap_proto_rawDesc = "" +
	"\n" +
	"\vqwrap.proto\x12\vqwrap_proto\x1a\x1fgoogle/protobuf/timestamp.proto\x1a\x1egoogle/protobuf/duration.proto\"\xeb\x02\n" +
	"\x14StreamPurposeRequest\x12C\n" +
	"\apurpose\x18\x01 \x01(\x0e2).qwrap_proto.StreamPurposeRequest.PurposeR\apurpose\x12&\n" +
	"\x0fplan_id_context\x18\x02 \x01(\tR\rplanIdContext\"\xe5\x01\n" +
	"\aPurpose\x12\x13\n" +
	"\x0fPURPOSE_UNKNOWN\x10\x00\x12\x14\n" +
	"\x10TRANSFER_REQUEST\x10\x01\x12\x11\n" +
	"\rCLIENT_REPORT\x10\x02\x12\x1d\n" +
	"\x19REGISTER_FOR_PLAN_UPDATES\x10\x03\x12\x16\n" +
	"\x12AGENT_REGISTRATION\x10\x04\x12\x13\n" +
	"\x0fAGENT_HEARTBEAT\x10\x05\x12\x1d\n" +
	"\x19GET_FILE_METADATA_REQUEST\x10\x06\x12\x1e\n" +
	"\x1aGET_FILE_METADATA_RESPONSE\x10\a\x12\x11\n" +
	"\rCHUNK_REQUEST\x10\b\";\n" +
	"\tByteRange\x12\x16\n" +
	"\x06offset\x18\x01 \x01(\x03R\x06offset\x12\x16\n" +
	"\x06length\x18\x02 \x01(\x03R\x06length\"\xa0\x03\n" +
	"\fFileMetadata\x12\x17\n" +
	"\afile_id\x18\x01 \x01(\tR\x06fileId\x12\x1d\n" +
	"\n" +
	"total_size\x18\x02 \x01(\x03R\ttotalSize\x12M\n" +
	"\x12checksum_algorithm\x18\x03 \x01(\x0e2\x1e.qwrap_proto.ChecksumAlgorithmR\x11checksumAlgorithm\x12%\n" +
	"\x0echecksum_value\x18\x04 \x01(\tR\rchecksumValue\x12?\n" +
	"\rlast_modified\x18\x05 \x01(\v2\x1a.google.protobuf.TimestampR\flastModified\x12\\\n" +
	"\x11custom_attributes\x18\x06 \x03(\v2/.qwrap_proto.FileMetadata.CustomAttributesEntryR\x10customAttributes\x1aC\n" +
	"\x15CustomAttributesEntry\x12\x10\n" +
	"\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n" +
	"\x05value\x18\x02 \x01(\tR\x05value:\x028\x01\"\xb4\x01\n" +
	"\x18AgentRegistrationRequest\x12\x19\n" +
	"\bagent_id\x18\x01 \x01(\tR\aagentId\x12#\n" +
	"\ragent_address\x18\x02 \x01(\tR\fagentAddress\x12\"\n" +
	"\fcapabilities\x18\x03 \x03(\tR\fcapabilities\x124\n" +
	"\x16max_concurrent_streams\x18\x04 \x01(\x03R\x14maxConcurrentStreams\"\x99\x01\n" +
	"\x19AgentRegistrationResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12\x18\n" +
	"\amessage\x18\x02 \x01(\tR\amessage\x12H\n" +
	"\x12heartbeat_interval\x18\x03 \x01(\v2\x19.google.protobuf.DurationR\x11heartbeatInterval\"\xb2\x04\n" +
	"\x0eAgentHeartbeat\x12\x19\n" +
	"\bagent_id\x18\x01 \x01(\tR\aagentId\x128\n" +
	"\ttimestamp\x18\x02 \x01(\v2\x1a.google.protobuf.TimestampR\ttimestamp\x120\n" +
	"\x06status\x18\x03 \x01(\x0e2\x18.qwrap_proto.AgentStatusR\x06status\x12(\n" +
	"\x10cpu_load_percent\x18\x04 \x01(\x02R\x0ecpuLoadPercent\x12,\n" +
	"\x12memory_usage_bytes\x18\x05 \x01(\x03R\x10memoryUsageBytes\x126\n" +
	"\x17available_bandwidth_bps\x18\x06 \x01(\x03R\x15availableBandwidthBps\x12:\n" +
	"\x19active_client_connections\x18\a \x01(\x05R\x17activeClientConnections\x124\n" +
	"\x16active_chunk_transfers\x18\b \x01(\x05R\x14activeChunkTransfers\x12U\n" +
	"\x0ecustom_metrics\x18\t \x03(\v2..qwrap_proto.AgentHeartbeat.CustomMetricsEntryR\rcustomMetrics\x1a@\n" +
	"\x12CustomMetricsEntry\x12\x10\n" +
	"\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n" +
	"\x05value\x18\x02 \x01(\tR\x05value:\x028\x01\"\x13\n" +
	"\x11HeartbeatResponse\"P\n" +
	"\x16GetFileMetadataRequest\x12\x1d\n" +
	"\n" +
	"request_id\x18\x01 \x01(\tR\trequestId\x12\x17\n" +
	"\afile_id\x18\x02 \x01(\tR\x06fileId\"\xa2\x02\n" +
	"\x0fFilePortionInfo\x12$\n" +
	"\x0eglobal_file_id\x18\x01 \x01(\tR\fglobalFileId\x12\x16\n" +
	"\x06offset\x18\x02 \x01(\x03R\x06offset\x12\x1d\n" +
	"\n" +
	"num_chunks\x18\x03 \x01(\x03R\tnumChunks\x12\x1d\n" +
	"\n" +
	"chunk_size\x18\x04 \x01(\x03R\tchunkSize\x12+\n" +
	"\x0flast_chunk_size\x18\x05 \x01(\x03H\x00R\rlastChunkSize\x88\x01\x01\x12*\n" +
	"\x11chunk_index_start\x18\x06 \x01(\x04R\x0fchunkIndexStart\x12&\n" +
	"\x0fchunk_index_end\x18\a \x01(\x04R\rchunkIndexEndB\x12\n" +
	"\x10_last_chunk_size\"\xc6\x02\n" +
	"\x17GetFileMetadataResponse\x12\x1d\n" +
	"\n" +
	"request_id\x18\x01 \x01(\tR\trequestId\x12\x19\n" +
	"\bagent_id\x18\x02 \x01(\tR\aagentId\x12P\n" +
	"\x14global_file_metadata\x18\x03 \x01(\v2\x19.qwrap_proto.FileMetadataH\x00R\x12globalFileMetadata\x88\x01\x01\x12\x14\n" +
	"\x05found\x18\x04 \x01(\bR\x05found\x12#\n" +
	"\rerror_message\x18\x05 \x01(\tR\ferrorMessage\x12K\n" +
	"\x12available_portions\x18\x06 \x03(\v2\x1c.qwrap_proto.FilePortionInfoR\x11availablePortionsB\x17\n" +
	"\x15_global_file_metadata\"c\n" +
	"\x0fTransferOptions\x12\x1a\n" +
	"\bpriority\x18\x01 \x01(\x05R\bpriority\x124\n" +
	"\x16verify_chunk_checksums\x18\x02 \x01(\bR\x14verifyChunkChecksums\"\xaf\x01\n" +
	"\x0fTransferRequest\x12\x1d\n" +
	"\n" +
	"request_id\x18\x01 \x01(\tR\trequestId\x12E\n" +
	"\x11files_to_transfer\x18\x02 \x03(\v2\x19.qwrap_proto.FileMetadataR\x0ffilesToTransfer\x126\n" +
	"\aoptions\x18\x03 \x01(\v2\x1c.qwrap_proto.TransferOptionsR\aoptions\"\xe3\x01\n" +
	"\tChunkInfo\x12\x17\n" +
	"\afile_id\x18\x01 \x01(\tR\x06fileId\x12\x19\n" +
	"\bchunk_id\x18\x02 \x01(\x04R\achunkId\x12,\n" +
	"\x05range\x18\x03 \x01(\v2\x16.qwrap_proto.ByteRangeR\x05range\x12M\n" +
	"\x12checksum_algorithm\x18\x04 \x01(\x0e2\x1e.qwrap_proto.ChecksumAlgorithmR\x11checksumAlgorithm\x12%\n" +
	"\x0echecksum_value\x18\x05 \x01(\tR\rchecksumValue\"\xe4\x01\n" +
	"\x0fChunkAssignment\x125\n" +
	"\n" +
	"chunk_info\x18\x01 \x01(\v2\x16.qwrap_proto.ChunkInfoR\tchunkInfo\x12\x19\n" +
	"\bagent_id\x18\x02 \x01(\tR\aagentId\x12#\n" +
	"\ragent_address\x18\x03 \x01(\tR\fagentAddress\x12Z\n" +
	"\x1bestimated_availability_time\x18\x04 \x01(\v2\x1a.google.protobuf.TimestampR\x19estimatedAvailabilityTime\"\xf6\x02\n" +
	"\fTransferPlan\x12\x17\n" +
	"\aplan_id\x18\x01 \x01(\tR\x06planId\x12*\n" +
	"\x11client_request_id\x18\x02 \x01(\tR\x0fclientRequestId\x12K\n" +
	"\x14source_file_metadata\x18\x03 \x03(\v2\x19.qwrap_proto.FileMetadataR\x12sourceFileMetadata\x12,\n" +
	"\x12default_chunk_size\x18\x04 \x01(\x03R\x10defaultChunkSize\x12I\n" +
	"\x11chunk_assignments\x18\x05 \x03(\v2\x1c.qwrap_proto.ChunkAssignmentR\x10chunkAssignments\x126\n" +
	"\aoptions\x18\x06 \x01(\v2\x1c.qwrap_proto.TransferOptionsR\aoptions\x12#\n" +
	"\rerror_message\x18\a \x01(\tR\ferrorMessage\"\xb7\x01\n" +
	"\fClientReport\x12\x17\n" +
	"\aplan_id\x18\x01 \x01(\tR\x06planId\x12E\n" +
	"\x10report_timestamp\x18\x02 \x01(\v2\x1a.google.protobuf.TimestampR\x0freportTimestamp\x12G\n" +
	"\x0echunk_statuses\x18\x03 \x03(\v2 .qwrap_proto.ChunkTransferStatusR\rchunkStatuses\"\xfb\x01\n" +
	"\x13ChunkTransferStatus\x125\n" +
	"\n" +
	"chunk_info\x18\x01 \x01(\v2\x16.qwrap_proto.ChunkInfoR\tchunkInfo\x120\n" +
	"\x05event\x18\x02 \x01(\x0e2\x1a.qwrap_proto.TransferEventR\x05event\x12\x19\n" +
	"\bagent_id\x18\x03 \x01(\tR\aagentId\x12\x18\n" +
	"\adetails\x18\x04 \x01(\tR\adetails\x12F\n" +
	"\x11transfer_duration\x18\x05 \x01(\v2\x19.google.protobuf.DurationR\x10transferDuration\"\xd0\x01\n" +
	"\x13UpdatedTransferPlan\x12\x17\n" +
	"\aplan_id\x18\x01 \x01(\tR\x06planId\x12Y\n" +
	"\x1anew_or_updated_assignments\x18\x02 \x03(\v2\x1c.qwrap_proto.ChunkAssignmentR\x17newOrUpdatedAssignments\x12E\n" +
	"\x12invalidated_chunks\x18\x03 \x03(\v2\x16.qwrap_proto.ChunkInfoR\x11invalidatedChunks\"8\n" +
	"\x1dRegisterForPlanUpdatesRequest\x12\x17\n" +
	"\aplan_id\x18\x01 \x01(\tR\x06planId\"X\n" +
	"\fChunkRequest\x12H\n" +
	"\x14chunk_info_requested\x18\x01 \x01(\v2\x16.qwrap_proto.ChunkInfoR\x12chunkInfoRequested\"\x9e\x01\n" +
	"\x12ChunkErrorResponse\x12\x17\n" +
	"\afile_id\x18\x01 \x01(\tR\x06fileId\x12\x19\n" +
	"\bchunk_id\x18\x02 \x01(\x04R\achunkId\x12:\n" +
	"\n" +
	"error_code\x18\x03 \x01(\x0e2\x1b.qwrap_proto.ChunkErrorCodeR\terrorCode\x12\x18\n" +
	"\amessage\x18\x04 \x01(\tR\amessage*\xc6\x01\n" +
	"\vAgentStatus\x12\x18\n" +
	"\x14AGENT_STATUS_UNKNOWN\x10\x00\x12\x1c\n" +
	"\x18AGENT_STATUS_REGISTERING\x10\x01\x12\x15\n" +
	"\x11AGENT_STATUS_IDLE\x10\x02\x12\x17\n" +
	"\x13AGENT_STATUS_ACTIVE\x10\x03\x12\x19\n" +
	"\x15AGENT_STATUS_DEGRADED\x10\x04\x12\x1c\n" +
	"\x18AGENT_STATUS_UNAVAILABLE\x10\x05\x12\x16\n" +
	"\x12AGENT_STATUS_ERROR\x10\x06*b\n" +
	"\x11ChecksumAlgorithm\x12\x1e\n" +
	"\x1aCHECKSUM_ALGORITHM_UNKNOWN\x10\x00\x12\n" +
	"\n" +
	"\x06SHA256\x10\x01\x12\n" +
	"\n" +
	"\x06SHA512\x10\x02\x12\a\n" +
	"\x03MD5\x10\x03\x12\f\n" +
	"\bXXHASH64\x10\x04*\xe8\x01\n" +
	"\rTransferEvent\x12\x1a\n" +
	"\x16TRANSFER_EVENT_UNKNOWN\x10\x00\x12\x14\n" +
	"\x10DOWNLOAD_STARTED\x10\x01\x12\x17\n" +
	"\x13DOWNLOAD_SUCCESSFUL\x10\x02\x12%\n" +
	"!DOWNLOAD_FAILED_AGENT_UNREACHABLE\x10\x03\x12\"\n" +
	"\x1eDOWNLOAD_FAILED_TRANSFER_ERROR\x10\x04\x12%\n" +
	"!DOWNLOAD_FAILED_CHECKSUM_MISMATCH\x10\x05\x12\x1a\n" +
	"\x16REASSIGNMENT_REQUESTED\x10\x06*\x8b\x01\n" +
	"\x0eChunkErrorCode\x12\x17\n" +
	"\x13CHUNK_ERROR_UNKNOWN\x10\x00\x12\x13\n" +
	"\x0fCHUNK_NOT_FOUND\x10\x01\x12\x1b\n" +
	"\x17CHUNK_NOT_AVAILABLE_YET\x10\x02\x12\x14\n" +
	"\x10AGENT_OVERLOADED\x10\x03\x12\x18\n" +
	"\x14INTERNAL_AGENT_ERROR\x10\x04B\x13Z\x11qwrap/pkg/qwrappbb\x06proto3"

var (
	file_qwrap_proto_rawDescOnce sync.Once
	file_qwrap_proto_rawDescData []byte
)

func file_qwrap_proto_rawDescGZIP() []byte {
	file_qwrap_proto_rawDescOnce.Do(func() {
		file_qwrap_proto_rawDescData = protoimpl.X.CompressGZIP(unsafe.Slice(unsafe.StringData(file_qwrap_proto_rawDesc), len(file_qwrap_proto_rawDesc)))
	})
	return file_qwrap_proto_rawDescData
}

var file_qwrap_proto_enumTypes = make([]protoimpl.EnumInfo, 5)
var file_qwrap_proto_msgTypes = make([]protoimpl.MessageInfo, 23)
var file_qwrap_proto_goTypes = []any{
	(AgentStatus)(0),                      // 0: qwrap_proto.AgentStatus
	(ChecksumAlgorithm)(0),                // 1: qwrap_proto.ChecksumAlgorithm
	(TransferEvent)(0),                    // 2: qwrap_proto.TransferEvent
	(ChunkErrorCode)(0),                   // 3: qwrap_proto.ChunkErrorCode
	(StreamPurposeRequest_Purpose)(0),     // 4: qwrap_proto.StreamPurposeRequest.Purpose
	(*StreamPurposeRequest)(nil),          // 5: qwrap_proto.StreamPurposeRequest
	(*ByteRange)(nil),                     // 6: qwrap_proto.ByteRange
	(*FileMetadata)(nil),                  // 7: qwrap_proto.FileMetadata
	(*AgentRegistrationRequest)(nil),      // 8: qwrap_proto.AgentRegistrationRequest
	(*AgentRegistrationResponse)(nil),     // 9: qwrap_proto.AgentRegistrationResponse
	(*AgentHeartbeat)(nil),                // 10: qwrap_proto.AgentHeartbeat
	(*HeartbeatResponse)(nil),             // 11: qwrap_proto.HeartbeatResponse
	(*GetFileMetadataRequest)(nil),        // 12: qwrap_proto.GetFileMetadataRequest
	(*FilePortionInfo)(nil),               // 13: qwrap_proto.FilePortionInfo
	(*GetFileMetadataResponse)(nil),       // 14: qwrap_proto.GetFileMetadataResponse
	(*TransferOptions)(nil),               // 15: qwrap_proto.TransferOptions
	(*TransferRequest)(nil),               // 16: qwrap_proto.TransferRequest
	(*ChunkInfo)(nil),                     // 17: qwrap_proto.ChunkInfo
	(*ChunkAssignment)(nil),               // 18: qwrap_proto.ChunkAssignment
	(*TransferPlan)(nil),                  // 19: qwrap_proto.TransferPlan
	(*ClientReport)(nil),                  // 20: qwrap_proto.ClientReport
	(*ChunkTransferStatus)(nil),           // 21: qwrap_proto.ChunkTransferStatus
	(*UpdatedTransferPlan)(nil),           // 22: qwrap_proto.UpdatedTransferPlan
	(*RegisterForPlanUpdatesRequest)(nil), // 23: qwrap_proto.RegisterForPlanUpdatesRequest
	(*ChunkRequest)(nil),                  // 24: qwrap_proto.ChunkRequest
	(*ChunkErrorResponse)(nil),            // 25: qwrap_proto.ChunkErrorResponse
	nil,                                   // 26: qwrap_proto.FileMetadata.CustomAttributesEntry
	nil,                                   // 27: qwrap_proto.AgentHeartbeat.CustomMetricsEntry
	(*timestamppb.Timestamp)(nil),         // 28: google.protobuf.Timestamp
	(*durationpb.Duration)(nil),           // 29: google.protobuf.Duration
}
var file_qwrap_proto_depIdxs = []int32{
	4,  // 0: qwrap_proto.StreamPurposeRequest.purpose:type_name -> qwrap_proto.StreamPurposeRequest.Purpose
	1,  // 1: qwrap_proto.FileMetadata.checksum_algorithm:type_name -> qwrap_proto.ChecksumAlgorithm
	28, // 2: qwrap_proto.FileMetadata.last_modified:type_name -> google.protobuf.Timestamp
	26, // 3: qwrap_proto.FileMetadata.custom_attributes:type_name -> qwrap_proto.FileMetadata.CustomAttributesEntry
	29, // 4: qwrap_proto.AgentRegistrationResponse.heartbeat_interval:type_name -> google.protobuf.Duration
	28, // 5: qwrap_proto.AgentHeartbeat.timestamp:type_name -> google.protobuf.Timestamp
	0,  // 6: qwrap_proto.AgentHeartbeat.status:type_name -> qwrap_proto.AgentStatus
	27, // 7: qwrap_proto.AgentHeartbeat.custom_metrics:type_name -> qwrap_proto.AgentHeartbeat.CustomMetricsEntry
	7,  // 8: qwrap_proto.GetFileMetadataResponse.global_file_metadata:type_name -> qwrap_proto.FileMetadata
	13, // 9: qwrap_proto.GetFileMetadataResponse.available_portions:type_name -> qwrap_proto.FilePortionInfo
	7,  // 10: qwrap_proto.TransferRequest.files_to_transfer:type_name -> qwrap_proto.FileMetadata
	15, // 11: qwrap_proto.TransferRequest.options:type_name -> qwrap_proto.TransferOptions
	6,  // 12: qwrap_proto.ChunkInfo.range:type_name -> qwrap_proto.ByteRange
	1,  // 13: qwrap_proto.ChunkInfo.checksum_algorithm:type_name -> qwrap_proto.ChecksumAlgorithm
	17, // 14: qwrap_proto.ChunkAssignment.chunk_info:type_name -> qwrap_proto.ChunkInfo
	28, // 15: qwrap_proto.ChunkAssignment.estimated_availability_time:type_name -> google.protobuf.Timestamp
	7,  // 16: qwrap_proto.TransferPlan.source_file_metadata:type_name -> qwrap_proto.FileMetadata
	18, // 17: qwrap_proto.TransferPlan.chunk_assignments:type_name -> qwrap_proto.ChunkAssignment
	15, // 18: qwrap_proto.TransferPlan.options:type_name -> qwrap_proto.TransferOptions
	28, // 19: qwrap_proto.ClientReport.report_timestamp:type_name -> google.protobuf.Timestamp
	21, // 20: qwrap_proto.ClientReport.chunk_statuses:type_name -> qwrap_proto.ChunkTransferStatus
	17, // 21: qwrap_proto.ChunkTransferStatus.chunk_info:type_name -> qwrap_proto.ChunkInfo
	2,  // 22: qwrap_proto.ChunkTransferStatus.event:type_name -> qwrap_proto.TransferEvent
	29, // 23: qwrap_proto.ChunkTransferStatus.transfer_duration:type_name -> google.protobuf.Duration
	18, // 24: qwrap_proto.UpdatedTransferPlan.new_or_updated_assignments:type_name -> qwrap_proto.ChunkAssignment
	17, // 25: qwrap_proto.UpdatedTransferPlan.invalidated_chunks:type_name -> qwrap_proto.ChunkInfo
	17, // 26: qwrap_proto.ChunkRequest.chunk_info_requested:type_name -> qwrap_proto.ChunkInfo
	3,  // 27: qwrap_proto.ChunkErrorResponse.error_code:type_name -> qwrap_proto.ChunkErrorCode
	28, // [28:28] is the sub-list for method output_type
	28, // [28:28] is the sub-list for method input_type
	28, // [28:28] is the sub-list for extension type_name
	28, // [28:28] is the sub-list for extension extendee
	0,  // [0:28] is the sub-list for field type_name
}

func init() { file_qwrap_proto_init() }
func file_qwrap_proto_init() {
	if File_qwrap_proto != nil {
		return
	}
	file_qwrap_proto_msgTypes[8].OneofWrappers = []any{}
	file_qwrap_proto_msgTypes[9].OneofWrappers = []any{}
	type x struct{}
	out := protoimpl.TypeBuilder{
		File: protoimpl.DescBuilder{
			GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
			RawDescriptor: unsafe.Slice(unsafe.StringData(file_qwrap_proto_rawDesc), len(file_qwrap_proto_rawDesc)),
			NumEnums:      5,
			NumMessages:   23,
			NumExtensions: 0,
			NumServices:   0,
		},
		GoTypes:           file_qwrap_proto_goTypes,
		DependencyIndexes: file_qwrap_proto_depIdxs,
		EnumInfos:         file_qwrap_proto_enumTypes,
		MessageInfos:      file_qwrap_proto_msgTypes,
	}.Build()
	File_qwrap_proto = out.File
	file_qwrap_proto_goTypes = nil
	file_qwrap_proto_depIdxs = nil
}


# ===== FILE: pkg/qwrappb/qwrap.pb.go =====
// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.36.6
// 	protoc        v6.30.2
// source: proto/qwrap.proto

package qwrappb

import (
	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	protoimpl "google.golang.org/protobuf/runtime/protoimpl"
	durationpb "google.golang.org/protobuf/types/known/durationpb"
	timestamppb "google.golang.org/protobuf/types/known/timestamppb"
	reflect "reflect"
	sync "sync"
	unsafe "unsafe"
)

const (
	// Verify that this generated code is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
	// Verify that runtime/protoimpl is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

type AgentStatus int32

const (
	AgentStatus_AGENT_STATUS_UNKNOWN     AgentStatus = 0
	AgentStatus_AGENT_STATUS_REGISTERING AgentStatus = 1
	AgentStatus_AGENT_STATUS_IDLE        AgentStatus = 2
	AgentStatus_AGENT_STATUS_ACTIVE      AgentStatus = 3
	AgentStatus_AGENT_STATUS_DEGRADED    AgentStatus = 4
	AgentStatus_AGENT_STATUS_UNAVAILABLE AgentStatus = 5
	AgentStatus_AGENT_STATUS_ERROR       AgentStatus = 6
)

// Enum value maps for AgentStatus.
var (
	AgentStatus_name = map[int32]string{
		0: "AGENT_STATUS_UNKNOWN",
		1: "AGENT_STATUS_REGISTERING",
		2: "AGENT_STATUS_IDLE",
		3: "AGENT_STATUS_ACTIVE",
		4: "AGENT_STATUS_DEGRADED",
		5: "AGENT_STATUS_UNAVAILABLE",
		6: "AGENT_STATUS_ERROR",
	}
	AgentStatus_value = map[string]int32{
		"AGENT_STATUS_UNKNOWN":     0,
		"AGENT_STATUS_REGISTERING": 1,
		"AGENT_STATUS_IDLE":        2,
		"AGENT_STATUS_ACTIVE":      3,
		"AGENT_STATUS_DEGRADED":    4,
		"AGENT_STATUS_UNAVAILABLE": 5,
		"AGENT_STATUS_ERROR":       6,
	}
)

func (x AgentStatus) Enum() *AgentStatus {
	p := new(AgentStatus)
	*p = x
	return p
}

func (x AgentStatus) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (AgentStatus) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_qwrap_proto_enumTypes[0].Descriptor()
}

func (AgentStatus) Type() protoreflect.EnumType {
	return &file_proto_qwrap_proto_enumTypes[0]
}

func (x AgentStatus) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use AgentStatus.Descriptor instead.
func (AgentStatus) EnumDescriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{0}
}

type ChecksumAlgorithm int32

const (
	ChecksumAlgorithm_CHECKSUM_ALGORITHM_UNKNOWN ChecksumAlgorithm = 0
	ChecksumAlgorithm_SHA256                     ChecksumAlgorithm = 1
	ChecksumAlgorithm_SHA512                     ChecksumAlgorithm = 2
	ChecksumAlgorithm_MD5                        ChecksumAlgorithm = 3
	ChecksumAlgorithm_XXHASH64                   ChecksumAlgorithm = 4
)

// Enum value maps for ChecksumAlgorithm.
var (
	ChecksumAlgorithm_name = map[int32]string{
		0: "CHECKSUM_ALGORITHM_UNKNOWN",
		1: "SHA256",
		2: "SHA512",
		3: "MD5",
		4: "XXHASH64",
	}
	ChecksumAlgorithm_value = map[string]int32{
		"CHECKSUM_ALGORITHM_UNKNOWN": 0,
		"SHA256":                     1,
		"SHA512":                     2,
		"MD5":                        3,
		"XXHASH64":                   4,
	}
)

func (x ChecksumAlgorithm) Enum() *ChecksumAlgorithm {
	p := new(ChecksumAlgorithm)
	*p = x
	return p
}

func (x ChecksumAlgorithm) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ChecksumAlgorithm) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_qwrap_proto_enumTypes[1].Descriptor()
}

func (ChecksumAlgorithm) Type() protoreflect.EnumType {
	return &file_proto_qwrap_proto_enumTypes[1]
}

func (x ChecksumAlgorithm) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ChecksumAlgorithm.Descriptor instead.
func (ChecksumAlgorithm) EnumDescriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{1}
}

type TransferEvent int32

const (
	TransferEvent_TRANSFER_EVENT_UNKNOWN            TransferEvent = 0
	TransferEvent_DOWNLOAD_STARTED                  TransferEvent = 1
	TransferEvent_DOWNLOAD_SUCCESSFUL               TransferEvent = 2
	TransferEvent_DOWNLOAD_FAILED_AGENT_UNREACHABLE TransferEvent = 3
	TransferEvent_DOWNLOAD_FAILED_TRANSFER_ERROR    TransferEvent = 4
	TransferEvent_DOWNLOAD_FAILED_CHECKSUM_MISMATCH TransferEvent = 5
	TransferEvent_REASSIGNMENT_REQUESTED            TransferEvent = 6
)

// Enum value maps for TransferEvent.
var (
	TransferEvent_name = map[int32]string{
		0: "TRANSFER_EVENT_UNKNOWN",
		1: "DOWNLOAD_STARTED",
		2: "DOWNLOAD_SUCCESSFUL",
		3: "DOWNLOAD_FAILED_AGENT_UNREACHABLE",
		4: "DOWNLOAD_FAILED_TRANSFER_ERROR",
		5: "DOWNLOAD_FAILED_CHECKSUM_MISMATCH",
		6: "REASSIGNMENT_REQUESTED",
	}
	TransferEvent_value = map[string]int32{
		"TRANSFER_EVENT_UNKNOWN":            0,
		"DOWNLOAD_STARTED":                  1,
		"DOWNLOAD_SUCCESSFUL":               2,
		"DOWNLOAD_FAILED_AGENT_UNREACHABLE": 3,
		"DOWNLOAD_FAILED_TRANSFER_ERROR":    4,
		"DOWNLOAD_FAILED_CHECKSUM_MISMATCH": 5,
		"REASSIGNMENT_REQUESTED":            6,
	}
)

func (x TransferEvent) Enum() *TransferEvent {
	p := new(TransferEvent)
	*p = x
	return p
}

func (x TransferEvent) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (TransferEvent) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_qwrap_proto_enumTypes[2].Descriptor()
}

func (TransferEvent) Type() protoreflect.EnumType {
	return &file_proto_qwrap_proto_enumTypes[2]
}

func (x TransferEvent) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use TransferEvent.Descriptor instead.
func (TransferEvent) EnumDescriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{2}
}

type ChunkErrorCode int32

const (
	ChunkErrorCode_CHUNK_ERROR_UNKNOWN     ChunkErrorCode = 0
	ChunkErrorCode_CHUNK_NOT_FOUND         ChunkErrorCode = 1
	ChunkErrorCode_CHUNK_NOT_AVAILABLE_YET ChunkErrorCode = 2
	ChunkErrorCode_AGENT_OVERLOADED        ChunkErrorCode = 3
	ChunkErrorCode_INTERNAL_AGENT_ERROR    ChunkErrorCode = 4
)

// Enum value maps for ChunkErrorCode.
var (
	ChunkErrorCode_name = map[int32]string{
		0: "CHUNK_ERROR_UNKNOWN",
		1: "CHUNK_NOT_FOUND",
		2: "CHUNK_NOT_AVAILABLE_YET",
		3: "AGENT_OVERLOADED",
		4: "INTERNAL_AGENT_ERROR",
	}
	ChunkErrorCode_value = map[string]int32{
		"CHUNK_ERROR_UNKNOWN":     0,
		"CHUNK_NOT_FOUND":         1,
		"CHUNK_NOT_AVAILABLE_YET": 2,
		"AGENT_OVERLOADED":        3,
		"INTERNAL_AGENT_ERROR":    4,
	}
)

func (x ChunkErrorCode) Enum() *ChunkErrorCode {
	p := new(ChunkErrorCode)
	*p = x
	return p
}

func (x ChunkErrorCode) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ChunkErrorCode) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_qwrap_proto_enumTypes[3].Descriptor()
}

func (ChunkErrorCode) Type() protoreflect.EnumType {
	return &file_proto_qwrap_proto_enumTypes[3]
}

func (x ChunkErrorCode) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ChunkErrorCode.Descriptor instead.
func (ChunkErrorCode) EnumDescriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{3}
}

type StreamPurposeRequest_Purpose int32

const (
	StreamPurposeRequest_PURPOSE_UNKNOWN            StreamPurposeRequest_Purpose = 0
	StreamPurposeRequest_TRANSFER_REQUEST           StreamPurposeRequest_Purpose = 1 // Client veut un plan
	StreamPurposeRequest_CLIENT_REPORT              StreamPurposeRequest_Purpose = 2 // Client envoie des statuts de chunks
	StreamPurposeRequest_REGISTER_FOR_PLAN_UPDATES  StreamPurposeRequest_Purpose = 3 // Client veut écouter les UpdatedTransferPlan
	StreamPurposeRequest_AGENT_REGISTRATION         StreamPurposeRequest_Purpose = 4 // Agent veut s'enregistrer
	StreamPurposeRequest_AGENT_HEARTBEAT            StreamPurposeRequest_Purpose = 5 // Agent envoie un heartbeat
	StreamPurposeRequest_GET_FILE_METADATA_REQUEST  StreamPurposeRequest_Purpose = 6
	StreamPurposeRequest_GET_FILE_METADATA_RESPONSE StreamPurposeRequest_Purpose = 7
	StreamPurposeRequest_CHUNK_REQUEST              StreamPurposeRequest_Purpose = 8
)

// Enum value maps for StreamPurposeRequest_Purpose.
var (
	StreamPurposeRequest_Purpose_name = map[int32]string{
		0: "PURPOSE_UNKNOWN",
		1: "TRANSFER_REQUEST",
		2: "CLIENT_REPORT",
		3: "REGISTER_FOR_PLAN_UPDATES",
		4: "AGENT_REGISTRATION",
		5: "AGENT_HEARTBEAT",
		6: "GET_FILE_METADATA_REQUEST",
		7: "GET_FILE_METADATA_RESPONSE",
		8: "CHUNK_REQUEST",
	}
	StreamPurposeRequest_Purpose_value = map[string]int32{
		"PURPOSE_UNKNOWN":            0,
		"TRANSFER_REQUEST":           1,
		"CLIENT_REPORT":              2,
		"REGISTER_FOR_PLAN_UPDATES":  3,
		"AGENT_REGISTRATION":         4,
		"AGENT_HEARTBEAT":            5,
		"GET_FILE_METADATA_REQUEST":  6,
		"GET_FILE_METADATA_RESPONSE": 7,
		"CHUNK_REQUEST":              8,
	}
)

func (x StreamPurposeRequest_Purpose) Enum() *StreamPurposeRequest_Purpose {
	p := new(StreamPurposeRequest_Purpose)
	*p = x
	return p
}

func (x StreamPurposeRequest_Purpose) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (StreamPurposeRequest_Purpose) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_qwrap_proto_enumTypes[4].Descriptor()
}

func (StreamPurposeRequest_Purpose) Type() protoreflect.EnumType {
	return &file_proto_qwrap_proto_enumTypes[4]
}

func (x StreamPurposeRequest_Purpose) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use StreamPurposeRequest_Purpose.Descriptor instead.
func (StreamPurposeRequest_Purpose) EnumDescriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{0, 0}
}

type StreamPurposeRequest struct {
	state         protoimpl.MessageState       `protogen:"open.v1"`
	Purpose       StreamPurposeRequest_Purpose `protobuf:"varint,1,opt,name=purpose,proto3,enum=qwrap_proto.StreamPurposeRequest_Purpose" json:"purpose,omitempty"`
	PlanIdContext string                       `protobuf:"bytes,2,opt,name=plan_id_context,json=planIdContext,proto3" json:"plan_id_context,omitempty"` // Optionnel, ex: pour REGISTER_FOR_PLAN_UPDATES
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *StreamPurposeRequest) Reset() {
	*x = StreamPurposeRequest{}
	mi := &file_proto_qwrap_proto_msgTypes[0]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *StreamPurposeRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*StreamPurposeRequest) ProtoMessage() {}

func (x *StreamPurposeRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[0]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use StreamPurposeRequest.ProtoReflect.Descriptor instead.
func (*StreamPurposeRequest) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{0}
}

func (x *StreamPurposeRequest) GetPurpose() StreamPurposeRequest_Purpose {
	if x != nil {
		return x.Purpose
	}
	return StreamPurposeRequest_PURPOSE_UNKNOWN
}

func (x *StreamPurposeRequest) GetPlanIdContext() string {
	if x != nil {
		return x.PlanIdContext
	}
	return ""
}

type ByteRange struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Offset        int64                  `protobuf:"varint,1,opt,name=offset,proto3" json:"offset,omitempty"`
	Length        int64                  `protobuf:"varint,2,opt,name=length,proto3" json:"length,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ByteRange) Reset() {
	*x = ByteRange{}
	mi := &file_proto_qwrap_proto_msgTypes[1]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ByteRange) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ByteRange) ProtoMessage() {}

func (x *ByteRange) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[1]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ByteRange.ProtoReflect.Descriptor instead.
func (*ByteRange) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{1}
}

func (x *ByteRange) GetOffset() int64 {
	if x != nil {
		return x.Offset
	}
	return 0
}

func (x *ByteRange) GetLength() int64 {
	if x != nil {
		return x.Length
	}
	return 0
}

type FileMetadata struct {
	state             protoimpl.MessageState `protogen:"open.v1"`
	FileId            string                 `protobuf:"bytes,1,opt,name=file_id,json=fileId,proto3" json:"file_id,omitempty"`
	TotalSize         int64                  `protobuf:"varint,2,opt,name=total_size,json=totalSize,proto3" json:"total_size,omitempty"`
	ChecksumAlgorithm ChecksumAlgorithm      `protobuf:"varint,3,opt,name=checksum_algorithm,json=checksumAlgorithm,proto3,enum=qwrap_proto.ChecksumAlgorithm" json:"checksum_algorithm,omitempty"`
	ChecksumValue     string                 `protobuf:"bytes,4,opt,name=checksum_value,json=checksumValue,proto3" json:"checksum_value,omitempty"`
	ChunkSize         int64                  `protobuf:"varint,5,opt,name=chunk_size,json=chunkSize,proto3" json:"chunk_size,omitempty"` // Size of each chunk in bytes
	LastModified      *timestamppb.Timestamp `protobuf:"bytes,6,opt,name=last_modified,json=lastModified,proto3" json:"last_modified,omitempty"`
	CustomAttributes  map[string]string      `protobuf:"bytes,7,rep,name=custom_attributes,json=customAttributes,proto3" json:"custom_attributes,omitempty" protobuf_key:"bytes,1,opt,name=key" protobuf_val:"bytes,2,opt,name=value"`
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *FileMetadata) Reset() {
	*x = FileMetadata{}
	mi := &file_proto_qwrap_proto_msgTypes[2]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *FileMetadata) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*FileMetadata) ProtoMessage() {}

func (x *FileMetadata) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[2]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use FileMetadata.ProtoReflect.Descriptor instead.
func (*FileMetadata) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{2}
}

func (x *FileMetadata) GetFileId() string {
	if x != nil {
		return x.FileId
	}
	return ""
}

func (x *FileMetadata) GetTotalSize() int64 {
	if x != nil {
		return x.TotalSize
	}
	return 0
}

func (x *FileMetadata) GetChecksumAlgorithm() ChecksumAlgorithm {
	if x != nil {
		return x.ChecksumAlgorithm
	}
	return ChecksumAlgorithm_CHECKSUM_ALGORITHM_UNKNOWN
}

func (x *FileMetadata) GetChecksumValue() string {
	if x != nil {
		return x.ChecksumValue
	}
	return ""
}

func (x *FileMetadata) GetChunkSize() int64 {
	if x != nil {
		return x.ChunkSize
	}
	return 0
}

func (x *FileMetadata) GetLastModified() *timestamppb.Timestamp {
	if x != nil {
		return x.LastModified
	}
	return nil
}

func (x *FileMetadata) GetCustomAttributes() map[string]string {
	if x != nil {
		return x.CustomAttributes
	}
	return nil
}

// ==================== Messages Orchestrateur <-> Agent ====================
type AgentRegistrationRequest struct {
	state                protoimpl.MessageState `protogen:"open.v1"`
	AgentId              string                 `protobuf:"bytes,1,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`
	AgentAddress         string                 `protobuf:"bytes,2,opt,name=agent_address,json=agentAddress,proto3" json:"agent_address,omitempty"`
	Capabilities         []string               `protobuf:"bytes,3,rep,name=capabilities,proto3" json:"capabilities,omitempty"`
	MaxConcurrentStreams int64                  `protobuf:"varint,4,opt,name=max_concurrent_streams,json=maxConcurrentStreams,proto3" json:"max_concurrent_streams,omitempty"`
	unknownFields        protoimpl.UnknownFields
	sizeCache            protoimpl.SizeCache
}

func (x *AgentRegistrationRequest) Reset() {
	*x = AgentRegistrationRequest{}
	mi := &file_proto_qwrap_proto_msgTypes[3]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *AgentRegistrationRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*AgentRegistrationRequest) ProtoMessage() {}

func (x *AgentRegistrationRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[3]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use AgentRegistrationRequest.ProtoReflect.Descriptor instead.
func (*AgentRegistrationRequest) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{3}
}

func (x *AgentRegistrationRequest) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *AgentRegistrationRequest) GetAgentAddress() string {
	if x != nil {
		return x.AgentAddress
	}
	return ""
}

func (x *AgentRegistrationRequest) GetCapabilities() []string {
	if x != nil {
		return x.Capabilities
	}
	return nil
}

func (x *AgentRegistrationRequest) GetMaxConcurrentStreams() int64 {
	if x != nil {
		return x.MaxConcurrentStreams
	}
	return 0
}

type AgentRegistrationResponse struct {
	state             protoimpl.MessageState `protogen:"open.v1"`
	Success           bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	Message           string                 `protobuf:"bytes,2,opt,name=message,proto3" json:"message,omitempty"`
	HeartbeatInterval *durationpb.Duration   `protobuf:"bytes,3,opt,name=heartbeat_interval,json=heartbeatInterval,proto3" json:"heartbeat_interval,omitempty"`
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *AgentRegistrationResponse) Reset() {
	*x = AgentRegistrationResponse{}
	mi := &file_proto_qwrap_proto_msgTypes[4]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *AgentRegistrationResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*AgentRegistrationResponse) ProtoMessage() {}

func (x *AgentRegistrationResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[4]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use AgentRegistrationResponse.ProtoReflect.Descriptor instead.
func (*AgentRegistrationResponse) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{4}
}

func (x *AgentRegistrationResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *AgentRegistrationResponse) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

func (x *AgentRegistrationResponse) GetHeartbeatInterval() *durationpb.Duration {
	if x != nil {
		return x.HeartbeatInterval
	}
	return nil
}

type AgentHeartbeat struct {
	state                   protoimpl.MessageState `protogen:"open.v1"`
	AgentId                 string                 `protobuf:"bytes,1,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`
	Timestamp               *timestamppb.Timestamp `protobuf:"bytes,2,opt,name=timestamp,proto3" json:"timestamp,omitempty"`
	Status                  AgentStatus            `protobuf:"varint,3,opt,name=status,proto3,enum=qwrap_proto.AgentStatus" json:"status,omitempty"`
	CpuLoadPercent          float32                `protobuf:"fixed32,4,opt,name=cpu_load_percent,json=cpuLoadPercent,proto3" json:"cpu_load_percent,omitempty"`
	MemoryUsageBytes        int64                  `protobuf:"varint,5,opt,name=memory_usage_bytes,json=memoryUsageBytes,proto3" json:"memory_usage_bytes,omitempty"`
	AvailableBandwidthBps   int64                  `protobuf:"varint,6,opt,name=available_bandwidth_bps,json=availableBandwidthBps,proto3" json:"available_bandwidth_bps,omitempty"`
	ActiveClientConnections int32                  `protobuf:"varint,7,opt,name=active_client_connections,json=activeClientConnections,proto3" json:"active_client_connections,omitempty"`
	ActiveChunkTransfers    int32                  `protobuf:"varint,8,opt,name=active_chunk_transfers,json=activeChunkTransfers,proto3" json:"active_chunk_transfers,omitempty"`
	CustomMetrics           map[string]string      `protobuf:"bytes,9,rep,name=custom_metrics,json=customMetrics,proto3" json:"custom_metrics,omitempty" protobuf_key:"bytes,1,opt,name=key" protobuf_val:"bytes,2,opt,name=value"`
	unknownFields           protoimpl.UnknownFields
	sizeCache               protoimpl.SizeCache
}

func (x *AgentHeartbeat) Reset() {
	*x = AgentHeartbeat{}
	mi := &file_proto_qwrap_proto_msgTypes[5]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *AgentHeartbeat) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*AgentHeartbeat) ProtoMessage() {}

func (x *AgentHeartbeat) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[5]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use AgentHeartbeat.ProtoReflect.Descriptor instead.
func (*AgentHeartbeat) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{5}
}

func (x *AgentHeartbeat) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *AgentHeartbeat) GetTimestamp() *timestamppb.Timestamp {
	if x != nil {
		return x.Timestamp
	}
	return nil
}

func (x *AgentHeartbeat) GetStatus() AgentStatus {
	if x != nil {
		return x.Status
	}
	return AgentStatus_AGENT_STATUS_UNKNOWN
}

func (x *AgentHeartbeat) GetCpuLoadPercent() float32 {
	if x != nil {
		return x.CpuLoadPercent
	}
	return 0
}

func (x *AgentHeartbeat) GetMemoryUsageBytes() int64 {
	if x != nil {
		return x.MemoryUsageBytes
	}
	return 0
}

func (x *AgentHeartbeat) GetAvailableBandwidthBps() int64 {
	if x != nil {
		return x.AvailableBandwidthBps
	}
	return 0
}

func (x *AgentHeartbeat) GetActiveClientConnections() int32 {
	if x != nil {
		return x.ActiveClientConnections
	}
	return 0
}

func (x *AgentHeartbeat) GetActiveChunkTransfers() int32 {
	if x != nil {
		return x.ActiveChunkTransfers
	}
	return 0
}

func (x *AgentHeartbeat) GetCustomMetrics() map[string]string {
	if x != nil {
		return x.CustomMetrics
	}
	return nil
}

type HeartbeatResponse struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *HeartbeatResponse) Reset() {
	*x = HeartbeatResponse{}
	mi := &file_proto_qwrap_proto_msgTypes[6]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HeartbeatResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HeartbeatResponse) ProtoMessage() {}

func (x *HeartbeatResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[6]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HeartbeatResponse.ProtoReflect.Descriptor instead.
func (*HeartbeatResponse) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{6}
}

type GetFileMetadataRequest struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	RequestId     string                 `protobuf:"bytes,1,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"` // ID unique pour cette requête de métadonnées
	FileId        string                 `protobuf:"bytes,2,opt,name=file_id,json=fileId,proto3" json:"file_id,omitempty"`          // L'ID du fichier dont on veut les métadonnées
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *GetFileMetadataRequest) Reset() {
	*x = GetFileMetadataRequest{}
	mi := &file_proto_qwrap_proto_msgTypes[7]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *GetFileMetadataRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*GetFileMetadataRequest) ProtoMessage() {}

func (x *GetFileMetadataRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[7]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use GetFileMetadataRequest.ProtoReflect.Descriptor instead.
func (*GetFileMetadataRequest) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{7}
}

func (x *GetFileMetadataRequest) GetRequestId() string {
	if x != nil {
		return x.RequestId
	}
	return ""
}

func (x *GetFileMetadataRequest) GetFileId() string {
	if x != nil {
		return x.FileId
	}
	return ""
}

// Décrit une portion contiguë d'un fichier global détenue par un agent.
type FilePortionInfo struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Identifiant unique du fichier global auquel cette portion appartient.
	GlobalFileId string `protobuf:"bytes,1,opt,name=global_file_id,json=globalFileId,proto3" json:"global_file_id,omitempty"`
	// Position de début de la portion dans le fichier global (en octets).
	Offset int64 `protobuf:"varint,2,opt,name=offset,proto3" json:"offset,omitempty"`
	// Nombre total de chunks dans cette portion. Doit être >= 1.
	NumChunks int64 `protobuf:"varint,3,opt,name=num_chunks,json=numChunks,proto3" json:"num_chunks,omitempty"`
	// Taille standard de chaque chunk dans cette portion (en octets).
	ChunkSize int64 `protobuf:"varint,4,opt,name=chunk_size,json=chunkSize,proto3" json:"chunk_size,omitempty"`
	// Taille du dernier chunk, si elle est différente de chunk_size.
	// Si non spécifié (ou 0), tous les chunks ont la même taille.
	LastChunkSize *int64 `protobuf:"varint,5,opt,name=last_chunk_size,json=lastChunkSize,proto3,oneof" json:"last_chunk_size,omitempty"`
	// Index global du premier chunk couvert par cette portion.
	ChunkIndexStart uint64 `protobuf:"varint,6,opt,name=chunk_index_start,json=chunkIndexStart,proto3" json:"chunk_index_start,omitempty"`
	// Index global du dernier chunk couvert par cette portion.
	ChunkIndexEnd uint64 `protobuf:"varint,7,opt,name=chunk_index_end,json=chunkIndexEnd,proto3" json:"chunk_index_end,omitempty"`
	// Chemin d'accès local au fichier/chunk sur le disque de l'agent.
	// Ce chemin est relatif au répertoire de données de base de l'agent.
	PathOnDisk    string `protobuf:"bytes,8,opt,name=path_on_disk,json=pathOnDisk,proto3" json:"path_on_disk,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *FilePortionInfo) Reset() {
	*x = FilePortionInfo{}
	mi := &file_proto_qwrap_proto_msgTypes[8]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *FilePortionInfo) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*FilePortionInfo) ProtoMessage() {}

func (x *FilePortionInfo) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[8]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use FilePortionInfo.ProtoReflect.Descriptor instead.
func (*FilePortionInfo) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{8}
}

func (x *FilePortionInfo) GetGlobalFileId() string {
	if x != nil {
		return x.GlobalFileId
	}
	return ""
}

func (x *FilePortionInfo) GetOffset() int64 {
	if x != nil {
		return x.Offset
	}
	return 0
}

func (x *FilePortionInfo) GetNumChunks() int64 {
	if x != nil {
		return x.NumChunks
	}
	return 0
}

func (x *FilePortionInfo) GetChunkSize() int64 {
	if x != nil {
		return x.ChunkSize
	}
	return 0
}

func (x *FilePortionInfo) GetLastChunkSize() int64 {
	if x != nil && x.LastChunkSize != nil {
		return *x.LastChunkSize
	}
	return 0
}

func (x *FilePortionInfo) GetChunkIndexStart() uint64 {
	if x != nil {
		return x.ChunkIndexStart
	}
	return 0
}

func (x *FilePortionInfo) GetChunkIndexEnd() uint64 {
	if x != nil {
		return x.ChunkIndexEnd
	}
	return 0
}

func (x *FilePortionInfo) GetPathOnDisk() string {
	if x != nil {
		return x.PathOnDisk
	}
	return ""
}

type GetFileMetadataResponse struct {
	state              protoimpl.MessageState `protogen:"open.v1"`
	RequestId          string                 `protobuf:"bytes,1,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"`                                    // Rappel de l'ID de la requête
	AgentId            string                 `protobuf:"bytes,2,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`                                          // ID de l'agent qui répond
	GlobalFileMetadata *FileMetadata          `protobuf:"bytes,3,opt,name=global_file_metadata,json=globalFileMetadata,proto3,oneof" json:"global_file_metadata,omitempty"` // Les métadonnées globales du fichier, si l'agent les connaît.
	Found              bool                   `protobuf:"varint,4,opt,name=found,proto3" json:"found,omitempty"`                                                            // True si l'agent a des informations sur ce fichier (même sans détenir de portion)
	ErrorMessage       string                 `protobuf:"bytes,5,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`                           // Message d'erreur si found est false ou si problème
	// Liste des portions du fichier que cet agent détient. Vide si aucune.
	AvailablePortions []*FilePortionInfo `protobuf:"bytes,6,rep,name=available_portions,json=availablePortions,proto3" json:"available_portions,omitempty"`
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *GetFileMetadataResponse) Reset() {
	*x = GetFileMetadataResponse{}
	mi := &file_proto_qwrap_proto_msgTypes[9]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *GetFileMetadataResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*GetFileMetadataResponse) ProtoMessage() {}

func (x *GetFileMetadataResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[9]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use GetFileMetadataResponse.ProtoReflect.Descriptor instead.
func (*GetFileMetadataResponse) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{9}
}

func (x *GetFileMetadataResponse) GetRequestId() string {
	if x != nil {
		return x.RequestId
	}
	return ""
}

func (x *GetFileMetadataResponse) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *GetFileMetadataResponse) GetGlobalFileMetadata() *FileMetadata {
	if x != nil {
		return x.GlobalFileMetadata
	}
	return nil
}

func (x *GetFileMetadataResponse) GetFound() bool {
	if x != nil {
		return x.Found
	}
	return false
}

func (x *GetFileMetadataResponse) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

func (x *GetFileMetadataResponse) GetAvailablePortions() []*FilePortionInfo {
	if x != nil {
		return x.AvailablePortions
	}
	return nil
}

// ==================== Messages Client <-> Orchestrateur ====================
type TransferOptions struct {
	state                protoimpl.MessageState `protogen:"open.v1"`
	Priority             int32                  `protobuf:"varint,1,opt,name=priority,proto3" json:"priority,omitempty"`
	VerifyChunkChecksums bool                   `protobuf:"varint,2,opt,name=verify_chunk_checksums,json=verifyChunkChecksums,proto3" json:"verify_chunk_checksums,omitempty"`
	unknownFields        protoimpl.UnknownFields
	sizeCache            protoimpl.SizeCache
}

func (x *TransferOptions) Reset() {
	*x = TransferOptions{}
	mi := &file_proto_qwrap_proto_msgTypes[10]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *TransferOptions) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*TransferOptions) ProtoMessage() {}

func (x *TransferOptions) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[10]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use TransferOptions.ProtoReflect.Descriptor instead.
func (*TransferOptions) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{10}
}

func (x *TransferOptions) GetPriority() int32 {
	if x != nil {
		return x.Priority
	}
	return 0
}

func (x *TransferOptions) GetVerifyChunkChecksums() bool {
	if x != nil {
		return x.VerifyChunkChecksums
	}
	return false
}

type TransferRequest struct {
	state           protoimpl.MessageState `protogen:"open.v1"`
	RequestId       string                 `protobuf:"bytes,1,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"`
	FilesToTransfer []*FileMetadata        `protobuf:"bytes,2,rep,name=files_to_transfer,json=filesToTransfer,proto3" json:"files_to_transfer,omitempty"`
	Options         *TransferOptions       `protobuf:"bytes,3,opt,name=options,proto3" json:"options,omitempty"`
	unknownFields   protoimpl.UnknownFields
	sizeCache       protoimpl.SizeCache
}

func (x *TransferRequest) Reset() {
	*x = TransferRequest{}
	mi := &file_proto_qwrap_proto_msgTypes[11]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *TransferRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*TransferRequest) ProtoMessage() {}

func (x *TransferRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[11]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use TransferRequest.ProtoReflect.Descriptor instead.
func (*TransferRequest) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{11}
}

func (x *TransferRequest) GetRequestId() string {
	if x != nil {
		return x.RequestId
	}
	return ""
}

func (x *TransferRequest) GetFilesToTransfer() []*FileMetadata {
	if x != nil {
		return x.FilesToTransfer
	}
	return nil
}

func (x *TransferRequest) GetOptions() *TransferOptions {
	if x != nil {
		return x.Options
	}
	return nil
}

type ChunkInfo struct {
	state             protoimpl.MessageState `protogen:"open.v1"`
	FileId            string                 `protobuf:"bytes,1,opt,name=file_id,json=fileId,proto3" json:"file_id,omitempty"`
	ChunkId           uint64                 `protobuf:"varint,2,opt,name=chunk_id,json=chunkId,proto3" json:"chunk_id,omitempty"`
	Range             *ByteRange             `protobuf:"bytes,3,opt,name=range,proto3" json:"range,omitempty"` // <<<<< MODIFIÉ ET ESSENTIEL
	ChecksumAlgorithm ChecksumAlgorithm      `protobuf:"varint,4,opt,name=checksum_algorithm,json=checksumAlgorithm,proto3,enum=qwrap_proto.ChecksumAlgorithm" json:"checksum_algorithm,omitempty"`
	ChecksumValue     string                 `protobuf:"bytes,5,opt,name=checksum_value,json=checksumValue,proto3" json:"checksum_value,omitempty"`
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *ChunkInfo) Reset() {
	*x = ChunkInfo{}
	mi := &file_proto_qwrap_proto_msgTypes[12]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkInfo) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkInfo) ProtoMessage() {}

func (x *ChunkInfo) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[12]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkInfo.ProtoReflect.Descriptor instead.
func (*ChunkInfo) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{12}
}

func (x *ChunkInfo) GetFileId() string {
	if x != nil {
		return x.FileId
	}
	return ""
}

func (x *ChunkInfo) GetChunkId() uint64 {
	if x != nil {
		return x.ChunkId
	}
	return 0
}

func (x *ChunkInfo) GetRange() *ByteRange {
	if x != nil {
		return x.Range
	}
	return nil
}

func (x *ChunkInfo) GetChecksumAlgorithm() ChecksumAlgorithm {
	if x != nil {
		return x.ChecksumAlgorithm
	}
	return ChecksumAlgorithm_CHECKSUM_ALGORITHM_UNKNOWN
}

func (x *ChunkInfo) GetChecksumValue() string {
	if x != nil {
		return x.ChecksumValue
	}
	return ""
}

type ChunkAssignment struct {
	state                     protoimpl.MessageState `protogen:"open.v1"`
	ChunkInfo                 *ChunkInfo             `protobuf:"bytes,1,opt,name=chunk_info,json=chunkInfo,proto3" json:"chunk_info,omitempty"`
	AgentId                   string                 `protobuf:"bytes,2,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`
	AgentAddress              string                 `protobuf:"bytes,3,opt,name=agent_address,json=agentAddress,proto3" json:"agent_address,omitempty"`
	EstimatedAvailabilityTime *timestamppb.Timestamp `protobuf:"bytes,4,opt,name=estimated_availability_time,json=estimatedAvailabilityTime,proto3" json:"estimated_availability_time,omitempty"`
	unknownFields             protoimpl.UnknownFields
	sizeCache                 protoimpl.SizeCache
}

func (x *ChunkAssignment) Reset() {
	*x = ChunkAssignment{}
	mi := &file_proto_qwrap_proto_msgTypes[13]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkAssignment) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkAssignment) ProtoMessage() {}

func (x *ChunkAssignment) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[13]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkAssignment.ProtoReflect.Descriptor instead.
func (*ChunkAssignment) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{13}
}

func (x *ChunkAssignment) GetChunkInfo() *ChunkInfo {
	if x != nil {
		return x.ChunkInfo
	}
	return nil
}

func (x *ChunkAssignment) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *ChunkAssignment) GetAgentAddress() string {
	if x != nil {
		return x.AgentAddress
	}
	return ""
}

func (x *ChunkAssignment) GetEstimatedAvailabilityTime() *timestamppb.Timestamp {
	if x != nil {
		return x.EstimatedAvailabilityTime
	}
	return nil
}

type TransferPlan struct {
	state              protoimpl.MessageState `protogen:"open.v1"`
	PlanId             string                 `protobuf:"bytes,1,opt,name=plan_id,json=planId,proto3" json:"plan_id,omitempty"`
	ClientRequestId    string                 `protobuf:"bytes,2,opt,name=client_request_id,json=clientRequestId,proto3" json:"client_request_id,omitempty"`
	SourceFileMetadata []*FileMetadata        `protobuf:"bytes,3,rep,name=source_file_metadata,json=sourceFileMetadata,proto3" json:"source_file_metadata,omitempty"`
	DefaultChunkSize   int64                  `protobuf:"varint,4,opt,name=default_chunk_size,json=defaultChunkSize,proto3" json:"default_chunk_size,omitempty"` // Peut-être moins pertinent si ChunkInfo.Range est toujours utilisé
	ChunkAssignments   []*ChunkAssignment     `protobuf:"bytes,5,rep,name=chunk_assignments,json=chunkAssignments,proto3" json:"chunk_assignments,omitempty"`
	Options            *TransferOptions       `protobuf:"bytes,6,opt,name=options,proto3" json:"options,omitempty"`
	ErrorMessage       string                 `protobuf:"bytes,7,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	unknownFields      protoimpl.UnknownFields
	sizeCache          protoimpl.SizeCache
}

func (x *TransferPlan) Reset() {
	*x = TransferPlan{}
	mi := &file_proto_qwrap_proto_msgTypes[14]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *TransferPlan) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*TransferPlan) ProtoMessage() {}

func (x *TransferPlan) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[14]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use TransferPlan.ProtoReflect.Descriptor instead.
func (*TransferPlan) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{14}
}

func (x *TransferPlan) GetPlanId() string {
	if x != nil {
		return x.PlanId
	}
	return ""
}

func (x *TransferPlan) GetClientRequestId() string {
	if x != nil {
		return x.ClientRequestId
	}
	return ""
}

func (x *TransferPlan) GetSourceFileMetadata() []*FileMetadata {
	if x != nil {
		return x.SourceFileMetadata
	}
	return nil
}

func (x *TransferPlan) GetDefaultChunkSize() int64 {
	if x != nil {
		return x.DefaultChunkSize
	}
	return 0
}

func (x *TransferPlan) GetChunkAssignments() []*ChunkAssignment {
	if x != nil {
		return x.ChunkAssignments
	}
	return nil
}

func (x *TransferPlan) GetOptions() *TransferOptions {
	if x != nil {
		return x.Options
	}
	return nil
}

func (x *TransferPlan) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

type ClientReport struct {
	state           protoimpl.MessageState `protogen:"open.v1"`
	PlanId          string                 `protobuf:"bytes,1,opt,name=plan_id,json=planId,proto3" json:"plan_id,omitempty"`
	ReportTimestamp *timestamppb.Timestamp `protobuf:"bytes,2,opt,name=report_timestamp,json=reportTimestamp,proto3" json:"report_timestamp,omitempty"`
	ChunkStatuses   []*ChunkTransferStatus `protobuf:"bytes,3,rep,name=chunk_statuses,json=chunkStatuses,proto3" json:"chunk_statuses,omitempty"`
	unknownFields   protoimpl.UnknownFields
	sizeCache       protoimpl.SizeCache
}

func (x *ClientReport) Reset() {
	*x = ClientReport{}
	mi := &file_proto_qwrap_proto_msgTypes[15]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ClientReport) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ClientReport) ProtoMessage() {}

func (x *ClientReport) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[15]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ClientReport.ProtoReflect.Descriptor instead.
func (*ClientReport) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{15}
}

func (x *ClientReport) GetPlanId() string {
	if x != nil {
		return x.PlanId
	}
	return ""
}

func (x *ClientReport) GetReportTimestamp() *timestamppb.Timestamp {
	if x != nil {
		return x.ReportTimestamp
	}
	return nil
}

func (x *ClientReport) GetChunkStatuses() []*ChunkTransferStatus {
	if x != nil {
		return x.ChunkStatuses
	}
	return nil
}

type ChunkTransferStatus struct {
	state            protoimpl.MessageState `protogen:"open.v1"`
	ChunkInfo        *ChunkInfo             `protobuf:"bytes,1,opt,name=chunk_info,json=chunkInfo,proto3" json:"chunk_info,omitempty"`
	Event            TransferEvent          `protobuf:"varint,2,opt,name=event,proto3,enum=qwrap_proto.TransferEvent" json:"event,omitempty"`
	AgentId          string                 `protobuf:"bytes,3,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`
	Details          string                 `protobuf:"bytes,4,opt,name=details,proto3" json:"details,omitempty"`
	TransferDuration *durationpb.Duration   `protobuf:"bytes,5,opt,name=transfer_duration,json=transferDuration,proto3" json:"transfer_duration,omitempty"`
	unknownFields    protoimpl.UnknownFields
	sizeCache        protoimpl.SizeCache
}

func (x *ChunkTransferStatus) Reset() {
	*x = ChunkTransferStatus{}
	mi := &file_proto_qwrap_proto_msgTypes[16]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkTransferStatus) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkTransferStatus) ProtoMessage() {}

func (x *ChunkTransferStatus) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[16]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkTransferStatus.ProtoReflect.Descriptor instead.
func (*ChunkTransferStatus) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{16}
}

func (x *ChunkTransferStatus) GetChunkInfo() *ChunkInfo {
	if x != nil {
		return x.ChunkInfo
	}
	return nil
}

func (x *ChunkTransferStatus) GetEvent() TransferEvent {
	if x != nil {
		return x.Event
	}
	return TransferEvent_TRANSFER_EVENT_UNKNOWN
}

func (x *ChunkTransferStatus) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *ChunkTransferStatus) GetDetails() string {
	if x != nil {
		return x.Details
	}
	return ""
}

func (x *ChunkTransferStatus) GetTransferDuration() *durationpb.Duration {
	if x != nil {
		return x.TransferDuration
	}
	return nil
}

type UpdatedTransferPlan struct {
	state                   protoimpl.MessageState `protogen:"open.v1"`
	PlanId                  string                 `protobuf:"bytes,1,opt,name=plan_id,json=planId,proto3" json:"plan_id,omitempty"`
	NewOrUpdatedAssignments []*ChunkAssignment     `protobuf:"bytes,2,rep,name=new_or_updated_assignments,json=newOrUpdatedAssignments,proto3" json:"new_or_updated_assignments,omitempty"`
	InvalidatedChunks       []*ChunkInfo           `protobuf:"bytes,3,rep,name=invalidated_chunks,json=invalidatedChunks,proto3" json:"invalidated_chunks,omitempty"`
	unknownFields           protoimpl.UnknownFields
	sizeCache               protoimpl.SizeCache
}

func (x *UpdatedTransferPlan) Reset() {
	*x = UpdatedTransferPlan{}
	mi := &file_proto_qwrap_proto_msgTypes[17]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *UpdatedTransferPlan) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*UpdatedTransferPlan) ProtoMessage() {}

func (x *UpdatedTransferPlan) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[17]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use UpdatedTransferPlan.ProtoReflect.Descriptor instead.
func (*UpdatedTransferPlan) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{17}
}

func (x *UpdatedTransferPlan) GetPlanId() string {
	if x != nil {
		return x.PlanId
	}
	return ""
}

func (x *UpdatedTransferPlan) GetNewOrUpdatedAssignments() []*ChunkAssignment {
	if x != nil {
		return x.NewOrUpdatedAssignments
	}
	return nil
}

func (x *UpdatedTransferPlan) GetInvalidatedChunks() []*ChunkInfo {
	if x != nil {
		return x.InvalidatedChunks
	}
	return nil
}

// Message du client pour s'abonner aux mises à jour de plan
type RegisterForPlanUpdatesRequest struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	PlanId        string                 `protobuf:"bytes,1,opt,name=plan_id,json=planId,proto3" json:"plan_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *RegisterForPlanUpdatesRequest) Reset() {
	*x = RegisterForPlanUpdatesRequest{}
	mi := &file_proto_qwrap_proto_msgTypes[18]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *RegisterForPlanUpdatesRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*RegisterForPlanUpdatesRequest) ProtoMessage() {}

func (x *RegisterForPlanUpdatesRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[18]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use RegisterForPlanUpdatesRequest.ProtoReflect.Descriptor instead.
func (*RegisterForPlanUpdatesRequest) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{18}
}

func (x *RegisterForPlanUpdatesRequest) GetPlanId() string {
	if x != nil {
		return x.PlanId
	}
	return ""
}

// ==================== Messages Client <-> Agent ====================
type ChunkRequest struct {
	state              protoimpl.MessageState `protogen:"open.v1"`
	ChunkInfoRequested *ChunkInfo             `protobuf:"bytes,1,opt,name=chunk_info_requested,json=chunkInfoRequested,proto3" json:"chunk_info_requested,omitempty"` // <<<<< MODIFIÉ: Le client envoie les détails complets.
	unknownFields      protoimpl.UnknownFields
	sizeCache          protoimpl.SizeCache
}

func (x *ChunkRequest) Reset() {
	*x = ChunkRequest{}
	mi := &file_proto_qwrap_proto_msgTypes[19]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkRequest) ProtoMessage() {}

func (x *ChunkRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[19]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkRequest.ProtoReflect.Descriptor instead.
func (*ChunkRequest) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{19}
}

func (x *ChunkRequest) GetChunkInfoRequested() *ChunkInfo {
	if x != nil {
		return x.ChunkInfoRequested
	}
	return nil
}

type ChunkErrorResponse struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	FileId        string                 `protobuf:"bytes,1,opt,name=file_id,json=fileId,proto3" json:"file_id,omitempty"`     // Peut être extrait de ChunkInfoRequested
	ChunkId       uint64                 `protobuf:"varint,2,opt,name=chunk_id,json=chunkId,proto3" json:"chunk_id,omitempty"` // Peut être extrait de ChunkInfoRequested
	ErrorCode     ChunkErrorCode         `protobuf:"varint,3,opt,name=error_code,json=errorCode,proto3,enum=qwrap_proto.ChunkErrorCode" json:"error_code,omitempty"`
	Message       string                 `protobuf:"bytes,4,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ChunkErrorResponse) Reset() {
	*x = ChunkErrorResponse{}
	mi := &file_proto_qwrap_proto_msgTypes[20]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ChunkErrorResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ChunkErrorResponse) ProtoMessage() {}

func (x *ChunkErrorResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_qwrap_proto_msgTypes[20]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ChunkErrorResponse.ProtoReflect.Descriptor instead.
func (*ChunkErrorResponse) Descriptor() ([]byte, []int) {
	return file_proto_qwrap_proto_rawDescGZIP(), []int{20}
}

func (x *ChunkErrorResponse) GetFileId() string {
	if x != nil {
		return x.FileId
	}
	return ""
}

func (x *ChunkErrorResponse) GetChunkId() uint64 {
	if x != nil {
		return x.ChunkId
	}
	return 0
}

func (x *ChunkErrorResponse) GetErrorCode() ChunkErrorCode {
	if x != nil {
		return x.ErrorCode
	}
	return ChunkErrorCode_CHUNK_ERROR_UNKNOWN
}

func (x *ChunkErrorResponse) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

var File_proto_qwrap_proto protoreflect.FileDescriptor

const file_proto_qwrap_proto_rawDesc = "" +
	"\n" +
	"\x11proto/qwrap.proto\x12\vqwrap_proto\x1a\x1fgoogle/protobuf/timestamp.proto\x1a\x1egoogle/protobuf/duration.proto\"\xeb\x02\n" +
	"\x14StreamPurposeRequest\x12C\n" +
	"\apurpose\x18\x01 \x01(\x0e2).qwrap_proto.StreamPurposeRequest.PurposeR\apurpose\x12&\n" +
	"\x0fplan_id_context\x18\x02 \x01(\tR\rplanIdContext\"\xe5\x01\n" +
	"\aPurpose\x12\x13\n" +
	"\x0fPURPOSE_UNKNOWN\x10\x00\x12\x14\n" +
	"\x10TRANSFER_REQUEST\x10\x01\x12\x11\n" +
	"\rCLIENT_REPORT\x10\x02\x12\x1d\n" +
	"\x19REGISTER_FOR_PLAN_UPDATES\x10\x03\x12\x16\n" +
	"\x12AGENT_REGISTRATION\x10\x04\x12\x13\n" +
	"\x0fAGENT_HEARTBEAT\x10\x05\x12\x1d\n" +
	"\x19GET_FILE_METADATA_REQUEST\x10\x06\x12\x1e\n" +
	"\x1aGET_FILE_METADATA_RESPONSE\x10\a\x12\x11\n" +
	"\rCHUNK_REQUEST\x10\b\";\n" +
	"\tByteRange\x12\x16\n" +
	"\x06offset\x18\x01 \x01(\x03R\x06offset\x12\x16\n" +
	"\x06length\x18\x02 \x01(\x03R\x06length\"\xbf\x03\n" +
	"\fFileMetadata\x12\x17\n" +
	"\afile_id\x18\x01 \x01(\tR\x06fileId\x12\x1d\n" +
	"\n" +
	"total_size\x18\x02 \x01(\x03R\ttotalSize\x12M\n" +
	"\x12checksum_algorithm\x18\x03 \x01(\x0e2\x1e.qwrap_proto.ChecksumAlgorithmR\x11checksumAlgorithm\x12%\n" +
	"\x0echecksum_value\x18\x04 \x01(\tR\rchecksumValue\x12\x1d\n" +
	"\n" +
	"chunk_size\x18\x05 \x01(\x03R\tchunkSize\x12?\n" +
	"\rlast_modified\x18\x06 \x01(\v2\x1a.google.protobuf.TimestampR\flastModified\x12\\\n" +
	"\x11custom_attributes\x18\a \x03(\v2/.qwrap_proto.FileMetadata.CustomAttributesEntryR\x10customAttributes\x1aC\n" +
	"\x15CustomAttributesEntry\x12\x10\n" +
	"\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n" +
	"\x05value\x18\x02 \x01(\tR\x05value:\x028\x01\"\xb4\x01\n" +
	"\x18AgentRegistrationRequest\x12\x19\n" +
	"\bagent_id\x18\x01 \x01(\tR\aagentId\x12#\n" +
	"\ragent_address\x18\x02 \x01(\tR\fagentAddress\x12\"\n" +
	"\fcapabilities\x18\x03 \x03(\tR\fcapabilities\x124\n" +
	"\x16max_concurrent_streams\x18\x04 \x01(\x03R\x14maxConcurrentStreams\"\x99\x01\n" +
	"\x19AgentRegistrationResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12\x18\n" +
	"\amessage\x18\x02 \x01(\tR\amessage\x12H\n" +
	"\x12heartbeat_interval\x18\x03 \x01(\v2\x19.google.protobuf.DurationR\x11heartbeatInterval\"\xb2\x04\n" +
	"\x0eAgentHeartbeat\x12\x19\n" +
	"\bagent_id\x18\x01 \x01(\tR\aagentId\x128\n" +
	"\ttimestamp\x18\x02 \x01(\v2\x1a.google.protobuf.TimestampR\ttimestamp\x120\n" +
	"\x06status\x18\x03 \x01(\x0e2\x18.qwrap_proto.AgentStatusR\x06status\x12(\n" +
	"\x10cpu_load_percent\x18\x04 \x01(\x02R\x0ecpuLoadPercent\x12,\n" +
	"\x12memory_usage_bytes\x18\x05 \x01(\x03R\x10memoryUsageBytes\x126\n" +
	"\x17available_bandwidth_bps\x18\x06 \x01(\x03R\x15availableBandwidthBps\x12:\n" +
	"\x19active_client_connections\x18\a \x01(\x05R\x17activeClientConnections\x124\n" +
	"\x16active_chunk_transfers\x18\b \x01(\x05R\x14activeChunkTransfers\x12U\n" +
	"\x0ecustom_metrics\x18\t \x03(\v2..qwrap_proto.AgentHeartbeat.CustomMetricsEntryR\rcustomMetrics\x1a@\n" +
	"\x12CustomMetricsEntry\x12\x10\n" +
	"\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n" +
	"\x05value\x18\x02 \x01(\tR\x05value:\x028\x01\"\x13\n" +
	"\x11HeartbeatResponse\"P\n" +
	"\x16GetFileMetadataRequest\x12\x1d\n" +
	"\n" +
	"request_id\x18\x01 \x01(\tR\trequestId\x12\x17\n" +
	"\afile_id\x18\x02 \x01(\tR\x06fileId\"\xc4\x02\n" +
	"\x0fFilePortionInfo\x12$\n" +
	"\x0eglobal_file_id\x18\x01 \x01(\tR\fglobalFileId\x12\x16\n" +
	"\x06offset\x18\x02 \x01(\x03R\x06offset\x12\x1d\n" +
	"\n" +
	"num_chunks\x18\x03 \x01(\x03R\tnumChunks\x12\x1d\n" +
	"\n" +
	"chunk_size\x18\x04 \x01(\x03R\tchunkSize\x12+\n" +
	"\x0flast_chunk_size\x18\x05 \x01(\x03H\x00R\rlastChunkSize\x88\x01\x01\x12*\n" +
	"\x11chunk_index_start\x18\x06 \x01(\x04R\x0fchunkIndexStart\x12&\n" +
	"\x0fchunk_index_end\x18\a \x01(\x04R\rchunkIndexEnd\x12 \n" +
	"\fpath_on_disk\x18\b \x01(\tR\n" +
	"pathOnDiskB\x12\n" +
	"\x10_last_chunk_size\"\xc6\x02\n" +
	"\x17GetFileMetadataResponse\x12\x1d\n" +
	"\n" +
	"request_id\x18\x01 \x01(\tR\trequestId\x12\x19\n" +
	"\bagent_id\x18\x02 \x01(\tR\aagentId\x12P\n" +
	"\x14global_file_metadata\x18\x03 \x01(\v2\x19.qwrap_proto.FileMetadataH\x00R\x12globalFileMetadata\x88\x01\x01\x12\x14\n" +
	"\x05found\x18\x04 \x01(\bR\x05found\x12#\n" +
	"\rerror_message\x18\x05 \x01(\tR\ferrorMessage\x12K\n" +
	"\x12available_portions\x18\x06 \x03(\v2\x1c.qwrap_proto.FilePortionInfoR\x11availablePortionsB\x17\n" +
	"\x15_global_file_metadata\"c\n" +
	"\x0fTransferOptions\x12\x1a\n" +
	"\bpriority\x18\x01 \x01(\x05R\bpriority\x124\n" +
	"\x16verify_chunk_checksums\x18\x02 \x01(\bR\x14verifyChunkChecksums\"\xaf\x01\n" +
	"\x0fTransferRequest\x12\x1d\n" +
	"\n" +
	"request_id\x18\x01 \x01(\tR\trequestId\x12E\n" +
	"\x11files_to_transfer\x18\x02 \x03(\v2\x19.qwrap_proto.FileMetadataR\x0ffilesToTransfer\x126\n" +
	"\aoptions\x18\x03 \x01(\v2\x1c.qwrap_proto.TransferOptionsR\aoptions\"\xe3\x01\n" +
	"\tChunkInfo\x12\x17\n" +
	"\afile_id\x18\x01 \x01(\tR\x06fileId\x12\x19\n" +
	"\bchunk_id\x18\x02 \x01(\x04R\achunkId\x12,\n" +
	"\x05range\x18\x03 \x01(\v2\x16.qwrap_proto.ByteRangeR\x05range\x12M\n" +
	"\x12checksum_algorithm\x18\x04 \x01(\x0e2\x1e.qwrap_proto.ChecksumAlgorithmR\x11checksumAlgorithm\x12%\n" +
	"\x0echecksum_value\x18\x05 \x01(\tR\rchecksumValue\"\xe4\x01\n" +
	"\x0fChunkAssignment\x125\n" +
	"\n" +
	"chunk_info\x18\x01 \x01(\v2\x16.qwrap_proto.ChunkInfoR\tchunkInfo\x12\x19\n" +
	"\bagent_id\x18\x02 \x01(\tR\aagentId\x12#\n" +
	"\ragent_address\x18\x03 \x01(\tR\fagentAddress\x12Z\n" +
	"\x1bestimated_availability_time\x18\x04 \x01(\v2\x1a.google.protobuf.TimestampR\x19estimatedAvailabilityTime\"\xf6\x02\n" +
	"\fTransferPlan\x12\x17\n" +
	"\aplan_id\x18\x01 \x01(\tR\x06planId\x12*\n" +
	"\x11client_request_id\x18\x02 \x01(\tR\x0fclientRequestId\x12K\n" +
	"\x14source_file_metadata\x18\x03 \x03(\v2\x19.qwrap_proto.FileMetadataR\x12sourceFileMetadata\x12,\n" +
	"\x12default_chunk_size\x18\x04 \x01(\x03R\x10defaultChunkSize\x12I\n" +
	"\x11chunk_assignments\x18\x05 \x03(\v2\x1c.qwrap_proto.ChunkAssignmentR\x10chunkAssignments\x126\n" +
	"\aoptions\x18\x06 \x01(\v2\x1c.qwrap_proto.TransferOptionsR\aoptions\x12#\n" +
	"\rerror_message\x18\a \x01(\tR\ferrorMessage\"\xb7\x01\n" +
	"\fClientReport\x12\x17\n" +
	"\aplan_id\x18\x01 \x01(\tR\x06planId\x12E\n" +
	"\x10report_timestamp\x18\x02 \x01(\v2\x1a.google.protobuf.TimestampR\x0freportTimestamp\x12G\n" +
	"\x0echunk_statuses\x18\x03 \x03(\v2 .qwrap_proto.ChunkTransferStatusR\rchunkStatuses\"\xfb\x01\n" +
	"\x13ChunkTransferStatus\x125\n" +
	"\n" +
	"chunk_info\x18\x01 \x01(\v2\x16.qwrap_proto.ChunkInfoR\tchunkInfo\x120\n" +
	"\x05event\x18\x02 \x01(\x0e2\x1a.qwrap_proto.TransferEventR\x05event\x12\x19\n" +
	"\bagent_id\x18\x03 \x01(\tR\aagentId\x12\x18\n" +
	"\adetails\x18\x04 \x01(\tR\adetails\x12F\n" +
	"\x11transfer_duration\x18\x05 \x01(\v2\x19.google.protobuf.DurationR\x10transferDuration\"\xd0\x01\n" +
	"\x13UpdatedTransferPlan\x12\x17\n" +
	"\aplan_id\x18\x01 \x01(\tR\x06planId\x12Y\n" +
	"\x1anew_or_updated_assignments\x18\x02 \x03(\v2\x1c.qwrap_proto.ChunkAssignmentR\x17newOrUpdatedAssignments\x12E\n" +
	"\x12invalidated_chunks\x18\x03 \x03(\v2\x16.qwrap_proto.ChunkInfoR\x11invalidatedChunks\"8\n" +
	"\x1dRegisterForPlanUpdatesRequest\x12\x17\n" +
	"\aplan_id\x18\x01 \x01(\tR\x06planId\"X\n" +
	"\fChunkRequest\x12H\n" +
	"\x14chunk_info_requested\x18\x01 \x01(\v2\x16.qwrap_proto.ChunkInfoR\x12chunkInfoRequested\"\x9e\x01\n" +
	"\x12ChunkErrorResponse\x12\x17\n" +
	"\afile_id\x18\x01 \x01(\tR\x06fileId\x12\x19\n" +
	"\bchunk_id\x18\x02 \x01(\x04R\achunkId\x12:\n" +
	"\n" +
	"error_code\x18\x03 \x01(\x0e2\x1b.qwrap_proto.ChunkErrorCodeR\terrorCode\x12\x18\n" +
	"\amessage\x18\x04 \x01(\tR\amessage*\xc6\x01\n" +
	"\vAgentStatus\x12\x18\n" +
	"\x14AGENT_STATUS_UNKNOWN\x10\x00\x12\x1c\n" +
	"\x18AGENT_STATUS_REGISTERING\x10\x01\x12\x15\n" +
	"\x11AGENT_STATUS_IDLE\x10\x02\x12\x17\n" +
	"\x13AGENT_STATUS_ACTIVE\x10\x03\x12\x19\n" +
	"\x15AGENT_STATUS_DEGRADED\x10\x04\x12\x1c\n" +
	"\x18AGENT_STATUS_UNAVAILABLE\x10\x05\x12\x16\n" +
	"\x12AGENT_STATUS_ERROR\x10\x06*b\n" +
	"\x11ChecksumAlgorithm\x12\x1e\n" +
	"\x1aCHECKSUM_ALGORITHM_UNKNOWN\x10\x00\x12\n" +
	"\n" +
	"\x06SHA256\x10\x01\x12\n" +
	"\n" +
	"\x06SHA512\x10\x02\x12\a\n" +
	"\x03MD5\x10\x03\x12\f\n" +
	"\bXXHASH64\x10\x04*\xe8\x01\n" +
	"\rTransferEvent\x12\x1a\n" +
	"\x16TRANSFER_EVENT_UNKNOWN\x10\x00\x12\x14\n" +
	"\x10DOWNLOAD_STARTED\x10\x01\x12\x17\n" +
	"\x13DOWNLOAD_SUCCESSFUL\x10\x02\x12%\n" +
	"!DOWNLOAD_FAILED_AGENT_UNREACHABLE\x10\x03\x12\"\n" +
	"\x1eDOWNLOAD_FAILED_TRANSFER_ERROR\x10\x04\x12%\n" +
	"!DOWNLOAD_FAILED_CHECKSUM_MISMATCH\x10\x05\x12\x1a\n" +
	"\x16REASSIGNMENT_REQUESTED\x10\x06*\x8b\x01\n" +
	"\x0eChunkErrorCode\x12\x17\n" +
	"\x13CHUNK_ERROR_UNKNOWN\x10\x00\x12\x13\n" +
	"\x0fCHUNK_NOT_FOUND\x10\x01\x12\x1b\n" +
	"\x17CHUNK_NOT_AVAILABLE_YET\x10\x02\x12\x14\n" +
	"\x10AGENT_OVERLOADED\x10\x03\x12\x18\n" +
	"\x14INTERNAL_AGENT_ERROR\x10\x04B\x13Z\x11qwrap/pkg/qwrappbb\x06proto3"

var (
	file_proto_qwrap_proto_rawDescOnce sync.Once
	file_proto_qwrap_proto_rawDescData []byte
)

func file_proto_qwrap_proto_rawDescGZIP() []byte {
	file_proto_qwrap_proto_rawDescOnce.Do(func() {
		file_proto_qwrap_proto_rawDescData = protoimpl.X.CompressGZIP(unsafe.Slice(unsafe.StringData(file_proto_qwrap_proto_rawDesc), len(file_proto_qwrap_proto_rawDesc)))
	})
	return file_proto_qwrap_proto_rawDescData
}

var file_proto_qwrap_proto_enumTypes = make([]protoimpl.EnumInfo, 5)
var file_proto_qwrap_proto_msgTypes = make([]protoimpl.MessageInfo, 23)
var file_proto_qwrap_proto_goTypes = []any{
	(AgentStatus)(0),                      // 0: qwrap_proto.AgentStatus
	(ChecksumAlgorithm)(0),                // 1: qwrap_proto.ChecksumAlgorithm
	(TransferEvent)(0),                    // 2: qwrap_proto.TransferEvent
	(ChunkErrorCode)(0),                   // 3: qwrap_proto.ChunkErrorCode
	(StreamPurposeRequest_Purpose)(0),     // 4: qwrap_proto.StreamPurposeRequest.Purpose
	(*StreamPurposeRequest)(nil),          // 5: qwrap_proto.StreamPurposeRequest
	(*ByteRange)(nil),                     // 6: qwrap_proto.ByteRange
	(*FileMetadata)(nil),                  // 7: qwrap_proto.FileMetadata
	(*AgentRegistrationRequest)(nil),      // 8: qwrap_proto.AgentRegistrationRequest
	(*AgentRegistrationResponse)(nil),     // 9: qwrap_proto.AgentRegistrationResponse
	(*AgentHeartbeat)(nil),                // 10: qwrap_proto.AgentHeartbeat
	(*HeartbeatResponse)(nil),             // 11: qwrap_proto.HeartbeatResponse
	(*GetFileMetadataRequest)(nil),        // 12: qwrap_proto.GetFileMetadataRequest
	(*FilePortionInfo)(nil),               // 13: qwrap_proto.FilePortionInfo
	(*GetFileMetadataResponse)(nil),       // 14: qwrap_proto.GetFileMetadataResponse
	(*TransferOptions)(nil),               // 15: qwrap_proto.TransferOptions
	(*TransferRequest)(nil),               // 16: qwrap_proto.TransferRequest
	(*ChunkInfo)(nil),                     // 17: qwrap_proto.ChunkInfo
	(*ChunkAssignment)(nil),               // 18: qwrap_proto.ChunkAssignment
	(*TransferPlan)(nil),                  // 19: qwrap_proto.TransferPlan
	(*ClientReport)(nil),                  // 20: qwrap_proto.ClientReport
	(*ChunkTransferStatus)(nil),           // 21: qwrap_proto.ChunkTransferStatus
	(*UpdatedTransferPlan)(nil),           // 22: qwrap_proto.UpdatedTransferPlan
	(*RegisterForPlanUpdatesRequest)(nil), // 23: qwrap_proto.RegisterForPlanUpdatesRequest
	(*ChunkRequest)(nil),                  // 24: qwrap_proto.ChunkRequest
	(*ChunkErrorResponse)(nil),            // 25: qwrap_proto.ChunkErrorResponse
	nil,                                   // 26: qwrap_proto.FileMetadata.CustomAttributesEntry
	nil,                                   // 27: qwrap_proto.AgentHeartbeat.CustomMetricsEntry
	(*timestamppb.Timestamp)(nil),         // 28: google.protobuf.Timestamp
	(*durationpb.Duration)(nil),           // 29: google.protobuf.Duration
}
var file_proto_qwrap_proto_depIdxs = []int32{
	4,  // 0: qwrap_proto.StreamPurposeRequest.purpose:type_name -> qwrap_proto.StreamPurposeRequest.Purpose
	1,  // 1: qwrap_proto.FileMetadata.checksum_algorithm:type_name -> qwrap_proto.ChecksumAlgorithm
	28, // 2: qwrap_proto.FileMetadata.last_modified:type_name -> google.protobuf.Timestamp
	26, // 3: qwrap_proto.FileMetadata.custom_attributes:type_name -> qwrap_proto.FileMetadata.CustomAttributesEntry
	29, // 4: qwrap_proto.AgentRegistrationResponse.heartbeat_interval:type_name -> google.protobuf.Duration
	28, // 5: qwrap_proto.AgentHeartbeat.timestamp:type_name -> google.protobuf.Timestamp
	0,  // 6: qwrap_proto.AgentHeartbeat.status:type_name -> qwrap_proto.AgentStatus
	27, // 7: qwrap_proto.AgentHeartbeat.custom_metrics:type_name -> qwrap_proto.AgentHeartbeat.CustomMetricsEntry
	7,  // 8: qwrap_proto.GetFileMetadataResponse.global_file_metadata:type_name -> qwrap_proto.FileMetadata
	13, // 9: qwrap_proto.GetFileMetadataResponse.available_portions:type_name -> qwrap_proto.FilePortionInfo
	7,  // 10: qwrap_proto.TransferRequest.files_to_transfer:type_name -> qwrap_proto.FileMetadata
	15, // 11: qwrap_proto.TransferRequest.options:type_name -> qwrap_proto.TransferOptions
	6,  // 12: qwrap_proto.ChunkInfo.range:type_name -> qwrap_proto.ByteRange
	1,  // 13: qwrap_proto.ChunkInfo.checksum_algorithm:type_name -> qwrap_proto.ChecksumAlgorithm
	17, // 14: qwrap_proto.ChunkAssignment.chunk_info:type_name -> qwrap_proto.ChunkInfo
	28, // 15: qwrap_proto.ChunkAssignment.estimated_availability_time:type_name -> google.protobuf.Timestamp
	7,  // 16: qwrap_proto.TransferPlan.source_file_metadata:type_name -> qwrap_proto.FileMetadata
	18, // 17: qwrap_proto.TransferPlan.chunk_assignments:type_name -> qwrap_proto.ChunkAssignment
	15, // 18: qwrap_proto.TransferPlan.options:type_name -> qwrap_proto.TransferOptions
	28, // 19: qwrap_proto.ClientReport.report_timestamp:type_name -> google.protobuf.Timestamp
	21, // 20: qwrap_proto.ClientReport.chunk_statuses:type_name -> qwrap_proto.ChunkTransferStatus
	17, // 21: qwrap_proto.ChunkTransferStatus.chunk_info:type_name -> qwrap_proto.ChunkInfo
	2,  // 22: qwrap_proto.ChunkTransferStatus.event:type_name -> qwrap_proto.TransferEvent
	29, // 23: qwrap_proto.ChunkTransferStatus.transfer_duration:type_name -> google.protobuf.Duration
	18, // 24: qwrap_proto.UpdatedTransferPlan.new_or_updated_assignments:type_name -> qwrap_proto.ChunkAssignment
	17, // 25: qwrap_proto.UpdatedTransferPlan.invalidated_chunks:type_name -> qwrap_proto.ChunkInfo
	17, // 26: qwrap_proto.ChunkRequest.chunk_info_requested:type_name -> qwrap_proto.ChunkInfo
	3,  // 27: qwrap_proto.ChunkErrorResponse.error_code:type_name -> qwrap_proto.ChunkErrorCode
	28, // [28:28] is the sub-list for method output_type
	28, // [28:28] is the sub-list for method input_type
	28, // [28:28] is the sub-list for extension type_name
	28, // [28:28] is the sub-list for extension extendee
	0,  // [0:28] is the sub-list for field type_name
}

func init() { file_proto_qwrap_proto_init() }
func file_proto_qwrap_proto_init() {
	if File_proto_qwrap_proto != nil {
		return
	}
	file_proto_qwrap_proto_msgTypes[8].OneofWrappers = []any{}
	file_proto_qwrap_proto_msgTypes[9].OneofWrappers = []any{}
	type x struct{}
	out := protoimpl.TypeBuilder{
		File: protoimpl.DescBuilder{
			GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
			RawDescriptor: unsafe.Slice(unsafe.StringData(file_proto_qwrap_proto_rawDesc), len(file_proto_qwrap_proto_rawDesc)),
			NumEnums:      5,
			NumMessages:   23,
			NumExtensions: 0,
			NumServices:   0,
		},
		GoTypes:           file_proto_qwrap_proto_goTypes,
		DependencyIndexes: file_proto_qwrap_proto_depIdxs,
		EnumInfos:         file_proto_qwrap_proto_enumTypes,
		MessageInfos:      file_proto_qwrap_proto_msgTypes,
	}.Build()
	File_proto_qwrap_proto = out.File
	file_proto_qwrap_proto_goTypes = nil
	file_proto_qwrap_proto_depIdxs = nil
}


# ===== FILE: cmd/datagen/main.go =====
package main

import (
	"flag"
	"log/slog"
	"os"

	"qwrap/internal/datagen"
)

func main() {
	// --- Configuration & Flags ---
	configPath := flag.String("config", "", "Path to a JSON configuration file.")

	// Flags to override config file settings
	inputPath := flag.String("input", "", "Path to an input file or directory. Overrides config.")
	outputDir := flag.String("output-dir", "", "Output directory for agent data. Overrides config.")
	numAgents := flag.Int("agents", 0, "Number of agents. Overrides config.")
	chunkSize := flag.Int64("chunk-size", 0, "Chunk size in bytes. Overrides config.")
	genSize := flag.Int64("gen-size", 0, "Total size of generated data in bytes. Overrides config.")

	flag.Parse()

	logger := slog.New(slog.NewTextHandler(os.Stdout, &slog.HandlerOptions{Level: slog.LevelDebug}))

	// Load config from file or use defaults
	var config *datagen.Config
	var err error
	if *configPath != "" {
		config, err = datagen.LoadConfig(*configPath)
		if err != nil {
			logger.Error("Failed to load configuration file", "path", *configPath, "error", err)
			os.Exit(1)
		}
		logger.Info("Loaded configuration from file", "path", *configPath)
	} else {
		config = datagen.DefaultConfig()
		logger.Info("Using default configuration.")
	}

	// Override config with flags if they were provided
	if *inputPath != "" {
		config.InputPath = *inputPath
	}
	if *outputDir != "" {
		config.OutputDir = *outputDir
	}
	if *numAgents > 0 {
		config.NumAgents = *numAgents
	}
	if *chunkSize > 0 {
		config.ChunkSize = *chunkSize
	}
	if *genSize > 0 {
		config.GenerationMode.TotalSize = *genSize
	}

	// --- Execution ---
	generator, err := datagen.NewGenerator(config, logger)
	if err != nil {
		logger.Error("Failed to initialize data generator", "error", err)
		os.Exit(1)
	}

	if err := generator.Run(); err != nil {
		logger.Error("Failed to run data generation", "error", err)
		os.Exit(1)
	}

	logger.Info("Data generation completed successfully.")
}


# ===== FILE: cmd/client/main.go =====
// cmd/client/main.go
package main

import (
	"context"
	"crypto/tls"
	"crypto/x509" // Pour charger les CA système ou un CA personnalisé
	"errors"
	"flag"
	"fmt"
	"io"
	"io/ioutil" // Pour ioutil.ReadFile, bien que os.ReadFile soit préféré en Go 1.16+
	"log/slog"
	"os"
	"os/signal"
	"strings"
	"syscall"
	"time"

	"qwrap/internal/client/downloader"
	connectionmanager "qwrap/internal/client/manager" // Renommé en connectionmanager dans les fichiers
	"qwrap/internal/client/orchestratorclient"
	"qwrap/internal/framing"

	"qwrap/pkg/qwrappb"
)

// ALPN constants (pourraient être dans un package partagé `common` ou `protocol`)
// const alpnClientToOrchestrator = "qwrap-orchestrator" // Défini dans orchestratorclient
const alpnClientToAgent = "qwrap"

func main() {
	var (
		orchestratorAddr = flag.String("orchestrator", "localhost:7878", "Orchestrator address")
		fileID           = flag.String("file", "testfile.dat", "File ID to download (must exist on an agent known to orchestrator)")
		fileSize         = flag.Int64("size", 0, "Total size of the file in bytes (required if orchestrator can't determine it)")
		destPath         = flag.String("o", "downloaded_testfile.dat", "Destination path for the downloaded file")
		insecure         = flag.Bool("insecure", true, "Skip TLS certificate verification (FOR TESTING AGAINST SELF-SIGNED CERTS)")
		caFileOrch       = flag.String("ca-orch", "", "Path to CA certificate file for Orchestrator (if not using system CAs or insecure)")
		caFileAgent     = flag.String("ca-agent", "", "Path to CA certificate file for Agents (if not using system CAs or insecure)")
		logLevelStr     = flag.String("loglevel", "debug", "Log level (debug, info, warn, error)")
	)
	flag.Parse()

	if *fileID == "" {
		slog.Error("File ID must be provided with -file")
		os.Exit(1)
	}

	var logLevel slog.Level
	switch strings.ToLower(*logLevelStr) {
	case "debug":
		logLevel = slog.LevelDebug
	case "info":
		logLevel = slog.LevelInfo
	case "warn":
		logLevel = slog.LevelWarn
	case "error":
		logLevel = slog.LevelError
	default:
		logLevel = slog.LevelInfo
	}
	logger := slog.New(slog.NewTextHandler(os.Stdout, &slog.HandlerOptions{Level: logLevel, AddSource: true}))
	slog.SetDefault(logger)

	logger.Info("qwrap client starting", "orchestrator", *orchestratorAddr, "file_id", *fileID, "destination", *destPath)

	ctx, cancel := context.WithCancel(context.Background())
	defer cancel()
	sigChan := make(chan os.Signal, 1)
	signal.Notify(sigChan, syscall.SIGINT, syscall.SIGTERM)
	go func() {
		sig := <-sigChan
		logger.Info("Received signal, shutting down client...", "signal", sig)
		cancel()
	}()

	// TLS Config pour la connexion à l'Orchestrateur
	orchTLSClientConf := &tls.Config{
		InsecureSkipVerify: *insecure,
		NextProtos:         []string{orchestratorclient.QuicCommsALPN()}, // Utiliser la constante exportée
	}
	if *caFileOrch != "" {
		if err := loadCACert(orchTLSClientConf, *caFileOrch, logger); err != nil {
			logger.Error("Failed to load CA for orchestrator, proceeding with system CAs or insecure", "ca_file", *caFileOrch, "error", err)
		}
	}

	// TLS Config pour la connexion aux Agents (peut être la même ou différente)
	agentTLSClientConf := &tls.Config{
		InsecureSkipVerify: *insecure, // Pourrait être un flag séparé `insecure-agent`
		NextProtos:         []string{alpnClientToAgent},
	}
	if *caFileAgent != "" {
		if err := loadCACert(agentTLSClientConf, *caFileAgent, logger); err != nil {
			logger.Error("Failed to load CA for agents, proceeding with system CAs or insecure", "ca_file", *caFileAgent, "error", err)
		}
	}

	// 1. Créer ConnectionManager pour les connexions aux Agents
	connMgrConfig := connectionmanager.Config{ // Assurez-vous que le nom du package est correct
		TLSClientConfig: agentTLSClientConf, // Utiliser la config TLS spécifique aux agents
		Logger:          logger,
		MaxConnections:  20, // Exemple
		DialTimeout:     5 * time.Second,
	}
	connMgr := connectionmanager.NewConnectionManager(connMgrConfig)
	defer connMgr.CloseAll()

	// 2. Définir les Factories de framing
	writerFactory := func(w io.Writer, l *slog.Logger) framing.Writer {
		if l == nil {
			l = logger
		}
		return framing.NewMessageWriter(w, l.With("role", "writer"))
	}
	readerFactory := func(r io.Reader, l *slog.Logger) framing.Reader {
		if l == nil {
			l = logger
		}
		return framing.NewMessageReader(r, l.With("role", "reader"))
	}

	// 3. Créer OrchestratorComms (en utilisant l'implémentation QUIC)
	orchComms, err := orchestratorclient.NewQuicComms(*orchestratorAddr, orchTLSClientConf, logger, writerFactory, readerFactory)
	if err != nil {
		logger.Error("Failed to create orchestrator comms", "error", err)
		os.Exit(1)
	}

	connectCtx, connectCancel := context.WithTimeout(ctx, 10*time.Second)
	if err := orchComms.Connect(connectCtx, *orchestratorAddr); err != nil { // Passer l'adresse ici
		logger.Error("Failed to connect to orchestrator", "address", *orchestratorAddr, "error", err)
		connectCancel()
		os.Exit(1)
	}
	connectCancel()
	defer orchComms.Close()

	// 4. Créer le Downloader
	// Wrap writerFactory and readerFactory to match the expected signature
	dl := downloader.NewDownloader(connMgr, orchComms, logger, 10, writerFactory, readerFactory)

	// 5. Préparer la TransferRequest
	clientReqId := fmt.Sprintf("client-req-%d", time.Now().UnixNano())
	transferReq := &qwrappb.TransferRequest{
		RequestId: clientReqId,
		FilesToTransfer: []*qwrappb.FileMetadata{
			{
				FileId:    *fileID,
				TotalSize: *fileSize, // Pass the file size if provided
			},
		},
		Options: &qwrappb.TransferOptions{VerifyChunkChecksums: true, Priority: 0},
	}

	if *fileSize > 0 {
		logger.Info("Client prepared TransferRequest with FileID and FileSize", "file_id", *fileID, "file_size", *fileSize, "request_id", clientReqId)
	} else {
		logger.Info("Client prepared TransferRequest, FileID only", "file_id", *fileID, "request_id", clientReqId)
	}

	// 6. Démarrer le téléchargement
	logger.Info("Initiating download process...", "file_id", *fileID)
	progressChan, finalErrorChan := dl.Download(ctx, transferReq, *destPath)

	// 7. Gérer la progression et le résultat final
	var lastProgress downloader.ProgressInfo
	ticker := time.NewTicker(2 * time.Second)
	defer ticker.Stop()
	progressBarUpdate := false

	for {
		select {
		case p, ok := <-progressChan:
			if !ok {
				progressChan = nil
				continue
			} // Channel fermé
			lastProgress = p
			progressBarUpdate = true
		case err := <-finalErrorChan:
			if progressBarUpdate {
				printProgress(logger, *fileID, lastProgress, true)
			} // Afficher la dernière progression avant le message final
			if err != nil {
				logger.Error("Download failed", "file_id", *fileID, "error", err)
				os.Exit(1)
			}
			logger.Info("Download completed successfully!", "file_id", *fileID, "destination", *destPath)
			return // Succès
		case <-ticker.C:
			if progressBarUpdate && progressChan != nil { // Afficher seulement si la progression a changé
				printProgress(logger, *fileID, lastProgress, false)
				progressBarUpdate = false
			}
		case <-ctx.Done():
			logger.Info("Client shutting down due to context cancellation (main).")
			select {
			case errShutdown := <-finalErrorChan:
				if errShutdown != nil && !errors.Is(errShutdown, context.Canceled) && !errors.Is(errShutdown, downloader.ErrDownloadCancelled) {
					logger.Error("Download ended with error during shutdown", "error", errShutdown)
				} else {
					logger.Info("Download ended cleanly or was cancelled during shutdown.")
				}
			case <-time.After(10 * time.Second):
				logger.Warn("Timeout waiting for downloader to finish after cancellation.")
			}
			return
		}
	}
}

func printProgress(logger *slog.Logger, fileID string, p downloader.ProgressInfo, final bool) {
	percent := 0.0
	if p.TotalSizeBytes > 0 {
		percent = (float64(p.DownloadedSizeBytes) / float64(p.TotalSizeBytes)) * 100
	}
	status := "Progress"
	if final && p.FailedChunks > 0 {
		status = "Last progress (failed)"
	} else if final {
		status = "Final progress"
	}

	logger.Info(status,
		"file", fileID,
		"progress", fmt.Sprintf("%.2f%%", percent),
		"chunks", fmt.Sprintf("%d/%d", p.CompletedChunks, p.TotalChunks),
		"bytes", fmt.Sprintf("%s/%s", formatBytes(p.DownloadedSizeBytes), formatBytes(p.TotalSizeBytes)),
		"active", p.ActiveDownloads,
		"failed", p.FailedChunks,
	)
}

func formatBytes(b int64) string {
	const unit = 1024
	if b < unit {
		return fmt.Sprintf("%d B", b)
	}
	div, exp := int64(unit), 0
	for n := b / unit; n >= unit; n /= unit {
		div *= unit
		exp++
	}
	return fmt.Sprintf("%.1f %ciB", float64(b)/float64(div), "KMGTPE"[exp])
}

// loadCACert charge un certificat CA depuis un fichier et l'ajoute au pool du tls.Config
func loadCACert(tlsConfig *tls.Config, caFile string, logger *slog.Logger) error {
	caCert, err := ioutil.ReadFile(caFile) // os.ReadFile à partir de Go 1.16
	if err != nil {
		return fmt.Errorf("failed to read CA certificate file %s: %w", caFile, err)
	}
	if tlsConfig.RootCAs == nil {
		pool, errSys := x509.SystemCertPool()
		if errSys != nil {
			logger.Warn("Failed to load system cert pool, creating new empty pool.", "error", errSys)
			pool = x509.NewCertPool()
		}
		tlsConfig.RootCAs = pool
	}
	if ok := tlsConfig.RootCAs.AppendCertsFromPEM(caCert); !ok {
		return fmt.Errorf("failed to append CA certificate from %s to pool", caFile)
	}
	logger.Info("Successfully loaded CA certificate", "ca_file", caFile)
	return nil
}


# ===== FILE: cmd/agent/main.go =====
// cmd/agent/main.go
package main // ou le nom de votre package agent

import (
	"context"
	"crypto/rand"
	"crypto/rsa"
	"crypto/tls"
	"crypto/x509"
	"crypto/x509/pkix"
	"errors"
	"flag"
	"fmt"
	"io"
	"log/slog"
	"math/big"
	"net"
	"os"
	"os/signal"
	"strings"
	"sync"
	"syscall"
	"time"

	chunkserver "qwrap/internal/agent"
	"qwrap/internal/framing"
	"qwrap/pkg/qwrappb"

	"github.com/quic-go/quic-go"
	"google.golang.org/protobuf/types/known/timestamppb"
)

const (
	alpnAgentToOrchestrator = "qwrap-agent-orch" // ALPN pour comm Agent -> Orchestrateur
	alpnAgentChunkServer    = "qwrap"            // ALPN pour le serveur de chunks de cet agent
	defaultMaxStreamsAgent  = int64(50)          // Capacité par défaut de l'agent
)

// Pour l'enregistrement et les heartbeats, l'agent agit comme un client QUIC vers l'orchestrateur.
// On pourrait réutiliser une structure similaire à OrchestratorComms du client, ou une plus simple.
type orchestratorAgentComms struct {
	orchestratorAddress string
	agentID             string
	tlsConfig           *tls.Config
	quicConfig          *quic.Config
	logger              *slog.Logger
	conn                quic.Connection
	mu                  sync.Mutex
	writerFactory       func(io.Writer, *slog.Logger) framing.Writer
	readerFactory       func(io.Reader, *slog.Logger) framing.Reader
}

func newOrchestratorAgentComms(addr, agentID string, tlsConf *tls.Config, logger *slog.Logger, wf func(io.Writer, *slog.Logger) framing.Writer, rf func(io.Reader, *slog.Logger) framing.Reader) *orchestratorAgentComms {
	orchSpecificTLSConf := tlsConf.Clone() // Éviter de modifier la config partagée
	orchSpecificTLSConf.NextProtos = []string{alpnAgentToOrchestrator}

	return &orchestratorAgentComms{
		orchestratorAddress: addr,
		agentID:             agentID,
		tlsConfig:           orchSpecificTLSConf,
		quicConfig:          &quic.Config{MaxIdleTimeout: 20 * time.Second, HandshakeIdleTimeout: 5 * time.Second},
		logger:              logger.With("subcomponent", "agent_orch_comms"),
		writerFactory:       wf,
		readerFactory:       rf,
	}
}

func (c *orchestratorAgentComms) connect(ctx context.Context) (quic.Connection, error) {
	c.mu.Lock()
	// Si une connexion existe et est active, la réutiliser
	if c.conn != nil && c.conn.Context().Err() == nil {
		conn := c.conn
		c.mu.Unlock()
		c.logger.Debug("Reusing existing connection to orchestrator")
		return conn, nil
	}
	// Si une connexion existait mais est morte, la fermer proprement avant d'en ouvrir une nouvelle
	if c.conn != nil {
		_ = c.conn.CloseWithError(0, "stale connection") // Ignorer l'erreur de fermeture ici
		c.conn = nil
	}
	c.mu.Unlock() // Libérer le verrou avant l'appel bloquant DialAddr

	c.logger.Info("Agent attempting to connect to orchestrator", "address", c.orchestratorAddress)
	conn, err := quic.DialAddr(ctx, c.orchestratorAddress, c.tlsConfig, c.quicConfig)
	if err != nil {
		c.logger.Error("Agent failed to dial orchestrator", "address", c.orchestratorAddress, "error", err)
		return nil, err
	}

	c.mu.Lock()
	c.conn = conn // Stocker la nouvelle connexion
	c.mu.Unlock()
	c.logger.Info("Agent successfully connected to orchestrator", "address", c.orchestratorAddress)
	return conn, nil
}

func (c *orchestratorAgentComms) register(ctx context.Context, agentListenAddr string, capabilities []string, maxStreams int64) (*qwrappb.AgentRegistrationResponse, error) {
	conn, err := c.connect(ctx)
	if err != nil {
		return nil, err
	}

	streamCtx, streamCancel := context.WithTimeout(ctx, 10*time.Second) // Timeout pour l'opération de stream
	defer streamCancel()
	stream, err := conn.OpenStreamSync(streamCtx)
	if err != nil {
		c.mu.Lock()
		if c.conn != nil {
			c.conn.CloseWithError(1, "reg openstream fail")
			c.conn = nil
		}
		c.mu.Unlock()
		return nil, err
	}
	defer stream.Close()

	logger := c.logger.With("stream_id", stream.StreamID(), "operation", "register")
	writer := c.writerFactory(stream, logger)
	reader := c.readerFactory(stream, logger)

	purpose := &qwrappb.StreamPurposeRequest{Purpose: qwrappb.StreamPurposeRequest_AGENT_REGISTRATION}
	if err := writer.WriteMsg(streamCtx, purpose); err != nil {
		return nil, err
	} // Utiliser streamCtx

	req := &qwrappb.AgentRegistrationRequest{AgentId: c.agentID, AgentAddress: agentListenAddr, Capabilities: capabilities, MaxConcurrentStreams: maxStreams}
	if err := writer.WriteMsg(streamCtx, req); err != nil {
		return nil, err
	}

	var resp qwrappb.AgentRegistrationResponse
	if err := reader.ReadMsg(streamCtx, &resp); err != nil {
		return nil, err
	}
	return &resp, nil
}

func (c *orchestratorAgentComms) sendHeartbeat(ctx context.Context, status qwrappb.AgentStatus, cpu float32, mem int64, bw int64, activeConns, activeTransfers int32) error {
	conn, err := c.connect(ctx)
	if err != nil {
		return err
	}

	streamCtx, streamCancel := context.WithTimeout(ctx, 5*time.Second) // Timeout court pour un heartbeat
	defer streamCancel()
	stream, err := conn.OpenStreamSync(streamCtx) // Unidirectionnel est OK pour HB si pas de réponse
	if err != nil {
		c.mu.Lock()
		if c.conn != nil {
			c.conn.CloseWithError(1, "hb openstream fail")
			c.conn = nil
		}
		c.mu.Unlock()
		return err
	}
	defer stream.Close()

	logger := c.logger.With("stream_id", stream.StreamID(), "operation", "heartbeat")
	writer := c.writerFactory(stream, logger)

	purpose := &qwrappb.StreamPurposeRequest{Purpose: qwrappb.StreamPurposeRequest_AGENT_HEARTBEAT}
	if err := writer.WriteMsg(streamCtx, purpose); err != nil {
		return err
	}

	hb := &qwrappb.AgentHeartbeat{AgentId: c.agentID, Timestamp: timestamppb.Now(), Status: status, CpuLoadPercent: cpu, MemoryUsageBytes: mem, AvailableBandwidthBps: bw, ActiveClientConnections: activeConns, ActiveChunkTransfers: activeTransfers}
	if err := writer.WriteMsg(streamCtx, hb); err != nil {
		c.logger.Warn("Agent failed to send heartbeat data", "error", err)
		c.mu.Lock()
		if c.conn != nil {
			c.conn.CloseWithError(1, "hb send fail")
			c.conn = nil
		}
		c.mu.Unlock()
		return err
	}
	return nil
}

func (c *orchestratorAgentComms) Close() {
	c.mu.Lock()
	if c.conn != nil {
		_ = c.conn.CloseWithError(0, "agent comms to orchestrator closing")
		c.conn = nil
	}
	c.mu.Unlock()
	c.logger.Info("Closed agent connection to orchestrator.")
}

func main() {
	agentID := flag.String("id", fmt.Sprintf("agent-%d", time.Now().UnixNano()%10000), "Unique Agent ID")
	listenAddr := flag.String("listen", ":0", "Address for ChunkServer to listen on (e.g., :8080, :0 pour port auto)")
	dataDir := flag.String("data", "./agent_data_files", "Directory containing files to serve")
	orchestratorAddr := flag.String("orchestrator", "localhost:7878", "Orchestrator address")
	insecureOrch := flag.Bool("insecure-orch", true, "Skip TLS cert verification for orchestrator connection (testing - set to true for local tests)")
	certFile := flag.String("cert", "", "TLS certificate file for ChunkServer (generates self-signed if empty)")
	keyFile := flag.String("key", "", "TLS key file for ChunkServer (generates self-signed if empty)")
	logLevelStr := flag.String("loglevel", "info", "Log level (debug, info, warn, error)")
	flag.Parse()

	var logLevel slog.Level
	switch strings.ToLower(*logLevelStr) {
	case "debug":
		logLevel = slog.LevelDebug
	case "info":
		logLevel = slog.LevelInfo
	case "warn":
		logLevel = slog.LevelWarn
	case "error":
		logLevel = slog.LevelError
	default:
		logLevel = slog.LevelInfo
	}

	logger := slog.New(slog.NewTextHandler(os.Stdout, &slog.HandlerOptions{Level: logLevel}))
	slog.SetDefault(logger)                          // Setting this makes it the default for all slog calls in other packages too.
	agentLogger := logger.With("agent_id", *agentID) // Use this logger for agent-specific messages

	agentLogger.Info("qwrap agent starting up...", "listen_addr_config", *listenAddr, "data_dir", *dataDir, "orchestrator", *orchestratorAddr)

	if err := os.MkdirAll(*dataDir, 0755); err != nil {
		agentLogger.Error("Failed to create data directory", "path", *dataDir, "error", err)
		os.Exit(1)
	}

	// TLS pour le ChunkServer
	serverTLSConf, err := setupAgentServerTLS(*certFile, *keyFile, agentLogger)
	if err != nil {
		agentLogger.Error("Failed to setup TLS for ChunkServer", "error", err)
		os.Exit(1)
	}
	// serverTLSConf.NextProtos est déjà mis à {"qwrap"} par setupAgentServerTLS

	// TLS pour la connexion de l'Agent à l'Orchestrateur
	orchClientTLSConf := &tls.Config{
		InsecureSkipVerify: *insecureOrch, // Important pour les tests locaux avec certs auto-signés pour l'orchestrateur
		// NextProtos est géré par newOrchestratorAgentComms
	}

	ctx, cancel := context.WithCancel(context.Background())
	defer cancel()
	sigChan := make(chan os.Signal, 1)
	signal.Notify(sigChan, syscall.SIGINT, syscall.SIGTERM)
	go func() {
		sig := <-sigChan
		agentLogger.Info("Received signal, shutting down agent...", "signal", sig)
		cancel()
	}()

	writerFactory := func(w io.Writer, l *slog.Logger) framing.Writer { return framing.NewMessageWriter(w, l) }
	readerFactory := func(r io.Reader, l *slog.Logger) framing.Reader { return framing.NewMessageReader(r, l) }

	agentCommsToOrch := newOrchestratorAgentComms(*orchestratorAddr, *agentID, orchClientTLSConf, agentLogger, writerFactory, readerFactory)
	defer agentCommsToOrch.Close()

	// Démarrer le ChunkServer
	csConfig := chunkserver.ChunkServerConfig{
		ListenAddr:           *listenAddr,
		BaseDataDir:          *dataDir,
		TLSConfig:            serverTLSConf,
		Logger:               agentLogger, // Passer le logger de l'agent
		AgentId:              *agentID,
		MessageWriterFactory: writerFactory, // Passer les factories
		MessageReaderFactory: readerFactory,
	}
	cs, err := chunkserver.NewChunkServer(csConfig)
	if err != nil {
		agentLogger.Error("Failed to create ChunkServer", "error", err)
		os.Exit(1)
	}

	var wgAgent sync.WaitGroup
	wgAgent.Add(1)
	var actualListenAddr string
	var serverErrChan = make(chan error, 1) // Pour récupérer l'erreur de cs.Start

	go func() {
		defer wgAgent.Done()
		agentLogger.Info("ChunkServer attempting to start...")
		if errS := cs.Start(ctx); errS != nil {
			serverErrChan <- errS // Envoyer l'erreur au channel
			if !errors.Is(errS, context.Canceled) && !strings.Contains(errS.Error(), "server closed") && !strings.Contains(errS.Error(), "context canceled") {
				agentLogger.Error("ChunkServer failed or exited unexpectedly", "error", errS)
				cancel() // Arrêter tout l'agent si le chunk server critique échoue
			}
		}
		agentLogger.Info("ChunkServer Start goroutine finished.")
		close(serverErrChan) // Fermer le channel quand la goroutine se termine
	}()

	// Attendre que le serveur démarre ou échoue, ou timeout
	select {
	case errStart := <-serverErrChan:
		if errStart != nil {
			agentLogger.Error("ChunkServer could not start", "error", errStart)
			cancel()
			wgAgent.Wait()
			os.Exit(1)
		}
		// Si errStart est nil mais le channel est fermé, Start a réussi et s'est terminé (ne devrait pas arriver si ctx est ok)
	case <-time.After(2 * time.Second): // Timeout pour le démarrage du serveur
		if cs.Addr() == nil {
			agentLogger.Error("ChunkServer failed to start and provide an address within timeout.")
			cancel()
			wgAgent.Wait()
			os.Exit(1)
		}
	}
	// S'assurer que cs.Addr() n'est pas nil
	if cs.Addr() == nil {
		agentLogger.Error("ChunkServer address is nil after start attempt.")
		cancel()
		wgAgent.Wait()
		os.Exit(1)
	}
	actualListenAddr = cs.Addr().String()
	agentLogger.Info("ChunkServer is listening on", "actual_address", actualListenAddr)

	// Enregistrement
	regCtx, regCancel := context.WithTimeout(ctx, 15*time.Second)
	regResp, err := agentCommsToOrch.register(regCtx, actualListenAddr, []string{"storage_local"}, defaultMaxStreamsAgent)
	regCancel()
	if err != nil {
		agentLogger.Error("Failed to register with orchestrator", "error", err)
		cancel()
		wgAgent.Wait()
		os.Exit(1)
	}
	if !regResp.Success {
		agentLogger.Error("Orchestrator denied registration", "message", regResp.Message)
		cancel()
		wgAgent.Wait()
		os.Exit(1)
	}

	agentLogger.Info("Agent successfully registered with orchestrator", "reported_listen_addr", actualListenAddr)
	heartbeatInterval := 10 * time.Second
	if regResp.HeartbeatInterval != nil && regResp.HeartbeatInterval.CheckValid() == nil {
		sugInterval := regResp.HeartbeatInterval.AsDuration()
		if sugInterval >= 2*time.Second {
			heartbeatInterval = sugInterval
		} // Minimum 2s
	}
	agentLogger.Info("Heartbeat interval set", "interval", heartbeatInterval)

	// Boucle Heartbeat
	wgAgent.Add(1)
	go func() { /* ... (boucle heartbeat comme avant, en utilisant agentLogger) ... */
		defer wgAgent.Done()
		ticker := time.NewTicker(heartbeatInterval)
		defer ticker.Stop()
		agentLogger.Info("Heartbeat loop started")
		for {
			select {
			case <-ticker.C:
				hbCtx, hbCancel := context.WithTimeout(ctx, heartbeatInterval/2)
				// TODO: Collecter les vraies métriques de l'agent
				errHB := agentCommsToOrch.sendHeartbeat(hbCtx, qwrappb.AgentStatus_AGENT_STATUS_IDLE, 0, 0, 0, 0, 0)
				hbCancel()
				if errHB != nil {
					agentLogger.Warn("Failed to send heartbeat", "error", errHB)
				}
			case <-ctx.Done():
				agentLogger.Info("Heartbeat loop stopping.")
				return
			}
		}
	}()

	agentLogger.Info("Agent is running. Press Ctrl+C to exit.")
	<-ctx.Done() // Attendre le signal d'arrêt

	agentLogger.Info("Agent shutting down main process...")
	// L'annulation du contexte `ctx` devrait déjà signaler au ChunkServer et à la boucle de heartbeat de s'arrêter.
	// cs.Stop() pourrait être appelé ici avec un timeout plus court si nécessaire, mais ctx devrait suffire.

	agentCommsToOrch.Close()
	wgAgent.Wait() // Attendre que le ChunkServer et la boucle de heartbeat se terminent
	agentLogger.Info("Agent shutdown complete.")
}

// setupAgentServerTLS génère un certificat TLS auto-signé temporaire pour le serveur agent
// ou charge à partir de fichiers si spécifié.
// ATTENTION: En production, utilisez des certificats valides !
func setupAgentServerTLS(certFile, keyFile string, logger *slog.Logger) (*tls.Config, error) {
	if certFile != "" && keyFile != "" {
		logger.Info("Loading TLS certificate for Agent's ChunkServer from files", "cert_file", certFile, "key_file", keyFile)
		cert, err := tls.LoadX509KeyPair(certFile, keyFile)
		if err != nil {
			return nil, fmt.Errorf("load TLS key pair: %w", err)
		}
		return &tls.Config{Certificates: []tls.Certificate{cert}, NextProtos: []string{alpnAgentChunkServer}}, nil
	}
	logger.Warn("No TLS cert/key files provided for ChunkServer, generating self-signed (INSECURE)")
	key, _ := rsa.GenerateKey(rand.Reader, 2048)
	template := x509.Certificate{
		SerialNumber: big.NewInt(time.Now().Unix()), Subject: pkix.Name{Organization: []string{"qwrap-agent-self"}},
		NotBefore: time.Now(), NotAfter: time.Now().Add(30 * 24 * time.Hour), // 30 jours
		KeyUsage: x509.KeyUsageKeyEncipherment | x509.KeyUsageDigitalSignature, ExtKeyUsage: []x509.ExtKeyUsage{x509.ExtKeyUsageServerAuth},
		IPAddresses: []net.IP{net.ParseIP("127.0.0.1"), net.ParseIP("::1")}, DNSNames: []string{"localhost"},
	}
	certDER, _ := x509.CreateCertificate(rand.Reader, &template, &template, &key.PublicKey, key)
	return &tls.Config{
		Certificates: []tls.Certificate{{Certificate: [][]byte{certDER}, PrivateKey: key}},
		NextProtos:   []string{alpnAgentChunkServer},
	}, nil
}


# ===== FILE: cmd/orchestrator/main.go =====
// cmd/orchestrator/main.go
package main

import (
	"context"
	"crypto/rand"
	"crypto/rsa"
	"crypto/tls"
	"crypto/x509"
	"crypto/x509/pkix"
	"encoding/pem"
	"errors"
	"flag"
	"fmt"
	"io"
	"log/slog"
	"math/big"
	"net"
	"os"
	"os/signal"
	"strings"
	"syscall"
	"time"

	"qwrap/internal/framing"
	"qwrap/internal/orchestrator/scheduler"
	"qwrap/internal/orchestrator/server"
	statemanager "qwrap/internal/orchestrator/state"
)

// ALPN constants (pourraient être dans un package partagé `common` ou `protocol`)
const (
	alpnOrchestratorForClients = "qwrap-orchestrator" // Client -> Orchestrator
	alpnOrchestratorForAgents  = "qwrap-agent-orch"   // Agent -> Orchestrator
)

func main() {
	listenAddr := flag.String("listen", "0.0.0.0:7878", "Address for Orchestrator to listen on")
	certFile := flag.String("cert", "", "TLS certificate file (generates self-signed if empty)")
	keyFile := flag.String("key", "", "TLS key file (generates self-signed if empty)")
	dbPath := flag.String("dbpath", "orchestrator.db", "Path for the StateManager database file")
	logLevelStr := flag.String("loglevel", "info", "Log level (debug, info, warn, error)")
	flag.Parse()

	var logLevel slog.Level
	switch strings.ToLower(*logLevelStr) {
	case "debug":
		logLevel = slog.LevelDebug
	case "info":
		logLevel = slog.LevelInfo
	case "warn":
		logLevel = slog.LevelWarn
	case "error":
		logLevel = slog.LevelError
	default:
		logLevel = slog.LevelInfo
	}
	logger := slog.New(slog.NewTextHandler(os.Stdout, &slog.HandlerOptions{Level: logLevel, AddSource: true}))
	slog.SetDefault(logger) // Définit le logger global pour les packages qui pourraient l'utiliser

	logger.Info("qwrap orchestrator starting...", "listen_addr", *listenAddr, "log_level", logLevel.String())

	orchestratorTLSConf, err := setupOrchestratorTLS(*certFile, *keyFile, logger)
	if err != nil {
		logger.Error("Failed to setup TLS config for Orchestrator", "error", err)
		os.Exit(1)
	}

	// Contexte principal pour l'application, annulé sur SIGINT/SIGTERM
	ctx, cancel := context.WithCancel(context.Background())
	defer cancel() // S'assurer que cancel est appelé à la fin de main

	sigChan := make(chan os.Signal, 1)
	signal.Notify(sigChan, syscall.SIGINT, syscall.SIGTERM)
	go func() {
		sig := <-sigChan
		logger.Info("Received signal, shutting down orchestrator...", "signal", sig.String())
		cancel() // Déclenche l'arrêt gracieux
	}()

	// 1. Initialiser StateManager
	smConfig := statemanager.StateManagerConfig{
		Logger: logger.With("subsystem", "statemanager"),
		DBPath: *dbPath,
	}
	stateMgr, err := statemanager.NewStateManager(smConfig)
	if err != nil {
		logger.Error("Failed to initialize StateManager", "error", err)
		os.Exit(1)
	}
	defer func() {
		logger.Info("Closing StateManager...")
		if err := stateMgr.Close(); err != nil {
			logger.Error("Failed to close StateManager cleanly", "error", err)
		}
	}()
	logger.Info("StateManager initialized")
	// TODO: stateMgr.LoadState(ctx) // Pour la persistance future

	// 2. Initialiser Scheduler
	schedConfig := scheduler.SchedulerConfig{
		Logger:                   logger.With("subsystem", "scheduler"),
		DefaultAlgorithm:         scheduler.AlgoLeastLoaded,
		AgentHeartbeatTimeout:    30 * time.Second,
		AgentEvictionGracePeriod: 2 * time.Minute, // Un peu plus court pour les tests
	}
	sched := scheduler.NewScheduler(schedConfig)
	sched.StartBackgroundTasks(ctx) // Démarrer le nettoyage des agents
	logger.Info("Scheduler initialized and background tasks started")

	// 3. Initialiser les factories de framing
	// Le logger passé ici sera le logger de base du serveur, les handlers ajouteront plus de contexte.
	writerFactory := func(w io.Writer, l *slog.Logger) framing.Writer {
		if l == nil {
			l = logger
		} // Fallback
		return framing.NewMessageWriter(w, l)
	}
	readerFactory := func(r io.Reader, l *slog.Logger) framing.Reader {
		if l == nil {
			l = logger
		} // Fallback
		return framing.NewMessageReader(r, l)
	}

	// 4. Initialiser et démarrer OrchestratorServer
	serverConfig := server.OrchestratorServerConfig{
		ListenAddr:           *listenAddr,
		TLSConfig:            orchestratorTLSConf,
		Logger:               logger.With("subsystem", "quic_server"),
		Scheduler:            sched,
		StateManager:         stateMgr,
		MessageWriterFactory: writerFactory,
		MessageReaderFactory: readerFactory,
	}
	orchestratorSrv, err := server.NewOrchestratorServer(serverConfig)
	if err != nil {
		logger.Error("Failed to create orchestrator server", "error", err)
		os.Exit(1)
	}

	logger.Info("Orchestrator server attempting to start...")
	// Start est bloquant et gère son propre arrêt sur ctx.Done()
	err = orchestratorSrv.Start(ctx)
	if err != nil && !errors.Is(err, context.Canceled) && !strings.Contains(err.Error(), "server closed") {
		// server closed est une erreur normale sur l'arrêt du listener par ctx.Done
		logger.Error("Orchestrator server failed or exited unexpectedly", "error", err)
		// cancel() est déjà appelé par le defer ou le signal handler
		// os.Exit(1) // Quitter si le serveur principal ne peut pas démarrer/tourner
	}

	// Attendre explicitement que le contexte soit annulé si Start retourne nil (arrêt normal)
	// Cela garantit que main ne se termine pas avant que le signal handler ait appelé cancel()
	// et que les tâches de fond aient une chance de se terminer.
	if err == nil || errors.Is(err, context.Canceled) || strings.Contains(err.Error(), "server closed") {
		logger.Info("Orchestrator server Start() returned, waiting for context cancellation to exit main...")
		<-ctx.Done() // Attendre ici si ce n'est pas déjà fait
	}

	logger.Info("Orchestrator main process shutting down...")
	// orchestratorSrv.Stop() est appelé implicitement lorsque son propre contexte (passé à Start) est annulé.
	// Les tâches de fond du scheduler s'arrêteront aussi via leur contexte.
	// StateManager n'a pas de tâches de fond pour l'instant.
	logger.Info("Orchestrator shutdown complete.")
}

func setupOrchestratorTLS(certFile, keyFile string, logger *slog.Logger) (*tls.Config, error) {
	if certFile != "" && keyFile != "" {
		logger.Info("Loading TLS certificate for Orchestrator from files", "cert_file", certFile, "key_file", keyFile)
		cert, err := tls.LoadX509KeyPair(certFile, keyFile)
		if err != nil {
			return nil, fmt.Errorf("failed to load Orchestrator TLS key pair: %w", err)
		}
		return &tls.Config{
			Certificates: []tls.Certificate{cert},
			NextProtos:   []string{alpnOrchestratorForClients, alpnOrchestratorForAgents},
		}, nil
	}

	logger.Warn("No TLS cert/key files provided for Orchestrator, generating self-signed certificate (INSECURE, FOR TESTING ONLY)")
	key, err := rsa.GenerateKey(rand.Reader, 2048)
	if err != nil {
		return nil, fmt.Errorf("failed to generate RSA key: %w", err)
	}

	template := x509.Certificate{
		SerialNumber: big.NewInt(time.Now().Unix()), // Un numéro de série simple
		Subject: pkix.Name{
			Organization: []string{"qwrap-orchestrator-self-signed"},
			CommonName:   "localhost", // Important pour la validation du client si pas InsecureSkipVerify
		},
		NotBefore:             time.Now(),
		NotAfter:              time.Now().Add(365 * 24 * time.Hour), // Valide pour 1 an
		KeyUsage:              x509.KeyUsageKeyEncipherment | x509.KeyUsageDigitalSignature | x509.KeyUsageCertSign,
		ExtKeyUsage:           []x509.ExtKeyUsage{x509.ExtKeyUsageServerAuth, x509.ExtKeyUsageClientAuth}, // ServerAuth est crucial
		BasicConstraintsValid: true,
		IsCA:                  true, // Pour pouvoir signer d'autres certs si besoin, ou juste pour être simple
		IPAddresses:           []net.IP{net.ParseIP("0.0.0.0"), net.ParseIP("127.0.0.1"), net.ParseIP("::1"), net.ParseIP("::")},
		DNSNames:              []string{"localhost", "orchestrator.qwrap.test.internal"}, // Noms que les clients peuvent utiliser
	}
	certDER, err := x509.CreateCertificate(rand.Reader, &template, &template, &key.PublicKey, key)
	if err != nil {
		return nil, fmt.Errorf("failed to create self-signed certificate: %w", err)
	}

	// Optionnel: sauvegarder les clés générées
	if err := os.WriteFile("orchestrator-selfsigned.crt", pem.EncodeToMemory(&pem.Block{Type: "CERTIFICATE", Bytes: certDER}), 0644); err != nil {
		logger.Warn("Failed to save self-signed orchestrator cert", "error", err)
	}
	privBytes, _ := x509.MarshalPKCS8PrivateKey(key)
	if err := os.WriteFile("orchestrator-selfsigned.key", pem.EncodeToMemory(&pem.Block{Type: "PRIVATE KEY", Bytes: privBytes}), 0600); err != nil {
		logger.Warn("Failed to save self-signed orchestrator key", "error", err)
	}
	logger.Info("Saved self-signed orchestrator certificate to orchestrator-selfsigned.crt and orchestrator-selfsigned.key")

	return &tls.Config{
		Certificates: []tls.Certificate{{Certificate: [][]byte{certDER}, PrivateKey: key}},
		NextProtos:   []string{alpnOrchestratorForClients, alpnOrchestratorForAgents},
	}, nil
}


# ===== FILE: logs/agent001.log =====
time=2025-06-17T17:09:19.190+02:00 level=INFO msg="qwrap agent starting up..." agent_id=agent001 listen_addr_config=localhost:8080 data_dir=/home/bradley/work/qwrap-ws/data/agents/agent001 orchestrator=localhost:7878
time=2025-06-17T17:09:19.190+02:00 level=WARN msg="No TLS cert/key files provided for ChunkServer, generating self-signed (INSECURE)" agent_id=agent001
time=2025-06-17T17:09:19.444+02:00 level=INFO msg="Successfully loaded inventory from disk" agent_id=agent001 component=inventory path=/home/bradley/work/qwrap-ws/data/agents/agent001/inventory.json
time=2025-06-17T17:09:19.444+02:00 level=INFO msg="ChunkServer attempting to start..." agent_id=agent001
time=2025-06-17T17:09:19.445+02:00 level=INFO msg="failed to sufficiently increase receive buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details."
time=2025-06-17T17:09:19.445+02:00 level=INFO msg="ChunkServer started, listening" agent_id=agent001 address=127.0.0.1:8080
time=2025-06-17T17:09:21.445+02:00 level=INFO msg="ChunkServer is listening on" agent_id=agent001 actual_address=127.0.0.1:8080
time=2025-06-17T17:09:21.445+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:09:21.450+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:09:21.450+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 subcomponent=agent_orch_comms stream_id=0 operation=register
time=2025-06-17T17:09:21.451+02:00 level=INFO msg="Agent successfully registered with orchestrator" agent_id=agent001 reported_listen_addr=127.0.0.1:8080
time=2025-06-17T17:09:21.451+02:00 level=INFO msg="Heartbeat interval set" agent_id=agent001 interval=10s
time=2025-06-17T17:09:21.451+02:00 level=INFO msg="Agent is running. Press Ctrl+C to exit." agent_id=agent001
time=2025-06-17T17:09:21.451+02:00 level=INFO msg="Heartbeat loop started" agent_id=agent001
time=2025-06-17T17:09:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent001 remote_addr=127.0.0.1:54547
time=2025-06-17T17:09:37.490+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent001 remote_addr=127.0.0.1:54547
time=2025-06-17T17:09:37.490+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:54547 stream_id=0
time=2025-06-17T17:09:37.490+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:54547 stream_id=0
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:54547 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:54547 request_id=orch-meta-sirene.mp4-agent001 file_id=sirene.mp4
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:54547 file_id=sirene.mp4
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:54547 request_id=orch-meta-sirene.mp4-agent001 found=true
time=2025-06-17T17:09:37.491+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent001 remote_addr=127.0.0.1:54547 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:09:37.493+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent001 remote_addr=127.0.0.1:54547
time=2025-06-17T17:09:37.518+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent001 remote_addr=127.0.0.1:42636
time=2025-06-17T17:09:37.518+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent001 remote_addr=127.0.0.1:42636
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=0
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=4
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=8
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=12
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=12
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=12 error=EOF
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=0
time=2025-06-17T17:09:37.519+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.519+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=0 offset=0 length=1048576
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=4
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=4 error=EOF
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=8
time=2025-06-17T17:09:37.519+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=8 error=EOF
time=2025-06-17T17:09:37.530+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:37.536+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=16
time=2025-06-17T17:09:37.536+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=16
time=2025-06-17T17:09:37.536+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.536+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=6 offset=6291456 length=1048576
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=20
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=24
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=24
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=20
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=20 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=20 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=9 offset=9437184 length=1048576
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=3 offset=3145728 length=1048576
time=2025-06-17T17:09:37.560+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:37.564+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=28
time=2025-06-17T17:09:37.564+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=32
time=2025-06-17T17:09:37.564+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=32
time=2025-06-17T17:09:37.564+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.564+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=12 offset=12582912 length=1048576
time=2025-06-17T17:09:37.564+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=28
time=2025-06-17T17:09:37.565+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=28 error=EOF
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=36
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=40
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=44
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=48
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=48
time=2025-06-17T17:09:37.569+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=40
time=2025-06-17T17:09:37.569+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=18 offset=18874368 length=1048576
time=2025-06-17T17:09:37.569+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.569+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=15 offset=15728640 length=1048576
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=36
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=44
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=36 error=EOF
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=44 error=EOF
time=2025-06-17T17:09:37.578+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=52
time=2025-06-17T17:09:37.578+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=56
time=2025-06-17T17:09:37.578+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=56
time=2025-06-17T17:09:37.578+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.578+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=21 offset=22020096 length=1048576
time=2025-06-17T17:09:37.578+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=52
time=2025-06-17T17:09:37.578+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=52 error=EOF
time=2025-06-17T17:09:37.580+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:37.582+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=20 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:37.584+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=60
time=2025-06-17T17:09:37.584+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=64
time=2025-06-17T17:09:37.584+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=64
time=2025-06-17T17:09:37.585+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.585+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=24 offset=25165824 length=1048576
time=2025-06-17T17:09:37.585+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=60
time=2025-06-17T17:09:37.585+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=60 error=EOF
time=2025-06-17T17:09:37.594+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:37.595+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=68
time=2025-06-17T17:09:37.595+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=72
time=2025-06-17T17:09:37.595+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=72
time=2025-06-17T17:09:37.595+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=72 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.595+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=72 remote_addr=127.0.0.1:42636 file_id=sirene.mp4 chunk_id=27 offset=28311552 length=1048576
time=2025-06-17T17:09:37.595+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=68
time=2025-06-17T17:09:37.595+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:42636 stream_id=68 error=EOF
time=2025-06-17T17:09:37.600+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:37.600+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:37.605+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:37.605+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:37.607+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=72 remote_addr=127.0.0.1:42636 bytes_sent=1048576
time=2025-06-17T17:09:41.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:09:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:10:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:10:07.634+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent001 remote_addr=127.0.0.1:42636 error="timeout: no recent network activity"
time=2025-06-17T17:10:07.634+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent001 remote_addr=127.0.0.1:42636
time=2025-06-17T17:10:11.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:10:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:10:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:10:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:10:51.461+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:11:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:11:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:11:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:11:31.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:11:41.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:11:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:12:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:12:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:12:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:12:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:12:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:12:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:13:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:13:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:13:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:13:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:13:41.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:13:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:14:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:14:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent001 remote_addr=127.0.0.1:54980
time=2025-06-17T17:14:19.560+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent001 remote_addr=127.0.0.1:54980
time=2025-06-17T17:14:19.560+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:54980 stream_id=0
time=2025-06-17T17:14:19.560+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:54980 stream_id=0
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:54980 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:54980 request_id=orch-meta-sirene.mp4-agent001 file_id=sirene.mp4
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:54980 file_id=sirene.mp4
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:54980 request_id=orch-meta-sirene.mp4-agent001 found=true
time=2025-06-17T17:14:19.561+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent001 remote_addr=127.0.0.1:54980 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:14:19.561+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent001 remote_addr=127.0.0.1:54980
time=2025-06-17T17:14:19.588+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent001 remote_addr=127.0.0.1:41181
time=2025-06-17T17:14:19.588+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent001 remote_addr=127.0.0.1:41181
time=2025-06-17T17:14:19.588+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=0
time=2025-06-17T17:14:19.588+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=4
time=2025-06-17T17:14:19.588+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=4
time=2025-06-17T17:14:19.588+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=4 error=EOF
time=2025-06-17T17:14:19.588+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=0
time=2025-06-17T17:14:19.588+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.588+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=8
time=2025-06-17T17:14:19.588+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=12
time=2025-06-17T17:14:19.589+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=12
time=2025-06-17T17:14:19.589+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=0 offset=0 length=1048576
time=2025-06-17T17:14:19.589+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=8
time=2025-06-17T17:14:19.589+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=8 error=EOF
time=2025-06-17T17:14:19.589+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=12 error=EOF
time=2025-06-17T17:14:19.592+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=16
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=20
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=24
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=24
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=3 offset=3145728 length=1048576
time=2025-06-17T17:14:19.601+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=16
time=2025-06-17T17:14:19.601+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.601+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=9 offset=9437184 length=1048576
time=2025-06-17T17:14:19.601+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=20
time=2025-06-17T17:14:19.601+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=20 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.601+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=20 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=6 offset=6291456 length=1048576
time=2025-06-17T17:14:19.615+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=20 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:19.615+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:19.616+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=28
time=2025-06-17T17:14:19.616+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=32
time=2025-06-17T17:14:19.616+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=28
time=2025-06-17T17:14:19.616+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=28 error=EOF
time=2025-06-17T17:14:19.617+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=32
time=2025-06-17T17:14:19.617+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.617+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=12 offset=12582912 length=1048576
time=2025-06-17T17:14:19.620+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=36
time=2025-06-17T17:14:19.620+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=40
time=2025-06-17T17:14:19.620+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=40
time=2025-06-17T17:14:19.620+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.620+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=15 offset=15728640 length=1048576
time=2025-06-17T17:14:19.620+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:19.620+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=36
time=2025-06-17T17:14:19.620+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=36 error=EOF
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=44
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=48
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=48
time=2025-06-17T17:14:19.624+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.624+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=18 offset=18874368 length=1048576
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=44
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=44 error=EOF
time=2025-06-17T17:14:19.627+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=52
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=56
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=56
time=2025-06-17T17:14:19.628+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.628+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=21 offset=22020096 length=1048576
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=52
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=52 error=EOF
time=2025-06-17T17:14:19.631+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:19.634+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=60
time=2025-06-17T17:14:19.634+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=64
time=2025-06-17T17:14:19.634+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=64
time=2025-06-17T17:14:19.634+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.634+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=24 offset=25165824 length=1048576
time=2025-06-17T17:14:19.635+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=60
time=2025-06-17T17:14:19.635+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=60 error=EOF
time=2025-06-17T17:14:19.636+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:19.637+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:19.639+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=68
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=72
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=72
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=68
time=2025-06-17T17:14:19.640+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=72 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:41181 stream_id=68 error=EOF
time=2025-06-17T17:14:19.640+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=72 remote_addr=127.0.0.1:41181 file_id=sirene.mp4 chunk_id=27 offset=28311552 length=1048576
time=2025-06-17T17:14:19.645+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=72 remote_addr=127.0.0.1:41181 bytes_sent=1048576
time=2025-06-17T17:14:21.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:14:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:14:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:14:49.651+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent001 remote_addr=127.0.0.1:41181 error="timeout: no recent network activity"
time=2025-06-17T17:14:49.651+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent001 remote_addr=127.0.0.1:41181
time=2025-06-17T17:14:51.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:15:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:15:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:15:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:15:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:15:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:15:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:16:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:16:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:16:21.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:16:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:16:41.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:16:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:17:01.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:17:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:17:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:17:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:17:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:17:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:18:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:18:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:18:21.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:18:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:18:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:18:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:19:01.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:19:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:19:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:19:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:19:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:19:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:20:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent001 remote_addr=127.0.0.1:39194
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent001 remote_addr=127.0.0.1:39194
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:39194 stream_id=0
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:39194 stream_id=0
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:39194 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:39194 request_id=orch-meta-sirene.mp4-agent001 file_id=sirene.mp4
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:39194 file_id=sirene.mp4
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:39194 request_id=orch-meta-sirene.mp4-agent001 found=true
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent001 remote_addr=127.0.0.1:39194 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent001 remote_addr=127.0.0.1:39194
time=2025-06-17T17:20:07.441+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent001 remote_addr=127.0.0.1:51420
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent001 remote_addr=127.0.0.1:51420
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=0
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=4
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=8
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=12
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=12
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=0
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=12 error=EOF
time=2025-06-17T17:20:07.441+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=4
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=4 error=EOF
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=8
time=2025-06-17T17:20:07.441+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=8 error=EOF
time=2025-06-17T17:20:07.442+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=0 offset=0 length=1048576
time=2025-06-17T17:20:07.446+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:07.453+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=16
time=2025-06-17T17:20:07.453+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=16
time=2025-06-17T17:20:07.453+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.453+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=3 offset=3145728 length=1048576
time=2025-06-17T17:20:07.455+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=20
time=2025-06-17T17:20:07.455+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=24
time=2025-06-17T17:20:07.455+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=24
time=2025-06-17T17:20:07.455+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.455+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=20
time=2025-06-17T17:20:07.455+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=20 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.455+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=20 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=6 offset=6291456 length=1048576
time=2025-06-17T17:20:07.456+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=9 offset=9437184 length=1048576
time=2025-06-17T17:20:07.464+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:07.465+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=28
time=2025-06-17T17:20:07.465+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=32
time=2025-06-17T17:20:07.465+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=28
time=2025-06-17T17:20:07.465+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=28 error=EOF
time=2025-06-17T17:20:07.465+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=20 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:07.466+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:07.466+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=32
time=2025-06-17T17:20:07.466+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.466+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=12 offset=12582912 length=1048576
time=2025-06-17T17:20:07.469+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=36
time=2025-06-17T17:20:07.469+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=40
time=2025-06-17T17:20:07.469+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=40
time=2025-06-17T17:20:07.469+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.469+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=15 offset=15728640 length=1048576
time=2025-06-17T17:20:07.469+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=36
time=2025-06-17T17:20:07.469+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=36 error=EOF
time=2025-06-17T17:20:07.477+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=44
time=2025-06-17T17:20:07.477+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=48
time=2025-06-17T17:20:07.477+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=48
time=2025-06-17T17:20:07.477+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.477+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=18 offset=18874368 length=1048576
time=2025-06-17T17:20:07.477+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=44
time=2025-06-17T17:20:07.477+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=44 error=EOF
time=2025-06-17T17:20:07.481+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=52
time=2025-06-17T17:20:07.481+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=56
time=2025-06-17T17:20:07.481+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=56
time=2025-06-17T17:20:07.481+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.481+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=21 offset=22020096 length=1048576
time=2025-06-17T17:20:07.481+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=52
time=2025-06-17T17:20:07.481+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=52 error=EOF
time=2025-06-17T17:20:07.482+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:07.484+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=60
time=2025-06-17T17:20:07.484+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=64
time=2025-06-17T17:20:07.484+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=64
time=2025-06-17T17:20:07.484+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.484+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=24 offset=25165824 length=1048576
time=2025-06-17T17:20:07.485+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=60
time=2025-06-17T17:20:07.485+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=60 error=EOF
time=2025-06-17T17:20:07.489+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=68
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=72
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=72
time=2025-06-17T17:20:07.491+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=72 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.491+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=72 remote_addr=127.0.0.1:51420 file_id=sirene.mp4 chunk_id=27 offset=28311552 length=1048576
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=68
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:51420 stream_id=68 error=EOF
time=2025-06-17T17:20:07.501+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:07.502+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:07.502+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:07.504+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=72 remote_addr=127.0.0.1:51420 bytes_sent=1048576
time=2025-06-17T17:20:11.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:20:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:20:31.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:20:37.507+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent001 remote_addr=127.0.0.1:51420 error="timeout: no recent network activity"
time=2025-06-17T17:20:37.507+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent001 remote_addr=127.0.0.1:51420
time=2025-06-17T17:20:41.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:20:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:21:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:21:11.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:21:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:21:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:21:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:21:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:22:01.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:22:11.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:22:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:22:31.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:22:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:22:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:23:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:23:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:23:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:23:31.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:23:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:23:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:24:01.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:24:11.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:24:21.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:24:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:24:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:24:51.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:25:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:25:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:25:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:25:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:25:41.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:25:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:26:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:26:06.463+02:00 level=WARN msg="Failed to send heartbeat" agent_id=agent001 error="context deadline exceeded"
time=2025-06-17T17:26:11.452+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:26:11.456+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:26:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:26:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:26:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:26:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:27:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:27:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:27:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:27:31.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:27:41.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:27:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:28:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:28:11.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:28:21.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:28:31.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:28:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:28:51.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:29:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:29:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:29:17.452+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent001 remote_addr=127.0.0.1:37616
time=2025-06-17T17:29:17.452+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent001 remote_addr=127.0.0.1:37616
time=2025-06-17T17:29:17.453+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:37616 stream_id=0
time=2025-06-17T17:29:17.453+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:37616 stream_id=0
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:37616 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:37616 request_id=orch-meta-sirene.mp4-agent001 file_id=sirene.mp4
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:37616 file_id=sirene.mp4
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent001 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:37616 request_id=orch-meta-sirene.mp4-agent001 found=true
time=2025-06-17T17:29:17.454+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent001 remote_addr=127.0.0.1:37616 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:29:17.454+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent001 remote_addr=127.0.0.1:37616
time=2025-06-17T17:29:17.471+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent001 remote_addr=127.0.0.1:55688
time=2025-06-17T17:29:17.471+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent001 remote_addr=127.0.0.1:55688
time=2025-06-17T17:29:17.471+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=0
time=2025-06-17T17:29:17.471+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=4
time=2025-06-17T17:29:17.471+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=4
time=2025-06-17T17:29:17.471+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=8
time=2025-06-17T17:29:17.471+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=4 error=EOF
time=2025-06-17T17:29:17.471+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=8
time=2025-06-17T17:29:17.471+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=0
time=2025-06-17T17:29:17.471+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=8 error=EOF
time=2025-06-17T17:29:17.471+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.472+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=12
time=2025-06-17T17:29:17.472+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=0 offset=0 length=1048576
time=2025-06-17T17:29:17.472+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=12
time=2025-06-17T17:29:17.472+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=12 error=EOF
time=2025-06-17T17:29:17.476+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:17.487+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=16
time=2025-06-17T17:29:17.487+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=20
time=2025-06-17T17:29:17.487+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=24
time=2025-06-17T17:29:17.487+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=24
time=2025-06-17T17:29:17.487+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.487+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=9 offset=9437184 length=1048576
time=2025-06-17T17:29:17.487+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=16
time=2025-06-17T17:29:17.487+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.487+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=6 offset=6291456 length=1048576
time=2025-06-17T17:29:17.487+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=20
time=2025-06-17T17:29:17.487+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=20 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.487+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=20 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=3 offset=3145728 length=1048576
time=2025-06-17T17:29:17.508+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=28
time=2025-06-17T17:29:17.508+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=32
time=2025-06-17T17:29:17.508+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=32
time=2025-06-17T17:29:17.508+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.508+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=12 offset=12582912 length=1048576
time=2025-06-17T17:29:17.508+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=28
time=2025-06-17T17:29:17.508+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=28 error=EOF
time=2025-06-17T17:29:17.509+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:17.510+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=36
time=2025-06-17T17:29:17.510+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=40
time=2025-06-17T17:29:17.510+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=40
time=2025-06-17T17:29:17.510+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.510+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=15 offset=15728640 length=1048576
time=2025-06-17T17:29:17.511+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=36
time=2025-06-17T17:29:17.511+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=36 error=EOF
time=2025-06-17T17:29:17.514+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:17.520+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=44
time=2025-06-17T17:29:17.520+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=44
time=2025-06-17T17:29:17.520+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=44 error=EOF
time=2025-06-17T17:29:17.521+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=48
time=2025-06-17T17:29:17.521+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=48
time=2025-06-17T17:29:17.521+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.521+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=18 offset=18874368 length=1048576
time=2025-06-17T17:29:17.522+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=20 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:17.523+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=52
time=2025-06-17T17:29:17.523+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=56
time=2025-06-17T17:29:17.523+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=56
time=2025-06-17T17:29:17.523+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.523+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=21 offset=22020096 length=1048576
time=2025-06-17T17:29:17.523+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=52
time=2025-06-17T17:29:17.523+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=52 error=EOF
time=2025-06-17T17:29:17.532+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=60
time=2025-06-17T17:29:17.533+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=64
time=2025-06-17T17:29:17.533+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=64
time=2025-06-17T17:29:17.533+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.533+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=24 offset=25165824 length=1048576
time=2025-06-17T17:29:17.533+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=60
time=2025-06-17T17:29:17.534+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=60 error=EOF
time=2025-06-17T17:29:17.538+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=68
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=72
time=2025-06-17T17:29:17.543+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=72
time=2025-06-17T17:29:17.543+02:00 level=INFO msg="Received stream purpose" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=72 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.543+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent001 handler=ClientChunkRequest stream_id=72 remote_addr=127.0.0.1:55688 file_id=sirene.mp4 chunk_id=27 offset=28311552 length=1048576
time=2025-06-17T17:29:17.543+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=68
time=2025-06-17T17:29:17.543+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent001 remote_addr=127.0.0.1:55688 stream_id=68 error=EOF
time=2025-06-17T17:29:17.554+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:17.556+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:17.557+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:17.558+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:17.558+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent001 handler=ClientChunkRequest stream_id=72 remote_addr=127.0.0.1:55688 bytes_sent=1048576
time=2025-06-17T17:29:21.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:29:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:29:41.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:29:47.563+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent001 remote_addr=127.0.0.1:55688 error="timeout: no recent network activity"
time=2025-06-17T17:29:47.563+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent001 remote_addr=127.0.0.1:55688
time=2025-06-17T17:29:51.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:30:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:30:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:30:21.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:30:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:30:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:30:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:31:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:31:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:31:21.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:31:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:31:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:31:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:32:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:32:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:32:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:32:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:32:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:32:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:33:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:33:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:33:21.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:33:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:33:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:33:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:34:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:34:11.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:34:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:34:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:34:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:34:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:35:01.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:35:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:35:21.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:35:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:35:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:35:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:36:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:36:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:36:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:36:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:36:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:36:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:37:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:37:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:37:21.453+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:37:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:37:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:37:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:38:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:38:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:38:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:38:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:38:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:38:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:39:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:39:11.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:39:21.453+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:39:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:39:41.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:39:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:40:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:40:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:40:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:40:31.462+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:40:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:40:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:41:01.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:41:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:41:21.454+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:41:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:41:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:41:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:42:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:42:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:42:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:42:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:42:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:42:51.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:42:56.463+02:00 level=WARN msg="Failed to send heartbeat" agent_id=agent001 error="context deadline exceeded"
time=2025-06-17T17:43:01.451+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:43:01.466+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:43:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:43:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:43:31.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:43:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:43:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:44:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:44:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:44:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:44:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:44:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:44:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:45:01.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:45:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:45:21.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:45:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:45:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:45:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:46:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:46:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:46:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:46:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:46:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:46:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:47:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:47:11.461+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:47:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:47:31.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:47:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:47:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:48:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:48:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:48:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:48:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:48:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:48:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:49:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:49:11.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:49:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:49:31.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:49:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:49:51.461+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:50:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:50:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:50:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:50:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:50:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:50:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:51:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:51:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:51:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:51:31.453+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:51:41.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:51:51.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:52:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:52:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:52:21.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:52:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:52:41.460+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:52:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:53:01.461+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:53:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="Received signal, shutting down agent..." agent_id=agent001 signal=interrupt
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="Context cancelled, stopping ChunkServer listener..." agent_id=agent001
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="Heartbeat loop stopping." agent_id=agent001
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="Agent shutting down main process..." agent_id=agent001
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="ChunkServer listener accept loop ending." agent_id=agent001 reason="context canceled"
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="ChunkServer Start goroutine finished." agent_id=agent001
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Closed agent connection to orchestrator." agent_id=agent001 subcomponent=agent_orch_comms
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Agent shutdown complete." agent_id=agent001
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Closed agent connection to orchestrator." agent_id=agent001 subcomponent=agent_orch_comms


# ===== FILE: logs/client.log =====
time=2025-06-17T17:29:17.440+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/client/main.go:66 msg="qwrap client starting" orchestrator=localhost:7878 file_id=sirene.mp4 destination=/home/bradley/work/qwrap-ws/data/output/downloaded_sirene.mp4
time=2025-06-17T17:29:17.441+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:99 msg="Attempting to connect to orchestrator..." component=quic_orchestrator_comms orch_addr=localhost:7878
time=2025-06-17T17:29:17.441+02:00 level=INFO source=:0 msg="failed to sufficiently increase receive buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details."
time=2025-06-17T17:29:17.446+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:113 msg="Successfully connected to orchestrator." component=quic_orchestrator_comms orch_addr=localhost:7878
time=2025-06-17T17:29:17.446+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/client/main.go:160 msg="Client prepared TransferRequest, FileID only" file_id=sirene.mp4 request_id=client-req-1750174157446688580
time=2025-06-17T17:29:17.446+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/client/main.go:164 msg="Initiating download process..." file_id=sirene.mp4
time=2025-06-17T17:29:17.446+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:227 msg="Downloader lifecycle started" component=downloader request_id=client-req-1750174157446688580 op=manageDownloadLifecycle
time=2025-06-17T17:29:17.446+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:203 msg="Requesting initial plan from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 request_id=client-req-1750174157446688580
time=2025-06-17T17:29:17.447+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" component=quic_orchestrator_comms orch_addr=localhost:7878 stream_id=0 purpose=TRANSFER_REQUEST role=reader
time=2025-06-17T17:29:17.467+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:214 msg="Initial plan received successfully from orchestrator" component=quic_orchestrator_comms orch_addr=localhost:7878 plan_id=plan-c49170e5-ca10-4488-a7e8-5cb1bb30aa25 num_assignments=275
time=2025-06-17T17:29:17.467+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:283 msg="Initial transfer plan received" component=downloader request_id=client-req-1750174157446688580 op=manageDownloadLifecycle plan_id=plan-c49170e5-ca10-4488-a7e8-5cb1bb30aa25 file_id=sirene.mp4 num_chunks=275
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=4
time=2025-06-17T17:29:17.467+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/writer.go:23 msg="File writer goroutine started." component=downloader component=fileWriter file_id=sirene.mp4
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=4 file_id=sirene.mp4 chunk_id=0 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=5
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=5 file_id=sirene.mp4 chunk_id=1 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:194 msg="Attempting to dial QUIC connection" address=127.0.0.1:8080 attempt=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=10
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=10 file_id=sirene.mp4 chunk_id=2 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=8
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=2
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=8 file_id=sirene.mp4 chunk_id=3 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=9
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=2 file_id=sirene.mp4 chunk_id=4 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=9 file_id=sirene.mp4 chunk_id=5 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=1 file_id=sirene.mp4 chunk_id=6 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=3
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=3 file_id=sirene.mp4 chunk_id=7 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=7
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:778 msg="Download worker started" component=downloader id=6
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=7 file_id=sirene.mp4 chunk_id=8 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=6 file_id=sirene.mp4 chunk_id=9 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.471+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:201 msg="Successfully established QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.471+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=0 stream_id=0
time=2025-06-17T17:29:17.471+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=0 stream_id=0
time=2025-06-17T17:29:17.471+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=0 stream_id=0
time=2025-06-17T17:29:17.472+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:194 msg="Attempting to dial QUIC connection" address=127.0.0.1:8081 attempt=1
time=2025-06-17T17:29:17.477+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=0 stream_id=0 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.477+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=0 stream_id=0 size=1048576
time=2025-06-17T17:29:17.477+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=4 file_id=sirene.mp4 chunk_id=10 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.477+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:201 msg="Successfully established QUIC connection" address=127.0.0.1:8081
time=2025-06-17T17:29:17.477+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=7 stream_id=0
time=2025-06-17T17:29:17.477+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=7 stream_id=0
time=2025-06-17T17:29:17.477+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=7 stream_id=0
time=2025-06-17T17:29:17.477+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:194 msg="Attempting to dial QUIC connection" address=127.0.0.1:8082 attempt=1
time=2025-06-17T17:29:17.484+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=7 stream_id=0 size=1048576
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=3 file_id=sirene.mp4 chunk_id=11 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.484+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:201 msg="Successfully established QUIC connection" address=127.0.0.1:8082
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=2 stream_id=0
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8082
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=2 stream_id=0
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=11 stream_id=8
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:161 msg="Connection established by another goroutine" address=127.0.0.1:8082
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=11 stream_id=8
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=8 stream_id=12
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=8 stream_id=12
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=2 stream_id=0
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:161 msg="Connection established by another goroutine" address=127.0.0.1:8081
time=2025-06-17T17:29:17.484+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=8 stream_id=12
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=11 stream_id=8
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=1 stream_id=8
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=1 stream_id=8
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:161 msg="Connection established by another goroutine" address=127.0.0.1:8081
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:161 msg="Connection established by another goroutine" address=127.0.0.1:8082
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=1 stream_id=8
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=4 stream_id=12
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=5 stream_id=16
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=6 stream_id=16
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=4 stream_id=12
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=6 stream_id=16
time=2025-06-17T17:29:17.485+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=5 stream_id=16
time=2025-06-17T17:29:17.486+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.486+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.486+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=9 stream_id=24
time=2025-06-17T17:29:17.486+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=9 stream_id=24
time=2025-06-17T17:29:17.486+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=4 stream_id=12
time=2025-06-17T17:29:17.486+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=6 stream_id=16
time=2025-06-17T17:29:17.486+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=5 stream_id=16
time=2025-06-17T17:29:17.487+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=3 stream_id=20
time=2025-06-17T17:29:17.487+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=3 stream_id=20
time=2025-06-17T17:29:17.487+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=3 stream_id=20
time=2025-06-17T17:29:17.486+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8081
time=2025-06-17T17:29:17.487+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=10 stream_id=16
time=2025-06-17T17:29:17.487+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=10 stream_id=16
time=2025-06-17T17:29:17.487+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=10 stream_id=16
time=2025-06-17T17:29:17.486+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=9 stream_id=24
time=2025-06-17T17:29:17.506+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=1 stream_id=8 size=1048576
time=2025-06-17T17:29:17.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=5 file_id=sirene.mp4 chunk_id=12 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=12 stream_id=32
time=2025-06-17T17:29:17.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=12 stream_id=32
time=2025-06-17T17:29:17.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=12 stream_id=32
time=2025-06-17T17:29:17.507+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=4 stream_id=12 size=1048576
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=2 file_id=sirene.mp4 chunk_id=13 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=10 stream_id=16 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.507+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=10 stream_id=16 size=1048576
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8081
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=4 file_id=sirene.mp4 chunk_id=14 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=13 stream_id=24
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8082
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=13 stream_id=24
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=14 stream_id=24
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=14 stream_id=24
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=14 stream_id=24
time=2025-06-17T17:29:17.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=13 stream_id=24
time=2025-06-17T17:29:17.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=9 stream_id=24 size=1048576
time=2025-06-17T17:29:17.509+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=6 file_id=sirene.mp4 chunk_id=15 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.509+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.509+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=15 stream_id=40
time=2025-06-17T17:29:17.509+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=15 stream_id=40
time=2025-06-17T17:29:17.509+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=15 stream_id=40
time=2025-06-17T17:29:17.510+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=8 stream_id=12 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.510+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=8 stream_id=12 size=1048576
time=2025-06-17T17:29:17.510+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=7 file_id=sirene.mp4 chunk_id=16 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.511+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8081
time=2025-06-17T17:29:17.511+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=16 stream_id=32
time=2025-06-17T17:29:17.511+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=16 stream_id=32
time=2025-06-17T17:29:17.511+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=16 stream_id=32
time=2025-06-17T17:29:17.514+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=13 stream_id=24 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.514+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=13 stream_id=24 size=1048576
time=2025-06-17T17:29:17.514+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=2 file_id=sirene.mp4 chunk_id=17 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.514+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8082
time=2025-06-17T17:29:17.514+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=17 stream_id=32
time=2025-06-17T17:29:17.514+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=17 stream_id=32
time=2025-06-17T17:29:17.515+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=17 stream_id=32
time=2025-06-17T17:29:17.517+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=6 stream_id=16 size=1048576
time=2025-06-17T17:29:17.519+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=1 file_id=sirene.mp4 chunk_id=18 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.519+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.519+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=18 stream_id=48
time=2025-06-17T17:29:17.519+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=18 stream_id=48
time=2025-06-17T17:29:17.519+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=18 stream_id=48
time=2025-06-17T17:29:17.520+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=11 stream_id=8 size=1048576
time=2025-06-17T17:29:17.520+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=3 file_id=sirene.mp4 chunk_id=19 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.520+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8081
time=2025-06-17T17:29:17.520+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=19 stream_id=40
time=2025-06-17T17:29:17.520+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=19 stream_id=40
time=2025-06-17T17:29:17.520+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=19 stream_id=40
time=2025-06-17T17:29:17.522+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=5 stream_id=16 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.522+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=5 stream_id=16 size=1048576
time=2025-06-17T17:29:17.522+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=9 file_id=sirene.mp4 chunk_id=20 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.522+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8082
time=2025-06-17T17:29:17.522+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=20 stream_id=40
time=2025-06-17T17:29:17.522+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=20 stream_id=40
time=2025-06-17T17:29:17.523+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=20 stream_id=40
time=2025-06-17T17:29:17.523+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=3 stream_id=20 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.523+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=3 stream_id=20 size=1048576
time=2025-06-17T17:29:17.523+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=8 file_id=sirene.mp4 chunk_id=21 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.523+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.523+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=21 stream_id=56
time=2025-06-17T17:29:17.523+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=21 stream_id=56
time=2025-06-17T17:29:17.523+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=21 stream_id=56
time=2025-06-17T17:29:17.524+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=2 stream_id=0 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.524+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=2 stream_id=0 size=1048576
time=2025-06-17T17:29:17.524+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=10 file_id=sirene.mp4 chunk_id=22 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.524+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8081
time=2025-06-17T17:29:17.524+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=22 stream_id=48
time=2025-06-17T17:29:17.524+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=22 stream_id=48
time=2025-06-17T17:29:17.524+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=22 stream_id=48
time=2025-06-17T17:29:17.526+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=14 stream_id=24 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.526+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=14 stream_id=24 size=1048576
time=2025-06-17T17:29:17.526+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=4 file_id=sirene.mp4 chunk_id=23 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.526+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8082
time=2025-06-17T17:29:17.526+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=23 stream_id=48
time=2025-06-17T17:29:17.526+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=23 stream_id=48
time=2025-06-17T17:29:17.526+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=23 stream_id=48
time=2025-06-17T17:29:17.531+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=16 stream_id=32 size=1048576
time=2025-06-17T17:29:17.531+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=7 file_id=sirene.mp4 chunk_id=24 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.532+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.532+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=24 stream_id=64
time=2025-06-17T17:29:17.532+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=24 stream_id=64
time=2025-06-17T17:29:17.532+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=24 stream_id=64
time=2025-06-17T17:29:17.536+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=17 stream_id=32 size=1048576
time=2025-06-17T17:29:17.537+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=2 file_id=sirene.mp4 chunk_id=25 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.537+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8081
time=2025-06-17T17:29:17.537+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=25 stream_id=56
time=2025-06-17T17:29:17.537+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=25 stream_id=56
time=2025-06-17T17:29:17.537+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=25 stream_id=56
time=2025-06-17T17:29:17.539+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=12 stream_id=32 size=1048576
time=2025-06-17T17:29:17.539+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=5 file_id=sirene.mp4 chunk_id=26 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.540+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8082
time=2025-06-17T17:29:17.540+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=26 stream_id=56
time=2025-06-17T17:29:17.540+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=26 stream_id=56
time=2025-06-17T17:29:17.540+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=26 stream_id=56
time=2025-06-17T17:29:17.540+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=19 stream_id=40 size=1048576
time=2025-06-17T17:29:17.540+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=3 file_id=sirene.mp4 chunk_id=27 agent_addr=127.0.0.1:8080 attempt_for_assignment=1
time=2025-06-17T17:29:17.540+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8080
time=2025-06-17T17:29:17.540+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=27 stream_id=72
time=2025-06-17T17:29:17.540+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=27 stream_id=72
time=2025-06-17T17:29:17.540+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=27 stream_id=72
time=2025-06-17T17:29:17.541+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=23 stream_id=48 size=1048576
time=2025-06-17T17:29:17.541+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=4 file_id=sirene.mp4 chunk_id=28 agent_addr=127.0.0.1:8081 attempt_for_assignment=1
time=2025-06-17T17:29:17.542+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8081
time=2025-06-17T17:29:17.541+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=20 stream_id=40 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.542+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=28 stream_id=64
time=2025-06-17T17:29:17.542+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=28 stream_id=64
time=2025-06-17T17:29:17.542+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=20 stream_id=40 size=1048576
time=2025-06-17T17:29:17.542+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:795 msg="Worker picked up job" component=downloader worker_id=9 file_id=sirene.mp4 chunk_id=29 agent_addr=127.0.0.1:8082 attempt_for_assignment=1
time=2025-06-17T17:29:17.542+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:127 msg="Reusing existing QUIC connection" address=127.0.0.1:8082
time=2025-06-17T17:29:17.542+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=28 stream_id=64
time=2025-06-17T17:29:17.542+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:918 msg="Sent CHUNK_REQUEST purpose to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=29 stream_id=64
time=2025-06-17T17:29:17.542+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:931 msg="Sent ChunkRequest payload to agent" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=29 stream_id=64
time=2025-06-17T17:29:17.542+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:957 msg="Starting robust chunk read loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=29 stream_id=64
time=2025-06-17T17:29:17.543+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=22 stream_id=48 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.543+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=10 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=22 stream_id=48 size=1048576
time=2025-06-17T17:29:17.553+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=25 stream_id=56 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.553+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=2 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=25 stream_id=56 size=1048576
time=2025-06-17T17:29:17.554+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=28 stream_id=64 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.555+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=4 agent_addr=127.0.0.1:8081 file_id=sirene.mp4 chunk_id=28 stream_id=64 size=1048576
time=2025-06-17T17:29:17.555+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=26 stream_id=56 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.555+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=29 stream_id=64 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.555+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=5 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=26 stream_id=56 size=1048576
time=2025-06-17T17:29:17.555+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=9 agent_addr=127.0.0.1:8082 file_id=sirene.mp4 chunk_id=29 stream_id=64 size=1048576
time=2025-06-17T17:29:17.555+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=6 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=15 stream_id=40 size=1048576
time=2025-06-17T17:29:17.556+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=8 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=21 stream_id=56 size=1048576
time=2025-06-17T17:29:17.557+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=1 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=18 stream_id=48 size=1048576
time=2025-06-17T17:29:17.558+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=7 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=24 stream_id=64 size=1048576
time=2025-06-17T17:29:17.559+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:990 msg="EOF reached while reading chunk stream" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=27 stream_id=72 total_bytes_read=1048576 expected_size=1048576
time=2025-06-17T17:29:17.559+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:1014 msg="Successfully fetched chunk data with robust loop" component=downloader op=fetchChunk worker_id=3 agent_addr=127.0.0.1:8080 file_id=sirene.mp4 chunk_id=27 stream_id=72 size=1048576
time=2025-06-17T17:29:22.544+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=10 chunk_id=22
time=2025-06-17T17:29:22.554+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=2 chunk_id=25
time=2025-06-17T17:29:22.555+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=9 chunk_id=29
time=2025-06-17T17:29:22.555+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=4 chunk_id=28
time=2025-06-17T17:29:22.555+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=5 chunk_id=26
time=2025-06-17T17:29:22.555+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=6 chunk_id=15
time=2025-06-17T17:29:22.557+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=8 chunk_id=21
time=2025-06-17T17:29:22.558+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=1 chunk_id=18
time=2025-06-17T17:29:22.559+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=7 chunk_id=24
time=2025-06-17T17:29:22.559+02:00 level=ERROR source=/home/bradley/work/qwrap-ws/internal/client/downloader/downloader.go:828 msg="Timeout sending job result to resultsChan. Potential deadlock or slow main loop." component=downloader worker_id=3 chunk_id=27
time=2025-06-17T17:30:32.053+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/client/main.go:74 msg="Received signal, shutting down client..." signal=interrupt
time=2025-06-17T17:30:32.054+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/downloader/writer.go:50 msg="Context cancelled, file writer shutting down." component=downloader component=fileWriter file_id=sirene.mp4
time=2025-06-17T17:30:32.054+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/client/main.go:198 msg="Client shutting down due to context cancellation (main)."
time=2025-06-17T17:30:42.059+02:00 level=WARN source=/home/bradley/work/qwrap-ws/cmd/client/main.go:207 msg="Timeout waiting for downloader to finish after cancellation."
time=2025-06-17T17:30:42.059+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/orchestratorclient/quic_comms.go:324 msg="Closed connection to orchestrator." component=quic_orchestrator_comms orch_addr=localhost:7878
time=2025-06-17T17:30:42.059+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/client/manager/connection_manager.go:320 msg="Closing all managed QUIC connections"


# ===== FILE: logs/agent003.log =====
time=2025-06-17T17:09:19.194+02:00 level=INFO msg="qwrap agent starting up..." agent_id=agent003 listen_addr_config=localhost:8082 data_dir=/home/bradley/work/qwrap-ws/data/agents/agent003 orchestrator=localhost:7878
time=2025-06-17T17:09:19.194+02:00 level=WARN msg="No TLS cert/key files provided for ChunkServer, generating self-signed (INSECURE)" agent_id=agent003
time=2025-06-17T17:09:19.395+02:00 level=INFO msg="Successfully loaded inventory from disk" agent_id=agent003 component=inventory path=/home/bradley/work/qwrap-ws/data/agents/agent003/inventory.json
time=2025-06-17T17:09:19.395+02:00 level=INFO msg="ChunkServer attempting to start..." agent_id=agent003
time=2025-06-17T17:09:19.396+02:00 level=INFO msg="failed to sufficiently increase receive buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details."
time=2025-06-17T17:09:19.396+02:00 level=INFO msg="ChunkServer started, listening" agent_id=agent003 address=127.0.0.1:8082
time=2025-06-17T17:09:21.397+02:00 level=INFO msg="ChunkServer is listening on" agent_id=agent003 actual_address=127.0.0.1:8082
time=2025-06-17T17:09:21.397+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:09:21.403+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:09:21.403+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 subcomponent=agent_orch_comms stream_id=0 operation=register
time=2025-06-17T17:09:21.404+02:00 level=INFO msg="Agent successfully registered with orchestrator" agent_id=agent003 reported_listen_addr=127.0.0.1:8082
time=2025-06-17T17:09:21.404+02:00 level=INFO msg="Heartbeat interval set" agent_id=agent003 interval=10s
time=2025-06-17T17:09:21.404+02:00 level=INFO msg="Agent is running. Press Ctrl+C to exit." agent_id=agent003
time=2025-06-17T17:09:21.404+02:00 level=INFO msg="Heartbeat loop started" agent_id=agent003
time=2025-06-17T17:09:31.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:42819
time=2025-06-17T17:09:37.490+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:42819
time=2025-06-17T17:09:37.490+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:42819 stream_id=0
time=2025-06-17T17:09:37.490+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:42819 stream_id=0
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:42819 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:42819 request_id=orch-meta-sirene.mp4-agent003 file_id=sirene.mp4
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:42819 file_id=sirene.mp4
time=2025-06-17T17:09:37.490+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:42819 request_id=orch-meta-sirene.mp4-agent003 found=true
time=2025-06-17T17:09:37.492+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:42819 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:09:37.492+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:42819
time=2025-06-17T17:09:37.526+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:39618
time=2025-06-17T17:09:37.527+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:39618
time=2025-06-17T17:09:37.528+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=0
time=2025-06-17T17:09:37.528+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=0
time=2025-06-17T17:09:37.528+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.528+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=5 offset=5242880 length=1048576
time=2025-06-17T17:09:37.536+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=4
time=2025-06-17T17:09:37.536+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=4
time=2025-06-17T17:09:37.536+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=4 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.536+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=4 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=2 offset=2097152 length=1048576
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=8
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=8
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=8 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=8 offset=8388608 length=1048576
time=2025-06-17T17:09:37.549+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:37.550+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=12
time=2025-06-17T17:09:37.550+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=16
time=2025-06-17T17:09:37.550+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=16
time=2025-06-17T17:09:37.550+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.550+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=11 offset=11534336 length=1048576
time=2025-06-17T17:09:37.550+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=12
time=2025-06-17T17:09:37.550+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=12 error=EOF
time=2025-06-17T17:09:37.565+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=20
time=2025-06-17T17:09:37.565+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=24
time=2025-06-17T17:09:37.565+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=24
time=2025-06-17T17:09:37.565+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.565+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=20
time=2025-06-17T17:09:37.565+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=14 offset=14680064 length=1048576
time=2025-06-17T17:09:37.565+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=20 error=EOF
time=2025-06-17T17:09:37.565+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=4 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:37.567+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=28
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=32
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=32
time=2025-06-17T17:09:37.569+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.569+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=17 offset=17825792 length=1048576
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=28
time=2025-06-17T17:09:37.569+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=28 error=EOF
time=2025-06-17T17:09:37.574+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:37.576+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:37.577+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=36
time=2025-06-17T17:09:37.577+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=40
time=2025-06-17T17:09:37.577+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=40
time=2025-06-17T17:09:37.577+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.577+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=20 offset=20971520 length=1048576
time=2025-06-17T17:09:37.577+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=36
time=2025-06-17T17:09:37.577+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=36 error=EOF
time=2025-06-17T17:09:37.577+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:37.582+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=44
time=2025-06-17T17:09:37.582+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=48
time=2025-06-17T17:09:37.582+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=48
time=2025-06-17T17:09:37.582+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.582+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=23 offset=24117248 length=1048576
time=2025-06-17T17:09:37.582+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=44
time=2025-06-17T17:09:37.583+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=44 error=EOF
time=2025-06-17T17:09:37.585+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:37.592+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:37.592+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=52
time=2025-06-17T17:09:37.592+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=56
time=2025-06-17T17:09:37.592+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=56
time=2025-06-17T17:09:37.592+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.592+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=26 offset=27262976 length=1048576
time=2025-06-17T17:09:37.593+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=52
time=2025-06-17T17:09:37.593+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=52 error=EOF
time=2025-06-17T17:09:37.598+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:37.598+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=60
time=2025-06-17T17:09:37.598+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=64
time=2025-06-17T17:09:37.599+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=64
time=2025-06-17T17:09:37.599+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.599+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:39618 file_id=sirene.mp4 chunk_id=29 offset=30408704 length=1048576
time=2025-06-17T17:09:37.599+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=60
time=2025-06-17T17:09:37.599+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:39618 stream_id=60 error=EOF
time=2025-06-17T17:09:37.605+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:39618 bytes_sent=1048576
time=2025-06-17T17:09:41.406+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:09:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:10:01.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:10:07.607+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:39618 error="timeout: no recent network activity"
time=2025-06-17T17:10:07.607+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:39618
time=2025-06-17T17:10:11.407+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:10:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:10:31.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:10:41.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:10:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:11:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:11:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:11:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:11:31.406+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:11:41.404+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:11:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:12:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:12:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:12:21.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:12:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:12:41.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:12:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:13:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:13:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:13:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:13:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:13:41.405+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:13:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:14:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:14:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:43996
time=2025-06-17T17:14:19.560+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:43996
time=2025-06-17T17:14:19.560+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:43996 stream_id=0
time=2025-06-17T17:14:19.560+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:43996 stream_id=0
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:43996 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:43996 request_id=orch-meta-sirene.mp4-agent003 file_id=sirene.mp4
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:43996 file_id=sirene.mp4
time=2025-06-17T17:14:19.560+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:43996 request_id=orch-meta-sirene.mp4-agent003 found=true
time=2025-06-17T17:14:19.561+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:43996 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:14:19.561+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:43996
time=2025-06-17T17:14:19.597+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:58058
time=2025-06-17T17:14:19.597+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:58058
time=2025-06-17T17:14:19.597+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=0
time=2025-06-17T17:14:19.597+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=4
time=2025-06-17T17:14:19.597+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=4
time=2025-06-17T17:14:19.597+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=0
time=2025-06-17T17:14:19.598+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=4 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.598+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.598+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=4 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=5 offset=5242880 length=1048576
time=2025-06-17T17:14:19.598+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=2 offset=2097152 length=1048576
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=8
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=8
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=8 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=8 offset=8388608 length=1048576
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=12
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=16
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=16
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=12
time=2025-06-17T17:14:19.601+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=12 error=EOF
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.601+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=11 offset=11534336 length=1048576
time=2025-06-17T17:14:19.616+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:19.617+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=20
time=2025-06-17T17:14:19.617+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=24
time=2025-06-17T17:14:19.617+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=24
time=2025-06-17T17:14:19.617+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.617+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=14 offset=14680064 length=1048576
time=2025-06-17T17:14:19.617+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=20
time=2025-06-17T17:14:19.617+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=20 error=EOF
time=2025-06-17T17:14:19.617+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=4 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:19.621+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:19.621+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=28
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=32
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=32
time=2025-06-17T17:14:19.624+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.624+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=17 offset=17825792 length=1048576
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=28
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=28 error=EOF
time=2025-06-17T17:14:19.626+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=36
time=2025-06-17T17:14:19.626+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=40
time=2025-06-17T17:14:19.626+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=40
time=2025-06-17T17:14:19.626+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=36
time=2025-06-17T17:14:19.626+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=36 error=EOF
time=2025-06-17T17:14:19.626+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.626+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=20 offset=20971520 length=1048576
time=2025-06-17T17:14:19.635+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=44
time=2025-06-17T17:14:19.635+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=48
time=2025-06-17T17:14:19.635+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=48
time=2025-06-17T17:14:19.635+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.635+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=23 offset=24117248 length=1048576
time=2025-06-17T17:14:19.635+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=44
time=2025-06-17T17:14:19.635+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=44 error=EOF
time=2025-06-17T17:14:19.638+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=52
time=2025-06-17T17:14:19.638+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=56
time=2025-06-17T17:14:19.638+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=56
time=2025-06-17T17:14:19.638+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.638+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=26 offset=27262976 length=1048576
time=2025-06-17T17:14:19.638+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=52
time=2025-06-17T17:14:19.638+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=52 error=EOF
time=2025-06-17T17:14:19.643+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:19.646+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=60
time=2025-06-17T17:14:19.646+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=64
time=2025-06-17T17:14:19.646+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=60
time=2025-06-17T17:14:19.646+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=60 error=EOF
time=2025-06-17T17:14:19.646+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=64
time=2025-06-17T17:14:19.647+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:58058 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.647+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:58058 file_id=sirene.mp4 chunk_id=29 offset=30408704 length=1048576
time=2025-06-17T17:14:19.650+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:19.651+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:19.653+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:19.654+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:19.654+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:58058 bytes_sent=1048576
time=2025-06-17T17:14:21.406+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:14:31.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:14:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:14:49.655+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:58058 error="timeout: no recent network activity"
time=2025-06-17T17:14:49.655+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:58058
time=2025-06-17T17:14:51.406+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:15:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:15:11.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:15:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:15:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:15:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:15:51.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:16:01.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:16:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:16:21.404+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:16:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:16:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:16:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:17:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:17:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:17:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:17:31.408+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:17:41.408+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:17:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:18:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:18:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:18:21.405+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:18:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:18:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:18:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:19:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:19:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:19:21.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:19:31.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:19:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:19:51.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:20:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:20:07.418+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:56476
time=2025-06-17T17:20:07.418+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:56476
time=2025-06-17T17:20:07.418+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:56476 stream_id=0
time=2025-06-17T17:20:07.418+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:56476 stream_id=0
time=2025-06-17T17:20:07.418+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:56476 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:56476 request_id=orch-meta-sirene.mp4-agent003 file_id=sirene.mp4
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:56476 file_id=sirene.mp4
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:56476 request_id=orch-meta-sirene.mp4-agent003 found=true
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:56476 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:56476
time=2025-06-17T17:20:07.446+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:54073
time=2025-06-17T17:20:07.446+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:54073
time=2025-06-17T17:20:07.446+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=0
time=2025-06-17T17:20:07.446+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=0
time=2025-06-17T17:20:07.446+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.446+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=5 offset=5242880 length=1048576
time=2025-06-17T17:20:07.450+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=4
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=4
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=4 error=EOF
time=2025-06-17T17:20:07.452+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=8
time=2025-06-17T17:20:07.452+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=12
time=2025-06-17T17:20:07.452+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=12
time=2025-06-17T17:20:07.452+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=8
time=2025-06-17T17:20:07.452+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=8 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.452+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=12 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.452+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=2 offset=2097152 length=1048576
time=2025-06-17T17:20:07.452+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=11 offset=11534336 length=1048576
time=2025-06-17T17:20:07.454+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=16
time=2025-06-17T17:20:07.454+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=16
time=2025-06-17T17:20:07.454+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.454+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=8 offset=8388608 length=1048576
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=20
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=24
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=24
time=2025-06-17T17:20:07.467+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=20
time=2025-06-17T17:20:07.467+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=14 offset=14680064 length=1048576
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=20 error=EOF
time=2025-06-17T17:20:07.475+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:07.475+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:07.476+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=28
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=32
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=32
time=2025-06-17T17:20:07.478+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.478+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=17 offset=17825792 length=1048576
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=28
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=28 error=EOF
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=36
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=40
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=40
time=2025-06-17T17:20:07.478+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.478+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=20 offset=20971520 length=1048576
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=36
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=36 error=EOF
time=2025-06-17T17:20:07.483+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:07.483+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=44
time=2025-06-17T17:20:07.483+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=48
time=2025-06-17T17:20:07.483+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=48
time=2025-06-17T17:20:07.483+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.483+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=23 offset=24117248 length=1048576
time=2025-06-17T17:20:07.483+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=44
time=2025-06-17T17:20:07.483+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=44 error=EOF
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=52
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=56
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=56
time=2025-06-17T17:20:07.491+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.491+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=26 offset=27262976 length=1048576
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=52
time=2025-06-17T17:20:07.491+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=52 error=EOF
time=2025-06-17T17:20:07.496+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:07.497+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:07.497+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:07.498+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=60
time=2025-06-17T17:20:07.498+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=64
time=2025-06-17T17:20:07.498+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=64
time=2025-06-17T17:20:07.498+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.498+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:54073 file_id=sirene.mp4 chunk_id=29 offset=30408704 length=1048576
time=2025-06-17T17:20:07.498+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=60
time=2025-06-17T17:20:07.498+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:54073 stream_id=60 error=EOF
time=2025-06-17T17:20:07.504+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:07.504+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:54073 bytes_sent=1048576
time=2025-06-17T17:20:11.407+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:20:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:20:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:20:37.505+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:54073 error="timeout: no recent network activity"
time=2025-06-17T17:20:37.505+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:54073
time=2025-06-17T17:20:41.407+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:20:51.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:21:01.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:21:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:21:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:21:31.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:21:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:21:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:22:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:22:11.404+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:22:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:22:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:22:41.415+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:22:51.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:23:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:23:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:23:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:23:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:23:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:23:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:24:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:24:11.405+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:24:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:24:31.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:24:41.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:24:51.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:25:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:25:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:25:21.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:25:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:25:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:25:51.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:26:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:26:06.411+02:00 level=WARN msg="Failed to send heartbeat" agent_id=agent003 error="context deadline exceeded"
time=2025-06-17T17:26:11.405+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:26:11.409+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:26:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:26:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:26:41.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:26:51.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:27:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:27:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:27:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:27:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:27:41.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:27:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:28:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:28:11.406+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:28:21.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:28:31.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:28:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:28:51.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:29:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:29:11.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:29:17.452+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:38545
time=2025-06-17T17:29:17.452+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:38545
time=2025-06-17T17:29:17.453+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:38545 stream_id=0
time=2025-06-17T17:29:17.453+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:38545 stream_id=0
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:38545 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:38545 request_id=orch-meta-sirene.mp4-agent003 file_id=sirene.mp4
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:38545 file_id=sirene.mp4
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent003 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:38545 request_id=orch-meta-sirene.mp4-agent003 found=true
time=2025-06-17T17:29:17.454+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:38545 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:29:17.454+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:38545
time=2025-06-17T17:29:17.484+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent003 remote_addr=127.0.0.1:45053
time=2025-06-17T17:29:17.484+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent003 remote_addr=127.0.0.1:45053
time=2025-06-17T17:29:17.484+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=0
time=2025-06-17T17:29:17.484+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=4
time=2025-06-17T17:29:17.484+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=8
time=2025-06-17T17:29:17.484+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=12
time=2025-06-17T17:29:17.484+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=12
time=2025-06-17T17:29:17.484+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=12 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.485+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=8 offset=8388608 length=1048576
time=2025-06-17T17:29:17.485+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=0
time=2025-06-17T17:29:17.485+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=4
time=2025-06-17T17:29:17.485+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=8
time=2025-06-17T17:29:17.485+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.485+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=8 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.485+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=4 error=EOF
time=2025-06-17T17:29:17.485+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=2 offset=2097152 length=1048576
time=2025-06-17T17:29:17.485+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=11 offset=11534336 length=1048576
time=2025-06-17T17:29:17.488+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=16
time=2025-06-17T17:29:17.488+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=16
time=2025-06-17T17:29:17.488+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.488+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=5 offset=5242880 length=1048576
time=2025-06-17T17:29:17.509+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:17.509+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=20
time=2025-06-17T17:29:17.509+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=24
time=2025-06-17T17:29:17.509+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=24
time=2025-06-17T17:29:17.509+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.509+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=14 offset=14680064 length=1048576
time=2025-06-17T17:29:17.509+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=20
time=2025-06-17T17:29:17.509+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=20 error=EOF
time=2025-06-17T17:29:17.517+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=28
time=2025-06-17T17:29:17.517+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=32
time=2025-06-17T17:29:17.517+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=32
time=2025-06-17T17:29:17.517+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.517+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=17 offset=17825792 length=1048576
time=2025-06-17T17:29:17.518+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=28
time=2025-06-17T17:29:17.518+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=28 error=EOF
time=2025-06-17T17:29:17.520+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:17.521+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:17.522+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:17.523+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=36
time=2025-06-17T17:29:17.523+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=40
time=2025-06-17T17:29:17.524+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=40
time=2025-06-17T17:29:17.524+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.524+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=20 offset=20971520 length=1048576
time=2025-06-17T17:29:17.524+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=36
time=2025-06-17T17:29:17.524+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=36 error=EOF
time=2025-06-17T17:29:17.525+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:17.526+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=44
time=2025-06-17T17:29:17.526+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=48
time=2025-06-17T17:29:17.526+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=48
time=2025-06-17T17:29:17.526+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.526+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=23 offset=24117248 length=1048576
time=2025-06-17T17:29:17.526+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=44
time=2025-06-17T17:29:17.526+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=44 error=EOF
time=2025-06-17T17:29:17.536+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:17.540+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:17.540+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=52
time=2025-06-17T17:29:17.540+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=56
time=2025-06-17T17:29:17.540+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=56
time=2025-06-17T17:29:17.540+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.540+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=26 offset=27262976 length=1048576
time=2025-06-17T17:29:17.541+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:17.541+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=52
time=2025-06-17T17:29:17.541+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=52 error=EOF
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=60
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=64
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=64
time=2025-06-17T17:29:17.542+02:00 level=INFO msg="Received stream purpose" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.542+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent003 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:45053 file_id=sirene.mp4 chunk_id=29 offset=30408704 length=1048576
time=2025-06-17T17:29:17.543+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=60
time=2025-06-17T17:29:17.543+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent003 remote_addr=127.0.0.1:45053 stream_id=60 error=EOF
time=2025-06-17T17:29:17.555+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:17.555+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent003 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:45053 bytes_sent=1048576
time=2025-06-17T17:29:21.407+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:29:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:29:41.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:29:47.559+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent003 remote_addr=127.0.0.1:45053 error="timeout: no recent network activity"
time=2025-06-17T17:29:47.559+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent003 remote_addr=127.0.0.1:45053
time=2025-06-17T17:29:51.408+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:30:01.415+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:30:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:30:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:30:31.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:30:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:30:51.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:31:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:31:11.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:31:21.404+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:31:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:31:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:31:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:32:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:32:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:32:21.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:32:31.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:32:41.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:32:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:33:01.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:33:11.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:33:21.405+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:33:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:33:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:33:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:34:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:34:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:34:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:34:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:34:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:34:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:35:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:35:11.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:35:21.405+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:35:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:35:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:35:51.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:36:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:36:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:36:21.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:36:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:36:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:36:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:37:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:37:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:37:21.406+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:37:31.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:37:41.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:37:51.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:38:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:38:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:38:21.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:38:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:38:41.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:38:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:39:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:39:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:39:21.407+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:39:31.415+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:39:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:39:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:40:01.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:40:11.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:40:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:40:31.415+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:40:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:40:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:41:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:41:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:41:21.408+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:41:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:41:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:41:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:42:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:42:11.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:42:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:42:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:42:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:42:51.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:42:56.415+02:00 level=WARN msg="Failed to send heartbeat" agent_id=agent003 error="context deadline exceeded"
time=2025-06-17T17:43:01.407+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:43:01.421+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:43:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:43:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:43:31.404+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:43:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:43:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:44:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:44:11.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:44:21.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:44:31.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:44:41.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:44:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:45:01.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:45:11.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:45:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:45:31.404+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:45:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:45:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:46:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:46:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:46:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:46:31.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:46:41.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:46:51.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:47:01.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:47:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:47:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:47:31.404+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:47:41.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:47:51.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:48:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:48:11.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:48:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:48:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:48:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:48:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:49:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:49:11.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:49:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:49:31.405+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:49:41.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:49:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:50:01.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:50:11.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:50:21.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:50:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:50:41.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:50:51.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:51:01.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:51:11.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:51:21.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:51:31.412+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:51:41.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:51:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:52:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:52:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:52:21.413+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:52:31.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:52:41.414+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:52:51.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:53:01.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:53:11.411+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="Received signal, shutting down agent..." agent_id=agent003 signal=interrupt
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="Context cancelled, stopping ChunkServer listener..." agent_id=agent003
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="Heartbeat loop stopping." agent_id=agent003
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="Agent shutting down main process..." agent_id=agent003
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Closed agent connection to orchestrator." agent_id=agent003 subcomponent=agent_orch_comms
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="ChunkServer listener accept loop ending." agent_id=agent003 reason="context canceled"
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="ChunkServer Start goroutine finished." agent_id=agent003
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Agent shutdown complete." agent_id=agent003
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Closed agent connection to orchestrator." agent_id=agent003 subcomponent=agent_orch_comms


# ===== FILE: logs/agent002.log =====
time=2025-06-17T17:09:19.192+02:00 level=INFO msg="qwrap agent starting up..." agent_id=agent002 listen_addr_config=localhost:8081 data_dir=/home/bradley/work/qwrap-ws/data/agents/agent002 orchestrator=localhost:7878
time=2025-06-17T17:09:19.192+02:00 level=WARN msg="No TLS cert/key files provided for ChunkServer, generating self-signed (INSECURE)" agent_id=agent002
time=2025-06-17T17:09:19.437+02:00 level=INFO msg="Successfully loaded inventory from disk" agent_id=agent002 component=inventory path=/home/bradley/work/qwrap-ws/data/agents/agent002/inventory.json
time=2025-06-17T17:09:19.437+02:00 level=INFO msg="ChunkServer attempting to start..." agent_id=agent002
time=2025-06-17T17:09:19.438+02:00 level=INFO msg="failed to sufficiently increase receive buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details."
time=2025-06-17T17:09:19.438+02:00 level=INFO msg="ChunkServer started, listening" agent_id=agent002 address=127.0.0.1:8081
time=2025-06-17T17:09:21.439+02:00 level=INFO msg="ChunkServer is listening on" agent_id=agent002 actual_address=127.0.0.1:8081
time=2025-06-17T17:09:21.439+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:09:21.448+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:09:21.448+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 subcomponent=agent_orch_comms stream_id=0 operation=register
time=2025-06-17T17:09:21.449+02:00 level=INFO msg="Agent successfully registered with orchestrator" agent_id=agent002 reported_listen_addr=127.0.0.1:8081
time=2025-06-17T17:09:21.449+02:00 level=INFO msg="Heartbeat interval set" agent_id=agent002 interval=10s
time=2025-06-17T17:09:21.449+02:00 level=INFO msg="Agent is running. Press Ctrl+C to exit." agent_id=agent002
time=2025-06-17T17:09:21.449+02:00 level=INFO msg="Heartbeat loop started" agent_id=agent002
time=2025-06-17T17:09:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:09:37.487+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent002 remote_addr=127.0.0.1:33118
time=2025-06-17T17:09:37.487+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent002 remote_addr=127.0.0.1:33118
time=2025-06-17T17:09:37.487+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:33118 stream_id=0
time=2025-06-17T17:09:37.487+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:33118 stream_id=0
time=2025-06-17T17:09:37.487+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:33118 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:09:37.487+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:33118 request_id=orch-meta-sirene.mp4-agent002 file_id=sirene.mp4
time=2025-06-17T17:09:37.487+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:33118 file_id=sirene.mp4
time=2025-06-17T17:09:37.487+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:33118 request_id=orch-meta-sirene.mp4-agent002 found=true
time=2025-06-17T17:09:37.488+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent002 remote_addr=127.0.0.1:33118 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:09:37.488+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent002 remote_addr=127.0.0.1:33118
time=2025-06-17T17:09:37.533+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent002 remote_addr=127.0.0.1:51585
time=2025-06-17T17:09:37.533+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent002 remote_addr=127.0.0.1:51585
time=2025-06-17T17:09:37.533+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=0
time=2025-06-17T17:09:37.533+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=0
time=2025-06-17T17:09:37.533+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.534+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=1 offset=1048576 length=1048576
time=2025-06-17T17:09:37.535+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=4
time=2025-06-17T17:09:37.535+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=4
time=2025-06-17T17:09:37.535+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=4 error=EOF
time=2025-06-17T17:09:37.535+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=8
time=2025-06-17T17:09:37.535+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=8
time=2025-06-17T17:09:37.535+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=8 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.535+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=4 offset=4194304 length=1048576
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=12
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=16
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=16
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=10 offset=10485760 length=1048576
time=2025-06-17T17:09:37.538+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=12
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=12 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.538+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=7 offset=7340032 length=1048576
time=2025-06-17T17:09:37.562+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:37.562+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:37.562+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:37.564+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:37.565+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=20
time=2025-06-17T17:09:37.565+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=24
time=2025-06-17T17:09:37.565+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=24
time=2025-06-17T17:09:37.565+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.565+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=13 offset=13631488 length=1048576
time=2025-06-17T17:09:37.566+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=20
time=2025-06-17T17:09:37.566+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=20 error=EOF
time=2025-06-17T17:09:37.566+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=28
time=2025-06-17T17:09:37.566+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=32
time=2025-06-17T17:09:37.566+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=32
time=2025-06-17T17:09:37.566+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=28
time=2025-06-17T17:09:37.566+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=28 error=EOF
time=2025-06-17T17:09:37.566+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.566+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=16 offset=16777216 length=1048576
time=2025-06-17T17:09:37.575+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=36
time=2025-06-17T17:09:37.575+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=40
time=2025-06-17T17:09:37.575+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=40
time=2025-06-17T17:09:37.575+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.575+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=19 offset=19922944 length=1048576
time=2025-06-17T17:09:37.576+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=36
time=2025-06-17T17:09:37.576+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=36 error=EOF
time=2025-06-17T17:09:37.580+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:37.581+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=44
time=2025-06-17T17:09:37.581+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=48
time=2025-06-17T17:09:37.581+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=48
time=2025-06-17T17:09:37.581+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.581+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=22 offset=23068672 length=1048576
time=2025-06-17T17:09:37.581+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=44
time=2025-06-17T17:09:37.581+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=44 error=EOF
time=2025-06-17T17:09:37.588+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=52
time=2025-06-17T17:09:37.588+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=56
time=2025-06-17T17:09:37.588+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=56
time=2025-06-17T17:09:37.588+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.588+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=25 offset=26214400 length=1048576
time=2025-06-17T17:09:37.588+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=52
time=2025-06-17T17:09:37.588+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=52 error=EOF
time=2025-06-17T17:09:37.593+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:37.595+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=60
time=2025-06-17T17:09:37.595+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=64
time=2025-06-17T17:09:37.595+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=64
time=2025-06-17T17:09:37.595+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:09:37.596+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:51585 file_id=sirene.mp4 chunk_id=28 offset=29360128 length=1048576
time=2025-06-17T17:09:37.595+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=60
time=2025-06-17T17:09:37.596+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51585 stream_id=60 error=EOF
time=2025-06-17T17:09:37.599+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:37.602+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:37.606+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:37.607+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:51585 bytes_sent=1048576
time=2025-06-17T17:09:41.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:09:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:10:01.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:10:07.608+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent002 remote_addr=127.0.0.1:51585 error="timeout: no recent network activity"
time=2025-06-17T17:10:07.608+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent002 remote_addr=127.0.0.1:51585
time=2025-06-17T17:10:11.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:10:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:10:31.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:10:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:10:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:11:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:11:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:11:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:11:31.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:11:41.449+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:11:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:12:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:12:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:12:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:12:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:12:41.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:12:51.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:13:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:13:11.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:13:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:13:31.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:13:41.450+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:13:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:14:01.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:14:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:14:19.562+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent002 remote_addr=127.0.0.1:38532
time=2025-06-17T17:14:19.562+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent002 remote_addr=127.0.0.1:38532
time=2025-06-17T17:14:19.562+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:38532 stream_id=0
time=2025-06-17T17:14:19.562+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:38532 stream_id=0
time=2025-06-17T17:14:19.562+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:38532 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:14:19.562+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:38532 request_id=orch-meta-sirene.mp4-agent002 file_id=sirene.mp4
time=2025-06-17T17:14:19.562+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:38532 file_id=sirene.mp4
time=2025-06-17T17:14:19.562+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:38532 request_id=orch-meta-sirene.mp4-agent002 found=true
time=2025-06-17T17:14:19.563+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent002 remote_addr=127.0.0.1:38532 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:14:19.563+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent002 remote_addr=127.0.0.1:38532
time=2025-06-17T17:14:19.592+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent002 remote_addr=127.0.0.1:44014
time=2025-06-17T17:14:19.592+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent002 remote_addr=127.0.0.1:44014
time=2025-06-17T17:14:19.593+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=0
time=2025-06-17T17:14:19.593+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=0
time=2025-06-17T17:14:19.593+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.593+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=4 offset=4194304 length=1048576
time=2025-06-17T17:14:19.597+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:19.599+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=4
time=2025-06-17T17:14:19.599+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=8
time=2025-06-17T17:14:19.599+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=8
time=2025-06-17T17:14:19.599+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=4
time=2025-06-17T17:14:19.599+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=8 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.599+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=4 error=EOF
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=12
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=16
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=16
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=7 offset=7340032 length=1048576
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=10 offset=10485760 length=1048576
time=2025-06-17T17:14:19.600+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=12
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=12 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.600+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=1 offset=1048576 length=1048576
time=2025-06-17T17:14:19.617+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=20
time=2025-06-17T17:14:19.617+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=24
time=2025-06-17T17:14:19.617+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=24
time=2025-06-17T17:14:19.617+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.618+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=13 offset=13631488 length=1048576
time=2025-06-17T17:14:19.618+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=20
time=2025-06-17T17:14:19.618+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=20 error=EOF
time=2025-06-17T17:14:19.620+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:19.622+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:19.622+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=28
time=2025-06-17T17:14:19.622+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=32
time=2025-06-17T17:14:19.622+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=32
time=2025-06-17T17:14:19.622+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.622+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=16 offset=16777216 length=1048576
time=2025-06-17T17:14:19.622+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=28
time=2025-06-17T17:14:19.622+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=28 error=EOF
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=36
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=40
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=40
time=2025-06-17T17:14:19.624+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.624+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:19.624+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=19 offset=19922944 length=1048576
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=36
time=2025-06-17T17:14:19.624+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=36 error=EOF
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=44
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=48
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=48
time=2025-06-17T17:14:19.628+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.628+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=22 offset=23068672 length=1048576
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=44
time=2025-06-17T17:14:19.628+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=44 error=EOF
time=2025-06-17T17:14:19.633+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=52
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=56
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=56
time=2025-06-17T17:14:19.640+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.640+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=25 offset=26214400 length=1048576
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=52
time=2025-06-17T17:14:19.640+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=52 error=EOF
time=2025-06-17T17:14:19.644+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:19.645+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:19.645+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=60
time=2025-06-17T17:14:19.645+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=64
time=2025-06-17T17:14:19.645+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=64
time=2025-06-17T17:14:19.645+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:14:19.645+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:44014 file_id=sirene.mp4 chunk_id=28 offset=29360128 length=1048576
time=2025-06-17T17:14:19.645+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=60
time=2025-06-17T17:14:19.645+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:44014 stream_id=60 error=EOF
time=2025-06-17T17:14:19.646+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:19.650+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:19.651+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:44014 bytes_sent=1048576
time=2025-06-17T17:14:21.450+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:14:31.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:14:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:14:49.659+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent002 remote_addr=127.0.0.1:44014 error="timeout: no recent network activity"
time=2025-06-17T17:14:49.659+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent002 remote_addr=127.0.0.1:44014
time=2025-06-17T17:14:51.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:15:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:15:11.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:15:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:15:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:15:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:15:51.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:16:01.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:16:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:16:21.449+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:16:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:16:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:16:51.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:17:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:17:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:17:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:17:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:17:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:17:51.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:18:01.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:18:11.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:18:21.450+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:18:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:18:41.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:18:51.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:19:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:19:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:19:21.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:19:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:19:41.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:19:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:20:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent002 remote_addr=127.0.0.1:57005
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent002 remote_addr=127.0.0.1:57005
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:57005 stream_id=0
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:57005 stream_id=0
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:57005 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:57005 request_id=orch-meta-sirene.mp4-agent002 file_id=sirene.mp4
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:57005 file_id=sirene.mp4
time=2025-06-17T17:20:07.419+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:57005 request_id=orch-meta-sirene.mp4-agent002 found=true
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent002 remote_addr=127.0.0.1:57005 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:20:07.419+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent002 remote_addr=127.0.0.1:57005
time=2025-06-17T17:20:07.451+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent002 remote_addr=127.0.0.1:51903
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent002 remote_addr=127.0.0.1:51903
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=0
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=4
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=4
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=8
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=4 error=EOF
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=0
time=2025-06-17T17:20:07.451+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=8
time=2025-06-17T17:20:07.451+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.451+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=8 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.451+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=10 offset=10485760 length=1048576
time=2025-06-17T17:20:07.451+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=1 offset=1048576 length=1048576
time=2025-06-17T17:20:07.453+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=12
time=2025-06-17T17:20:07.453+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=12
time=2025-06-17T17:20:07.453+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=12 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.453+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=4 offset=4194304 length=1048576
time=2025-06-17T17:20:07.453+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=16
time=2025-06-17T17:20:07.453+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=16
time=2025-06-17T17:20:07.453+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.453+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=7 offset=7340032 length=1048576
time=2025-06-17T17:20:07.465+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=20
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=24
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=24
time=2025-06-17T17:20:07.467+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.467+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=13 offset=13631488 length=1048576
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=20
time=2025-06-17T17:20:07.467+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=20 error=EOF
time=2025-06-17T17:20:07.473+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:07.474+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:07.474+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:07.475+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:07.476+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=28
time=2025-06-17T17:20:07.476+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=32
time=2025-06-17T17:20:07.476+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=32
time=2025-06-17T17:20:07.476+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.476+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=16 offset=16777216 length=1048576
time=2025-06-17T17:20:07.476+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=28
time=2025-06-17T17:20:07.476+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=28 error=EOF
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=36
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=40
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=40
time=2025-06-17T17:20:07.478+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.478+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=19 offset=19922944 length=1048576
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=36
time=2025-06-17T17:20:07.478+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=36 error=EOF
time=2025-06-17T17:20:07.480+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=44
time=2025-06-17T17:20:07.480+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=48
time=2025-06-17T17:20:07.481+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=48
time=2025-06-17T17:20:07.481+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.481+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=22 offset=23068672 length=1048576
time=2025-06-17T17:20:07.481+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=44
time=2025-06-17T17:20:07.481+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=44 error=EOF
time=2025-06-17T17:20:07.487+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:07.488+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=52
time=2025-06-17T17:20:07.488+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=56
time=2025-06-17T17:20:07.488+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=56
time=2025-06-17T17:20:07.488+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.488+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=25 offset=26214400 length=1048576
time=2025-06-17T17:20:07.489+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=52
time=2025-06-17T17:20:07.489+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=52 error=EOF
time=2025-06-17T17:20:07.490+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:07.493+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:07.494+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=60
time=2025-06-17T17:20:07.494+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=64
time=2025-06-17T17:20:07.494+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=64
time=2025-06-17T17:20:07.494+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:20:07.494+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:51903 file_id=sirene.mp4 chunk_id=28 offset=29360128 length=1048576
time=2025-06-17T17:20:07.494+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=60
time=2025-06-17T17:20:07.494+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:51903 stream_id=60 error=EOF
time=2025-06-17T17:20:07.497+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:07.501+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:51903 bytes_sent=1048576
time=2025-06-17T17:20:11.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:20:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:20:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:20:37.502+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent002 remote_addr=127.0.0.1:51903 error="timeout: no recent network activity"
time=2025-06-17T17:20:37.502+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent002 remote_addr=127.0.0.1:51903
time=2025-06-17T17:20:41.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:20:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:21:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:21:11.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:21:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:21:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:21:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:21:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:22:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:22:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:22:21.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:22:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:22:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:22:51.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:23:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:23:11.449+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:23:21.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:23:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:23:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:23:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:24:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:24:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:24:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:24:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:24:41.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:24:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:25:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:25:11.449+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:25:21.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:25:31.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:25:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:25:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:26:01.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:26:06.459+02:00 level=WARN msg="Failed to send heartbeat" agent_id=agent002 error="context deadline exceeded"
time=2025-06-17T17:26:11.452+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:26:11.456+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:26:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:26:31.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:26:41.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:26:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:27:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:27:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:27:21.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:27:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:27:41.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:27:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:28:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:28:11.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:28:21.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:28:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:28:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:28:51.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:29:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:29:11.449+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent002 remote_addr=127.0.0.1:40783
time=2025-06-17T17:29:17.453+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent002 remote_addr=127.0.0.1:40783
time=2025-06-17T17:29:17.453+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:40783 stream_id=0
time=2025-06-17T17:29:17.453+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:40783 stream_id=0
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:40783 stream_id=0 purpose=GET_FILE_METADATA_REQUEST
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Processing GetFileMetadataRequest" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:40783 request_id=orch-meta-sirene.mp4-agent002 file_id=sirene.mp4
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="Found file in inventory for metadata request" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:40783 file_id=sirene.mp4
time=2025-06-17T17:29:17.453+02:00 level=INFO msg="GetFileMetadataResponse sent" agent_id=agent002 handler=GetFileMetadataRequest stream_id=0 remote_addr=127.0.0.1:40783 request_id=orch-meta-sirene.mp4-agent002 found=true
time=2025-06-17T17:29:17.453+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent002 remote_addr=127.0.0.1:40783 error="Application error 0x0 (remote): metadata query session finished"
time=2025-06-17T17:29:17.453+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent002 remote_addr=127.0.0.1:40783
time=2025-06-17T17:29:17.477+02:00 level=INFO msg="Accepted new QUIC connection" agent_id=agent002 remote_addr=127.0.0.1:41000
time=2025-06-17T17:29:17.477+02:00 level=DEBUG msg="Agent handling new connection" agent_id=agent002 remote_addr=127.0.0.1:41000
time=2025-06-17T17:29:17.478+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=0
time=2025-06-17T17:29:17.478+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=4
time=2025-06-17T17:29:17.478+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=4
time=2025-06-17T17:29:17.478+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=4 error=EOF
time=2025-06-17T17:29:17.478+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=0
time=2025-06-17T17:29:17.478+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=0 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.478+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=7 offset=7340032 length=1048576
time=2025-06-17T17:29:17.482+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=0 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:17.486+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=8
time=2025-06-17T17:29:17.486+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=8
time=2025-06-17T17:29:17.486+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=8 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.486+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=1 offset=1048576 length=1048576
time=2025-06-17T17:29:17.486+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=12
time=2025-06-17T17:29:17.486+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=12
time=2025-06-17T17:29:17.486+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=12 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.486+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=4 offset=4194304 length=1048576
time=2025-06-17T17:29:17.488+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=16
time=2025-06-17T17:29:17.488+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=16
time=2025-06-17T17:29:17.488+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=16 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.488+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=10 offset=10485760 length=1048576
time=2025-06-17T17:29:17.505+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=8 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:17.507+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=12 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:17.507+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=16 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:17.507+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=20
time=2025-06-17T17:29:17.507+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=20
time=2025-06-17T17:29:17.507+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=20 error=EOF
time=2025-06-17T17:29:17.507+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=24
time=2025-06-17T17:29:17.507+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=24
time=2025-06-17T17:29:17.508+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=24 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.508+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=13 offset=13631488 length=1048576
time=2025-06-17T17:29:17.511+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=28
time=2025-06-17T17:29:17.511+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=32
time=2025-06-17T17:29:17.511+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=32
time=2025-06-17T17:29:17.511+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=32 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.511+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=16 offset=16777216 length=1048576
time=2025-06-17T17:29:17.511+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=28
time=2025-06-17T17:29:17.511+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=28 error=EOF
time=2025-06-17T17:29:17.513+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=24 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:17.521+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=36
time=2025-06-17T17:29:17.521+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=40
time=2025-06-17T17:29:17.521+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=36
time=2025-06-17T17:29:17.521+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=40
time=2025-06-17T17:29:17.521+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=36 error=EOF
time=2025-06-17T17:29:17.521+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=40 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.521+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=19 offset=19922944 length=1048576
time=2025-06-17T17:29:17.524+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=44
time=2025-06-17T17:29:17.524+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=48
time=2025-06-17T17:29:17.524+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=48
time=2025-06-17T17:29:17.524+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=48 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.524+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=22 offset=23068672 length=1048576
time=2025-06-17T17:29:17.526+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=44
time=2025-06-17T17:29:17.526+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=44 error=EOF
time=2025-06-17T17:29:17.528+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=32 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:17.539+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=52
time=2025-06-17T17:29:17.540+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=56
time=2025-06-17T17:29:17.540+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=56
time=2025-06-17T17:29:17.540+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=56 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.540+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=25 offset=26214400 length=1048576
time=2025-06-17T17:29:17.540+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=40 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:17.540+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=52
time=2025-06-17T17:29:17.540+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=52 error=EOF
time=2025-06-17T17:29:17.542+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=48 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=60
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Agent accepted new stream on connection" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=64
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=64
time=2025-06-17T17:29:17.542+02:00 level=INFO msg="Received stream purpose" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=64 purpose=CHUNK_REQUEST
time=2025-06-17T17:29:17.542+02:00 level=INFO msg="Processing ChunkRequest from client" agent_id=agent002 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:41000 file_id=sirene.mp4 chunk_id=28 offset=29360128 length=1048576
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=60
time=2025-06-17T17:29:17.542+02:00 level=DEBUG msg="Stream closed or timed out before purpose received" agent_id=agent002 remote_addr=127.0.0.1:41000 stream_id=60 error=EOF
time=2025-06-17T17:29:17.553+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=56 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:17.554+02:00 level=INFO msg="Successfully sent chunk to client" agent_id=agent002 handler=ClientChunkRequest stream_id=64 remote_addr=127.0.0.1:41000 bytes_sent=1048576
time=2025-06-17T17:29:21.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:29:31.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:29:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:29:47.559+02:00 level=DEBUG msg="Agent connection closed or context cancelled while accepting stream" agent_id=agent002 remote_addr=127.0.0.1:41000 error="timeout: no recent network activity"
time=2025-06-17T17:29:47.559+02:00 level=DEBUG msg="Closed QUIC connection post-handling (agent)" agent_id=agent002 remote_addr=127.0.0.1:41000
time=2025-06-17T17:29:51.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:30:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:30:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:30:21.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:30:31.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:30:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:30:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:31:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:31:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:31:21.449+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:31:31.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:31:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:31:51.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:32:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:32:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:32:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:32:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:32:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:32:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:33:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:33:11.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:33:21.450+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:33:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:33:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:33:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:34:01.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:34:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:34:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:34:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:34:41.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:34:51.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:35:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:35:11.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:35:21.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:35:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:35:41.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:35:51.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:36:01.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:36:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:36:21.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:36:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:36:41.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:36:51.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:37:01.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:37:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:37:21.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:37:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:37:41.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:37:51.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:38:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:38:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:38:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:38:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:38:41.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:38:51.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:39:01.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:39:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:39:21.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:39:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:39:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:39:51.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:40:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:40:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:40:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:40:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:40:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:40:51.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:41:01.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:41:11.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:41:21.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:41:31.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:41:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:41:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:42:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:42:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:42:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:42:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:42:41.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:42:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:42:56.464+02:00 level=WARN msg="Failed to send heartbeat" agent_id=agent002 error="context deadline exceeded"
time=2025-06-17T17:43:01.451+02:00 level=INFO msg="Agent attempting to connect to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:43:01.466+02:00 level=INFO msg="Agent successfully connected to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms address=localhost:7878
time=2025-06-17T17:43:11.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:43:21.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:43:31.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:43:41.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:43:51.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:44:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:44:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:44:21.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:44:31.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:44:41.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:44:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:45:01.451+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:45:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:45:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:45:31.450+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:45:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:45:51.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:46:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:46:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:46:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:46:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:46:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:46:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:47:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:47:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:47:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:47:31.449+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:47:41.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:47:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:48:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:48:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:48:21.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:48:31.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:48:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:48:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:49:01.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:49:11.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:49:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:49:31.450+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:49:41.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:49:51.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:50:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:50:11.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:50:21.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:50:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:50:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:50:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:51:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:51:11.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:51:21.459+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:51:31.452+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:51:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:51:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:52:01.457+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:52:11.450+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:52:21.456+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:52:31.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:52:41.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:52:51.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:53:01.455+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:53:11.458+02:00 level=DEBUG msg="Reusing existing connection to orchestrator" agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:53:20.508+02:00 level=INFO msg="Received signal, shutting down agent..." agent_id=agent002 signal=interrupt
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Context cancelled, stopping ChunkServer listener..." agent_id=agent002
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Heartbeat loop stopping." agent_id=agent002
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Agent shutting down main process..." agent_id=agent002
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="ChunkServer listener accept loop ending." agent_id=agent002 reason="context canceled"
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="ChunkServer Start goroutine finished." agent_id=agent002
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Closed agent connection to orchestrator." agent_id=agent002 subcomponent=agent_orch_comms
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Agent shutdown complete." agent_id=agent002
time=2025-06-17T17:53:20.509+02:00 level=INFO msg="Closed agent connection to orchestrator." agent_id=agent002 subcomponent=agent_orch_comms


# ===== FILE: logs/orchestrator.log =====
time=2025-06-17T17:09:17.169+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:61 msg="qwrap orchestrator starting..." listen_addr=localhost:7878 log_level=DEBUG
time=2025-06-17T17:09:17.169+02:00 level=WARN source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:180 msg="No TLS cert/key files provided for Orchestrator, generating self-signed certificate (INSECURE, FOR TESTING ONLY)"
time=2025-06-17T17:09:17.358+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:214 msg="Saved self-signed orchestrator certificate to orchestrator-selfsigned.crt and orchestrator-selfsigned.key"
time=2025-06-17T17:09:17.381+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:451 msg="Successfully loaded state for transfers from DB" subsystem=statemanager count=7
time=2025-06-17T17:09:17.381+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:60 msg="StateManager initialized with BoltDB persistence" subsystem=statemanager db_path=orchestrator.db
time=2025-06-17T17:09:17.381+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:97 msg="StateManager initialized"
time=2025-06-17T17:09:17.381+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:323 msg="Starting scheduler background tasks..." subsystem=scheduler
time=2025-06-17T17:09:17.381+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:109 msg="Scheduler initialized and background tasks started"
time=2025-06-17T17:09:17.381+02:00 level=WARN source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:58 msg="AgentClientTLSConfig not provided, creating a default one (likely insecure for production)." subsystem=quic_server
time=2025-06-17T17:09:17.381+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:142 msg="Orchestrator server attempting to start..."
time=2025-06-17T17:09:17.382+02:00 level=INFO source=:0 msg="failed to sufficiently increase receive buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details."
time=2025-06-17T17:09:17.382+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:148 msg="OrchestratorServer started" subsystem=quic_server address=127.0.0.1:7878
time=2025-06-17T17:09:21.403+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:34679
time=2025-06-17T17:09:21.403+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:34679
time=2025-06-17T17:09:21.403+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=0
time=2025-06-17T17:09:21.403+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=0
time=2025-06-17T17:09:21.404+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=0 purpose=AGENT_REGISTRATION plan_id_context=""
time=2025-06-17T17:09:21.404+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:736 msg="Processing AgentRegistrationRequest" subsystem=quic_server handler=AgentRegistration stream_id=0 remote_addr=127.0.0.1:34679 agent_id=agent003 address_provided=127.0.0.1:8082 capabilities=[storage_local]
time=2025-06-17T17:09:21.404+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:48 msg="Registering or updating agent" subsystem=scheduler agent_id=agent003 address=127.0.0.1:8082
time=2025-06-17T17:09:21.404+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:54 msg="New agent registered" subsystem=scheduler agent_id=agent003
time=2025-06-17T17:09:21.404+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:769 msg="AgentRegistrationResponse sent" subsystem=quic_server handler=AgentRegistration stream_id=0 remote_addr=127.0.0.1:34679 agent_id=agent003 success=true
time=2025-06-17T17:09:21.404+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:771 msg="-> Suggested heartbeat interval" subsystem=quic_server handler=AgentRegistration stream_id=0 remote_addr=127.0.0.1:34679 seconds=10
time=2025-06-17T17:09:21.449+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:42720
time=2025-06-17T17:09:21.449+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:42720
time=2025-06-17T17:09:21.449+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=0
time=2025-06-17T17:09:21.449+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=0
time=2025-06-17T17:09:21.449+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=0 purpose=AGENT_REGISTRATION plan_id_context=""
time=2025-06-17T17:09:21.449+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:736 msg="Processing AgentRegistrationRequest" subsystem=quic_server handler=AgentRegistration stream_id=0 remote_addr=127.0.0.1:42720 agent_id=agent002 address_provided=127.0.0.1:8081 capabilities=[storage_local]
time=2025-06-17T17:09:21.449+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:48 msg="Registering or updating agent" subsystem=scheduler agent_id=agent002 address=127.0.0.1:8081
time=2025-06-17T17:09:21.449+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:54 msg="New agent registered" subsystem=scheduler agent_id=agent002
time=2025-06-17T17:09:21.449+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:769 msg="AgentRegistrationResponse sent" subsystem=quic_server handler=AgentRegistration stream_id=0 remote_addr=127.0.0.1:42720 agent_id=agent002 success=true
time=2025-06-17T17:09:21.449+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:771 msg="-> Suggested heartbeat interval" subsystem=quic_server handler=AgentRegistration stream_id=0 remote_addr=127.0.0.1:42720 seconds=10
time=2025-06-17T17:09:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:40732
time=2025-06-17T17:09:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:40732
time=2025-06-17T17:09:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=0
time=2025-06-17T17:09:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=0
time=2025-06-17T17:09:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=0 purpose=AGENT_REGISTRATION plan_id_context=""
time=2025-06-17T17:09:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:736 msg="Processing AgentRegistrationRequest" subsystem=quic_server handler=AgentRegistration stream_id=0 remote_addr=127.0.0.1:40732 agent_id=agent001 address_provided=127.0.0.1:8080 capabilities=[storage_local]
time=2025-06-17T17:09:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:48 msg="Registering or updating agent" subsystem=scheduler agent_id=agent001 address=127.0.0.1:8080
time=2025-06-17T17:09:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:54 msg="New agent registered" subsystem=scheduler agent_id=agent001
time=2025-06-17T17:09:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:769 msg="AgentRegistrationResponse sent" subsystem=quic_server handler=AgentRegistration stream_id=0 remote_addr=127.0.0.1:40732 agent_id=agent001 success=true
time=2025-06-17T17:09:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:771 msg="-> Suggested heartbeat interval" subsystem=quic_server handler=AgentRegistration stream_id=0 remote_addr=127.0.0.1:40732 seconds=10
time=2025-06-17T17:09:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=4
time=2025-06-17T17:09:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=4
time=2025-06-17T17:09:31.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=4 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:09:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:09:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=4
time=2025-06-17T17:09:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=4
time=2025-06-17T17:09:31.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=4 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:09:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:09:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=4
time=2025-06-17T17:09:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=4
time=2025-06-17T17:09:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=4 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:09:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:09:37.481+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:58934
time=2025-06-17T17:09:37.481+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:58934
time=2025-06-17T17:09:37.482+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58934 stream_id=0
time=2025-06-17T17:09:37.482+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58934 stream_id=0
time=2025-06-17T17:09:37.482+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58934 stream_id=0 purpose=TRANSFER_REQUEST plan_id_context=""
time=2025-06-17T17:09:37.482+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:482 msg="Processing TransferRequest" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:58934 request_id=client-req-1750172977481815943 num_files=1
time=2025-06-17T17:09:37.482+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:310 msg="Attempting to discover file metadata by querying agents" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4
time=2025-06-17T17:09:37.482+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent002 target_agent_addr=127.0.0.1:8081
time=2025-06-17T17:09:37.482+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent001 target_agent_addr=127.0.0.1:8080
time=2025-06-17T17:09:37.482+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent003 target_agent_addr=127.0.0.1:8082
time=2025-06-17T17:09:37.487+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent002 target_agent_addr=127.0.0.1:8081
time=2025-06-17T17:09:37.488+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent002 file_id=sirene.mp4 size=287961082 checksum="" portions_found=92
time=2025-06-17T17:09:37.490+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent001 target_agent_addr=127.0.0.1:8080
time=2025-06-17T17:09:37.490+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent003 target_agent_addr=127.0.0.1:8082
time=2025-06-17T17:09:37.491+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent003 file_id=sirene.mp4 size=287961082 checksum="" portions_found=91
time=2025-06-17T17:09:37.491+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent001 file_id=sirene.mp4 size=287961082 checksum="" portions_found=92
time=2025-06-17T17:09:37.492+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:466 msg="Successfully resolved file metadata and portions" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 file_id=sirene.mp4 size=287961082 total_portions_found=275 source_agent_id_for_meta=agent002
time=2025-06-17T17:09:37.502+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:137 msg="New transfer state created and persisted" subsystem=statemanager plan_id=plan-c09f66bc-3765-4124-a1e7-1434b33fecdb client_request_id=client-req-1750172977481815943
time=2025-06-17T17:09:37.502+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:535 msg="Transfer state created in StateManager" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:58934 plan_id=plan-c09f66bc-3765-4124-a1e7-1434b33fecdb
time=2025-06-17T17:09:37.505+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:178 msg="Transfer status updated and persisted" subsystem=statemanager plan_id=plan-c09f66bc-3765-4124-a1e7-1434b33fecdb old_status=PENDING new_status=PLANNING
time=2025-06-17T17:09:37.505+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:171 msg="Creating transfer plan with portion-aware strategy" subsystem=scheduler plan_id=plan-c09f66bc-3765-4124-a1e7-1434b33fecdb file_id=sirene.mp4 total_size=287961082 num_chunks=275 num_available_agents=3 num_agent_responses=3
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=0 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=1 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=2 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=3 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=4 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=5 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=6 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=7 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=8 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=9 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=10 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=11 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=12 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=13 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=14 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=15 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=16 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=17 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=18 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=19 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=20 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=21 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=22 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=23 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=24 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=25 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=26 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=27 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=28 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=29 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=30 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=31 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=32 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=33 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=34 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=35 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=36 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=37 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=38 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=39 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=40 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=41 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=42 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=43 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=44 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=45 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=46 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=47 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=48 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=49 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=50 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=51 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=52 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=53 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=54 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=55 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=56 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=57 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=58 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=59 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=60 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=61 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=62 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=63 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=64 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=65 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=66 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=67 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=68 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=69 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=70 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=71 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=72 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=73 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=74 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=75 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=76 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=77 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=78 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=79 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=80 agent_id=agent003
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=81 agent_id=agent001
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=82 agent_id=agent002
time=2025-06-17T17:09:37.506+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=83 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=84 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=85 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=86 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=87 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=88 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=89 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=90 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=91 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=92 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=93 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=94 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=95 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=96 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=97 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=98 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=99 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=100 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=101 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=102 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=103 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=104 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=105 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=106 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=107 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=108 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=109 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=110 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=111 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=112 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=113 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=114 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=115 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=116 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=117 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=118 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=119 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=120 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=121 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=122 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=123 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=124 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=125 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=126 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=127 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=128 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=129 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=130 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=131 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=132 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=133 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=134 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=135 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=136 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=137 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=138 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=139 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=140 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=141 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=142 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=143 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=144 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=145 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=146 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=147 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=148 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=149 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=150 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=151 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=152 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=153 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=154 agent_id=agent002
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=155 agent_id=agent003
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=156 agent_id=agent001
time=2025-06-17T17:09:37.507+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=157 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=158 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=159 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=160 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=161 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=162 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=163 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=164 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=165 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=166 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=167 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=168 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=169 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=170 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=171 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=172 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=173 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=174 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=175 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=176 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=177 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=178 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=179 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=180 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=181 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=182 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=183 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=184 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=185 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=186 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=187 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=188 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=189 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=190 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=191 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=192 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=193 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=194 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=195 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=196 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=197 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=198 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=199 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=200 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=201 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=202 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=203 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=204 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=205 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=206 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=207 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=208 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=209 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=210 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=211 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=212 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=213 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=214 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=215 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=216 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=217 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=218 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=219 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=220 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=221 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=222 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=223 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=224 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=225 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=226 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=227 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=228 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=229 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=230 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=231 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=232 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=233 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=234 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=235 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=236 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=237 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=238 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=239 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=240 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=241 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=242 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=243 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=244 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=245 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=246 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=247 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=248 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=249 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=250 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=251 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=252 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=253 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=254 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=255 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=256 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=257 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=258 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=259 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=260 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=261 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=262 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=263 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=264 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=265 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=266 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=267 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=268 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=269 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=270 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=271 agent_id=agent002
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=272 agent_id=agent003
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=273 agent_id=agent001
time=2025-06-17T17:09:37.508+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=274 agent_id=agent002
time=2025-06-17T17:09:37.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:571 msg="Scheduler created transfer plan successfully" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:58934 plan_id=plan-c09f66bc-3765-4124-a1e7-1434b33fecdb num_assignments=275
time=2025-06-17T17:09:37.513+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:257 msg="Scheduler plan linked and persisted to transfer" subsystem=statemanager plan_id=plan-c09f66bc-3765-4124-a1e7-1434b33fecdb num_assignments=275
time=2025-06-17T17:09:37.513+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:595 msg="TransferPlan sent successfully to client" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:58934 plan_id=plan-c09f66bc-3765-4124-a1e7-1434b33fecdb
time=2025-06-17T17:09:41.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=8
time=2025-06-17T17:09:41.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=8
time=2025-06-17T17:09:41.406+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=8 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:09:41.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:09:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=8
time=2025-06-17T17:09:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=8
time=2025-06-17T17:09:41.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=8 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:09:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:09:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=8
time=2025-06-17T17:09:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=8
time=2025-06-17T17:09:41.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=8 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:09:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:09:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=12
time=2025-06-17T17:09:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=12
time=2025-06-17T17:09:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=12 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:09:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:09:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=12
time=2025-06-17T17:09:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=12
time=2025-06-17T17:09:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=12 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:09:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:09:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=12
time=2025-06-17T17:09:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=12
time=2025-06-17T17:09:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=12 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:09:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=16
time=2025-06-17T17:10:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=16
time=2025-06-17T17:10:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=16 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=16
time=2025-06-17T17:10:01.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=16
time=2025-06-17T17:10:01.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=16 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:01.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=16
time=2025-06-17T17:10:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=16
time=2025-06-17T17:10:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=16 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:11.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=20
time=2025-06-17T17:10:11.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=20
time=2025-06-17T17:10:11.408+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=20 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:11.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:11.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=20
time=2025-06-17T17:10:11.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=20
time=2025-06-17T17:10:11.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=20
time=2025-06-17T17:10:11.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=20 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:11.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:11.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=20
time=2025-06-17T17:10:11.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=20 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:11.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=24
time=2025-06-17T17:10:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=24
time=2025-06-17T17:10:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=24 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=24
time=2025-06-17T17:10:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=24
time=2025-06-17T17:10:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=24 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=24
time=2025-06-17T17:10:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=24
time=2025-06-17T17:10:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=24 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=28
time=2025-06-17T17:10:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=28
time=2025-06-17T17:10:31.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=28 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=28
time=2025-06-17T17:10:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=28
time=2025-06-17T17:10:31.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=28 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=28
time=2025-06-17T17:10:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=28
time=2025-06-17T17:10:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=28 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=32
time=2025-06-17T17:10:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=32
time=2025-06-17T17:10:41.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=32 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=32
time=2025-06-17T17:10:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=32
time=2025-06-17T17:10:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=32
time=2025-06-17T17:10:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=32 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=32
time=2025-06-17T17:10:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=32 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=36
time=2025-06-17T17:10:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=36
time=2025-06-17T17:10:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=36 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=36
time=2025-06-17T17:10:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=36
time=2025-06-17T17:10:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=36 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:10:51.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=36
time=2025-06-17T17:10:51.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=36
time=2025-06-17T17:10:51.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=36 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:10:51.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=40
time=2025-06-17T17:11:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=40
time=2025-06-17T17:11:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=40 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=40
time=2025-06-17T17:11:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=40
time=2025-06-17T17:11:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=40 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=40
time=2025-06-17T17:11:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=40
time=2025-06-17T17:11:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=40 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=44
time=2025-06-17T17:11:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=44
time=2025-06-17T17:11:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=44 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=44
time=2025-06-17T17:11:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=44
time=2025-06-17T17:11:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=44
time=2025-06-17T17:11:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=44
time=2025-06-17T17:11:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=44 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=44 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=48
time=2025-06-17T17:11:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=48
time=2025-06-17T17:11:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=48 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=48
time=2025-06-17T17:11:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=48
time=2025-06-17T17:11:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=48 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=48
time=2025-06-17T17:11:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=48
time=2025-06-17T17:11:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=48 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:31.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=52
time=2025-06-17T17:11:31.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=52
time=2025-06-17T17:11:31.407+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=52 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:31.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=52
time=2025-06-17T17:11:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=52
time=2025-06-17T17:11:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=52 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=52
time=2025-06-17T17:11:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=52
time=2025-06-17T17:11:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=52 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:35.987+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:58934 error="Application error 0x0 (remote): client orchestrator communication closed"
time=2025-06-17T17:11:41.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=56
time=2025-06-17T17:11:41.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=56
time=2025-06-17T17:11:41.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=56 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:41.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:41.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=56
time=2025-06-17T17:11:41.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=56
time=2025-06-17T17:11:41.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=56 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:41.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=56
time=2025-06-17T17:11:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=56
time=2025-06-17T17:11:41.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=56 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=60
time=2025-06-17T17:11:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=60
time=2025-06-17T17:11:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=60 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=60
time=2025-06-17T17:11:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=60
time=2025-06-17T17:11:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=60
time=2025-06-17T17:11:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=60
time=2025-06-17T17:11:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=60 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:11:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=60 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:11:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=64
time=2025-06-17T17:12:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=64
time=2025-06-17T17:12:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=64 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=64
time=2025-06-17T17:12:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=64
time=2025-06-17T17:12:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=64
time=2025-06-17T17:12:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=64 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=64
time=2025-06-17T17:12:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=64 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=68
time=2025-06-17T17:12:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=68
time=2025-06-17T17:12:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=68 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=68
time=2025-06-17T17:12:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=68
time=2025-06-17T17:12:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=68 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=68
time=2025-06-17T17:12:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=68
time=2025-06-17T17:12:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=68 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=72
time=2025-06-17T17:12:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=72
time=2025-06-17T17:12:21.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=72 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=72
time=2025-06-17T17:12:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=72
time=2025-06-17T17:12:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=72 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=72
time=2025-06-17T17:12:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=72
time=2025-06-17T17:12:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=72 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=76
time=2025-06-17T17:12:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=76
time=2025-06-17T17:12:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=76 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=76
time=2025-06-17T17:12:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=76
time=2025-06-17T17:12:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=76 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=76
time=2025-06-17T17:12:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=76
time=2025-06-17T17:12:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=76 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=80
time=2025-06-17T17:12:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=80
time=2025-06-17T17:12:41.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=80 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=80
time=2025-06-17T17:12:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=80
time=2025-06-17T17:12:41.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=80 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=80
time=2025-06-17T17:12:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=80
time=2025-06-17T17:12:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=80 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=84
time=2025-06-17T17:12:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=84
time=2025-06-17T17:12:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=84 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=84
time=2025-06-17T17:12:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=84
time=2025-06-17T17:12:51.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=84 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:12:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=84
time=2025-06-17T17:12:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=84
time=2025-06-17T17:12:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=84 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:12:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=88
time=2025-06-17T17:13:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=88
time=2025-06-17T17:13:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=88 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=88
time=2025-06-17T17:13:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=88
time=2025-06-17T17:13:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=88 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=88
time=2025-06-17T17:13:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=88
time=2025-06-17T17:13:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=88 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=92
time=2025-06-17T17:13:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=92
time=2025-06-17T17:13:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=92 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=92
time=2025-06-17T17:13:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=92
time=2025-06-17T17:13:11.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=92 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=92
time=2025-06-17T17:13:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=92
time=2025-06-17T17:13:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=92 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=96
time=2025-06-17T17:13:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=96
time=2025-06-17T17:13:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=96 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=96
time=2025-06-17T17:13:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=96
time=2025-06-17T17:13:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=96 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=96
time=2025-06-17T17:13:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=96
time=2025-06-17T17:13:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=96 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=100
time=2025-06-17T17:13:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=100
time=2025-06-17T17:13:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=100 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=100
time=2025-06-17T17:13:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=100
time=2025-06-17T17:13:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=100
time=2025-06-17T17:13:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=100
time=2025-06-17T17:13:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=100 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=100 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:41.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=104
time=2025-06-17T17:13:41.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=104
time=2025-06-17T17:13:41.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=104 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:41.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:41.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=104
time=2025-06-17T17:13:41.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=104
time=2025-06-17T17:13:41.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=104 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:41.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:41.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=104
time=2025-06-17T17:13:41.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=104
time=2025-06-17T17:13:41.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=104 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:41.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=108
time=2025-06-17T17:13:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=108
time=2025-06-17T17:13:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=108 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=108
time=2025-06-17T17:13:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=108
time=2025-06-17T17:13:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=108 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:13:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=108
time=2025-06-17T17:13:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=108
time=2025-06-17T17:13:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=108 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:13:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=112
time=2025-06-17T17:14:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=112
time=2025-06-17T17:14:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=112 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=112
time=2025-06-17T17:14:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=112
time=2025-06-17T17:14:01.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=112 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=112
time=2025-06-17T17:14:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=112
time=2025-06-17T17:14:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=112 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=116
time=2025-06-17T17:14:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=116
time=2025-06-17T17:14:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=116 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=116
time=2025-06-17T17:14:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=116
time=2025-06-17T17:14:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=116 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=116
time=2025-06-17T17:14:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=116
time=2025-06-17T17:14:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=116 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:19.555+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:47182
time=2025-06-17T17:14:19.555+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:47182
time=2025-06-17T17:14:19.556+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:47182 stream_id=0
time=2025-06-17T17:14:19.556+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:47182 stream_id=0
time=2025-06-17T17:14:19.556+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:47182 stream_id=0 purpose=TRANSFER_REQUEST plan_id_context=""
time=2025-06-17T17:14:19.556+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:482 msg="Processing TransferRequest" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:47182 request_id=client-req-1750173259555637863 num_files=1
time=2025-06-17T17:14:19.556+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:310 msg="Attempting to discover file metadata by querying agents" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4
time=2025-06-17T17:14:19.556+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent001 target_agent_addr=127.0.0.1:8080
time=2025-06-17T17:14:19.556+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent002 target_agent_addr=127.0.0.1:8081
time=2025-06-17T17:14:19.556+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent003 target_agent_addr=127.0.0.1:8082
time=2025-06-17T17:14:19.560+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent001 target_agent_addr=127.0.0.1:8080
time=2025-06-17T17:14:19.560+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent003 target_agent_addr=127.0.0.1:8082
time=2025-06-17T17:14:19.560+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent001 file_id=sirene.mp4 size=287961082 checksum="" portions_found=92
time=2025-06-17T17:14:19.561+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent003 file_id=sirene.mp4 size=287961082 checksum="" portions_found=91
time=2025-06-17T17:14:19.562+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent002 target_agent_addr=127.0.0.1:8081
time=2025-06-17T17:14:19.562+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent002 file_id=sirene.mp4 size=287961082 checksum="" portions_found=92
time=2025-06-17T17:14:19.562+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:466 msg="Successfully resolved file metadata and portions" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 file_id=sirene.mp4 size=287961082 total_portions_found=275 source_agent_id_for_meta=agent001
time=2025-06-17T17:14:19.576+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:137 msg="New transfer state created and persisted" subsystem=statemanager plan_id=plan-fb8dd0cb-332e-483c-8dda-7a6a021e3bf7 client_request_id=client-req-1750173259555637863
time=2025-06-17T17:14:19.576+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:535 msg="Transfer state created in StateManager" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:47182 plan_id=plan-fb8dd0cb-332e-483c-8dda-7a6a021e3bf7
time=2025-06-17T17:14:19.578+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:178 msg="Transfer status updated and persisted" subsystem=statemanager plan_id=plan-fb8dd0cb-332e-483c-8dda-7a6a021e3bf7 old_status=PENDING new_status=PLANNING
time=2025-06-17T17:14:19.578+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:171 msg="Creating transfer plan with portion-aware strategy" subsystem=scheduler plan_id=plan-fb8dd0cb-332e-483c-8dda-7a6a021e3bf7 file_id=sirene.mp4 total_size=287961082 num_chunks=275 num_available_agents=3 num_agent_responses=3
time=2025-06-17T17:14:19.578+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=0 agent_id=agent001
time=2025-06-17T17:14:19.578+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=1 agent_id=agent002
time=2025-06-17T17:14:19.578+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=2 agent_id=agent003
time=2025-06-17T17:14:19.578+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=3 agent_id=agent001
time=2025-06-17T17:14:19.578+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=4 agent_id=agent002
time=2025-06-17T17:14:19.578+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=5 agent_id=agent003
time=2025-06-17T17:14:19.578+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=6 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=7 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=8 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=9 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=10 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=11 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=12 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=13 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=14 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=15 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=16 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=17 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=18 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=19 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=20 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=21 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=22 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=23 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=24 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=25 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=26 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=27 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=28 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=29 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=30 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=31 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=32 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=33 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=34 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=35 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=36 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=37 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=38 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=39 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=40 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=41 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=42 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=43 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=44 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=45 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=46 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=47 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=48 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=49 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=50 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=51 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=52 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=53 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=54 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=55 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=56 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=57 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=58 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=59 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=60 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=61 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=62 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=63 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=64 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=65 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=66 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=67 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=68 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=69 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=70 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=71 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=72 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=73 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=74 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=75 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=76 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=77 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=78 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=79 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=80 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=81 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=82 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=83 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=84 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=85 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=86 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=87 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=88 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=89 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=90 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=91 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=92 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=93 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=94 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=95 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=96 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=97 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=98 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=99 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=100 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=101 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=102 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=103 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=104 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=105 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=106 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=107 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=108 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=109 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=110 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=111 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=112 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=113 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=114 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=115 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=116 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=117 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=118 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=119 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=120 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=121 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=122 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=123 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=124 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=125 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=126 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=127 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=128 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=129 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=130 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=131 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=132 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=133 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=134 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=135 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=136 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=137 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=138 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=139 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=140 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=141 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=142 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=143 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=144 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=145 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=146 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=147 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=148 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=149 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=150 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=151 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=152 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=153 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=154 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=155 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=156 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=157 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=158 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=159 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=160 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=161 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=162 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=163 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=164 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=165 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=166 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=167 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=168 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=169 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=170 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=171 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=172 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=173 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=174 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=175 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=176 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=177 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=178 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=179 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=180 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=181 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=182 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=183 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=184 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=185 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=186 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=187 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=188 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=189 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=190 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=191 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=192 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=193 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=194 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=195 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=196 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=197 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=198 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=199 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=200 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=201 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=202 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=203 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=204 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=205 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=206 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=207 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=208 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=209 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=210 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=211 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=212 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=213 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=214 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=215 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=216 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=217 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=218 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=219 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=220 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=221 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=222 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=223 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=224 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=225 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=226 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=227 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=228 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=229 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=230 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=231 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=232 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=233 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=234 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=235 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=236 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=237 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=238 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=239 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=240 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=241 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=242 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=243 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=244 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=245 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=246 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=247 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=248 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=249 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=250 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=251 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=252 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=253 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=254 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=255 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=256 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=257 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=258 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=259 agent_id=agent002
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=260 agent_id=agent003
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=261 agent_id=agent001
time=2025-06-17T17:14:19.579+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=262 agent_id=agent002
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=263 agent_id=agent003
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=264 agent_id=agent001
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=265 agent_id=agent002
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=266 agent_id=agent003
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=267 agent_id=agent001
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=268 agent_id=agent002
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=269 agent_id=agent003
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=270 agent_id=agent001
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=271 agent_id=agent002
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=272 agent_id=agent003
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=273 agent_id=agent001
time=2025-06-17T17:14:19.580+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=274 agent_id=agent002
time=2025-06-17T17:14:19.580+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:571 msg="Scheduler created transfer plan successfully" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:47182 plan_id=plan-fb8dd0cb-332e-483c-8dda-7a6a021e3bf7 num_assignments=275
time=2025-06-17T17:14:19.583+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:257 msg="Scheduler plan linked and persisted to transfer" subsystem=statemanager plan_id=plan-fb8dd0cb-332e-483c-8dda-7a6a021e3bf7 num_assignments=275
time=2025-06-17T17:14:19.584+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:595 msg="TransferPlan sent successfully to client" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:47182 plan_id=plan-fb8dd0cb-332e-483c-8dda-7a6a021e3bf7
time=2025-06-17T17:14:21.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=120
time=2025-06-17T17:14:21.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=120
time=2025-06-17T17:14:21.406+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=120 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:21.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=120
time=2025-06-17T17:14:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=120
time=2025-06-17T17:14:21.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=120 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=120
time=2025-06-17T17:14:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=120
time=2025-06-17T17:14:21.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=120 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=124
time=2025-06-17T17:14:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=124
time=2025-06-17T17:14:31.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=124 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:31.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=124
time=2025-06-17T17:14:31.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=124
time=2025-06-17T17:14:31.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=124 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:31.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=124
time=2025-06-17T17:14:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=124
time=2025-06-17T17:14:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=124 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=128
time=2025-06-17T17:14:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=128
time=2025-06-17T17:14:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=128 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=128
time=2025-06-17T17:14:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=128
time=2025-06-17T17:14:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=128
time=2025-06-17T17:14:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=128
time=2025-06-17T17:14:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=128 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=128 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:51.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=132
time=2025-06-17T17:14:51.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=132
time=2025-06-17T17:14:51.406+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=132 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:51.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=132
time=2025-06-17T17:14:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=132
time=2025-06-17T17:14:51.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=132 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:14:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=132
time=2025-06-17T17:14:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=132
time=2025-06-17T17:14:51.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=132 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:14:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=136
time=2025-06-17T17:15:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=136
time=2025-06-17T17:15:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=136 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=136
time=2025-06-17T17:15:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=136
time=2025-06-17T17:15:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=136 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=136
time=2025-06-17T17:15:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=136
time=2025-06-17T17:15:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=136 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=140
time=2025-06-17T17:15:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=140
time=2025-06-17T17:15:11.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=140 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=140
time=2025-06-17T17:15:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=140
time=2025-06-17T17:15:11.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=140 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=140
time=2025-06-17T17:15:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=140
time=2025-06-17T17:15:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=140 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=144
time=2025-06-17T17:15:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=144
time=2025-06-17T17:15:21.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=144 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=144
time=2025-06-17T17:15:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=144
time=2025-06-17T17:15:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=144 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=144
time=2025-06-17T17:15:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=144
time=2025-06-17T17:15:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=144 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=148
time=2025-06-17T17:15:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=148
time=2025-06-17T17:15:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=148 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=148
time=2025-06-17T17:15:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=148
time=2025-06-17T17:15:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=148
time=2025-06-17T17:15:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=148 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=148
time=2025-06-17T17:15:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=148 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:38.944+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:47182 error="Application error 0x0 (remote): client orchestrator communication closed"
time=2025-06-17T17:15:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=152
time=2025-06-17T17:15:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=152
time=2025-06-17T17:15:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=152 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=152
time=2025-06-17T17:15:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=152
time=2025-06-17T17:15:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=152 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=152
time=2025-06-17T17:15:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=152
time=2025-06-17T17:15:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=152 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=156
time=2025-06-17T17:15:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=156
time=2025-06-17T17:15:51.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=156 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=156
time=2025-06-17T17:15:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=156
time=2025-06-17T17:15:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=156 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:15:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=156
time=2025-06-17T17:15:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=156
time=2025-06-17T17:15:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=156 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:15:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=160
time=2025-06-17T17:16:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=160
time=2025-06-17T17:16:01.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=160 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=160
time=2025-06-17T17:16:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=160
time=2025-06-17T17:16:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=160 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=160
time=2025-06-17T17:16:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=160
time=2025-06-17T17:16:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=160 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=164
time=2025-06-17T17:16:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=164
time=2025-06-17T17:16:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=164 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=164
time=2025-06-17T17:16:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=164
time=2025-06-17T17:16:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=164 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=164
time=2025-06-17T17:16:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=164
time=2025-06-17T17:16:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=164 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=168
time=2025-06-17T17:16:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=168
time=2025-06-17T17:16:21.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=168 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=168
time=2025-06-17T17:16:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=168
time=2025-06-17T17:16:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=168 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=168
time=2025-06-17T17:16:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=168
time=2025-06-17T17:16:21.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=168 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=172
time=2025-06-17T17:16:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=172
time=2025-06-17T17:16:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=172 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=172
time=2025-06-17T17:16:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=172
time=2025-06-17T17:16:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=172
time=2025-06-17T17:16:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=172 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=172
time=2025-06-17T17:16:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=172 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=176
time=2025-06-17T17:16:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=176
time=2025-06-17T17:16:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=176 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=176
time=2025-06-17T17:16:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=176
time=2025-06-17T17:16:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=176 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=176
time=2025-06-17T17:16:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=176
time=2025-06-17T17:16:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=176 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=180
time=2025-06-17T17:16:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=180
time=2025-06-17T17:16:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=180 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=180
time=2025-06-17T17:16:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=180
time=2025-06-17T17:16:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=180 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:16:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=180
time=2025-06-17T17:16:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=180
time=2025-06-17T17:16:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=180 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:16:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=184
time=2025-06-17T17:17:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=184
time=2025-06-17T17:17:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=184 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=184
time=2025-06-17T17:17:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=184
time=2025-06-17T17:17:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=184 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=184
time=2025-06-17T17:17:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=184
time=2025-06-17T17:17:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=184 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=188
time=2025-06-17T17:17:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=188
time=2025-06-17T17:17:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=188 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=188
time=2025-06-17T17:17:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=188
time=2025-06-17T17:17:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=188 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=188
time=2025-06-17T17:17:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=188
time=2025-06-17T17:17:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=188 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=192
time=2025-06-17T17:17:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=192
time=2025-06-17T17:17:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=192 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=192
time=2025-06-17T17:17:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=192
time=2025-06-17T17:17:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=192 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=192
time=2025-06-17T17:17:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=192
time=2025-06-17T17:17:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=192 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:31.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=196
time=2025-06-17T17:17:31.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=196
time=2025-06-17T17:17:31.409+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=196 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:31.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=196
time=2025-06-17T17:17:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=196
time=2025-06-17T17:17:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=196 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=196
time=2025-06-17T17:17:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=196
time=2025-06-17T17:17:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=196 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:41.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=200
time=2025-06-17T17:17:41.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=200
time=2025-06-17T17:17:41.409+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=200 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:41.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=200
time=2025-06-17T17:17:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=200
time=2025-06-17T17:17:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=200 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=200
time=2025-06-17T17:17:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=200
time=2025-06-17T17:17:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=200 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=204
time=2025-06-17T17:17:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=204
time=2025-06-17T17:17:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=204 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=204
time=2025-06-17T17:17:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=204
time=2025-06-17T17:17:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=204 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:17:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=204
time=2025-06-17T17:17:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=204
time=2025-06-17T17:17:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=204 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:17:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=208
time=2025-06-17T17:18:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=208
time=2025-06-17T17:18:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=208 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:01.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=208
time=2025-06-17T17:18:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=208
time=2025-06-17T17:18:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=208 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=208
time=2025-06-17T17:18:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=208
time=2025-06-17T17:18:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=208 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=212
time=2025-06-17T17:18:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=212
time=2025-06-17T17:18:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=212 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=212
time=2025-06-17T17:18:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=212
time=2025-06-17T17:18:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=212 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=212
time=2025-06-17T17:18:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=212
time=2025-06-17T17:18:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=212 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=216
time=2025-06-17T17:18:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=216
time=2025-06-17T17:18:21.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=216 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=216
time=2025-06-17T17:18:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=216
time=2025-06-17T17:18:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=216 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=216
time=2025-06-17T17:18:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=216
time=2025-06-17T17:18:21.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=216 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=220
time=2025-06-17T17:18:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=220
time=2025-06-17T17:18:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=220 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=220
time=2025-06-17T17:18:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=220
time=2025-06-17T17:18:31.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=220 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=220
time=2025-06-17T17:18:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=220
time=2025-06-17T17:18:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=220 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=224
time=2025-06-17T17:18:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=224
time=2025-06-17T17:18:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=224 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=224
time=2025-06-17T17:18:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=224
time=2025-06-17T17:18:41.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=224 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=224
time=2025-06-17T17:18:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=224
time=2025-06-17T17:18:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=224 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=228
time=2025-06-17T17:18:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=228
time=2025-06-17T17:18:51.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=228 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=228
time=2025-06-17T17:18:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=228
time=2025-06-17T17:18:51.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=228 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:18:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=228
time=2025-06-17T17:18:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=228
time=2025-06-17T17:18:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=228 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:18:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=232
time=2025-06-17T17:19:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=232
time=2025-06-17T17:19:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=232 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=232
time=2025-06-17T17:19:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=232
time=2025-06-17T17:19:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=232 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=232
time=2025-06-17T17:19:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=232
time=2025-06-17T17:19:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=232 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=236
time=2025-06-17T17:19:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=236
time=2025-06-17T17:19:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=236 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=236
time=2025-06-17T17:19:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=236
time=2025-06-17T17:19:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=236 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=236
time=2025-06-17T17:19:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=236
time=2025-06-17T17:19:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=236 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=240
time=2025-06-17T17:19:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=240
time=2025-06-17T17:19:21.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=240 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=240
time=2025-06-17T17:19:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=240
time=2025-06-17T17:19:21.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=240 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=240
time=2025-06-17T17:19:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=240
time=2025-06-17T17:19:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=240 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=244
time=2025-06-17T17:19:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=244
time=2025-06-17T17:19:31.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=244 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=244
time=2025-06-17T17:19:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=244
time=2025-06-17T17:19:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=244 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=244
time=2025-06-17T17:19:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=244
time=2025-06-17T17:19:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=244 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=248
time=2025-06-17T17:19:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=248
time=2025-06-17T17:19:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=248 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=248
time=2025-06-17T17:19:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=248
time=2025-06-17T17:19:41.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=248 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=248
time=2025-06-17T17:19:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=248
time=2025-06-17T17:19:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=248 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=252
time=2025-06-17T17:19:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=252
time=2025-06-17T17:19:51.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=252 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=252
time=2025-06-17T17:19:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=252
time=2025-06-17T17:19:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=252 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:19:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=252
time=2025-06-17T17:19:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=252
time=2025-06-17T17:19:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=252 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:19:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=256
time=2025-06-17T17:20:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=256
time=2025-06-17T17:20:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=256 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=256
time=2025-06-17T17:20:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=256
time=2025-06-17T17:20:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=256 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=256
time=2025-06-17T17:20:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=256
time=2025-06-17T17:20:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=256 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:07.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:56159
time=2025-06-17T17:20:07.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:56159
time=2025-06-17T17:20:07.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:56159 stream_id=0
time=2025-06-17T17:20:07.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:56159 stream_id=0
time=2025-06-17T17:20:07.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:56159 stream_id=0 purpose=TRANSFER_REQUEST plan_id_context=""
time=2025-06-17T17:20:07.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:482 msg="Processing TransferRequest" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:56159 request_id=client-req-1750173607414914286 num_files=1
time=2025-06-17T17:20:07.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:310 msg="Attempting to discover file metadata by querying agents" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4
time=2025-06-17T17:20:07.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent003 target_agent_addr=127.0.0.1:8082
time=2025-06-17T17:20:07.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent002 target_agent_addr=127.0.0.1:8081
time=2025-06-17T17:20:07.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent001 target_agent_addr=127.0.0.1:8080
time=2025-06-17T17:20:07.418+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent003 target_agent_addr=127.0.0.1:8082
time=2025-06-17T17:20:07.418+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent001 target_agent_addr=127.0.0.1:8080
time=2025-06-17T17:20:07.418+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent002 target_agent_addr=127.0.0.1:8081
time=2025-06-17T17:20:07.419+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent003 file_id=sirene.mp4 size=287961082 checksum="" portions_found=91
time=2025-06-17T17:20:07.419+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent001 file_id=sirene.mp4 size=287961082 checksum="" portions_found=92
time=2025-06-17T17:20:07.419+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent002 file_id=sirene.mp4 size=287961082 checksum="" portions_found=92
time=2025-06-17T17:20:07.419+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:466 msg="Successfully resolved file metadata and portions" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 file_id=sirene.mp4 size=287961082 total_portions_found=275 source_agent_id_for_meta=agent003
time=2025-06-17T17:20:07.430+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:137 msg="New transfer state created and persisted" subsystem=statemanager plan_id=plan-439985a7-68a7-4283-b1dd-d7c43a2a7bcb client_request_id=client-req-1750173607414914286
time=2025-06-17T17:20:07.430+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:535 msg="Transfer state created in StateManager" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:56159 plan_id=plan-439985a7-68a7-4283-b1dd-d7c43a2a7bcb
time=2025-06-17T17:20:07.432+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:178 msg="Transfer status updated and persisted" subsystem=statemanager plan_id=plan-439985a7-68a7-4283-b1dd-d7c43a2a7bcb old_status=PENDING new_status=PLANNING
time=2025-06-17T17:20:07.432+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:171 msg="Creating transfer plan with portion-aware strategy" subsystem=scheduler plan_id=plan-439985a7-68a7-4283-b1dd-d7c43a2a7bcb file_id=sirene.mp4 total_size=287961082 num_chunks=275 num_available_agents=3 num_agent_responses=3
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=0 agent_id=agent001
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=1 agent_id=agent002
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=2 agent_id=agent003
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=3 agent_id=agent001
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=4 agent_id=agent002
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=5 agent_id=agent003
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=6 agent_id=agent001
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=7 agent_id=agent002
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=8 agent_id=agent003
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=9 agent_id=agent001
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=10 agent_id=agent002
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=11 agent_id=agent003
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=12 agent_id=agent001
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=13 agent_id=agent002
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=14 agent_id=agent003
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=15 agent_id=agent001
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=16 agent_id=agent002
time=2025-06-17T17:20:07.432+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=17 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=18 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=19 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=20 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=21 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=22 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=23 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=24 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=25 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=26 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=27 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=28 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=29 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=30 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=31 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=32 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=33 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=34 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=35 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=36 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=37 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=38 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=39 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=40 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=41 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=42 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=43 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=44 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=45 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=46 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=47 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=48 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=49 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=50 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=51 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=52 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=53 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=54 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=55 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=56 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=57 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=58 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=59 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=60 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=61 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=62 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=63 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=64 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=65 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=66 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=67 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=68 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=69 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=70 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=71 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=72 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=73 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=74 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=75 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=76 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=77 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=78 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=79 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=80 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=81 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=82 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=83 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=84 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=85 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=86 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=87 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=88 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=89 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=90 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=91 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=92 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=93 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=94 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=95 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=96 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=97 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=98 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=99 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=100 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=101 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=102 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=103 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=104 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=105 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=106 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=107 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=108 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=109 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=110 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=111 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=112 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=113 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=114 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=115 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=116 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=117 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=118 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=119 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=120 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=121 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=122 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=123 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=124 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=125 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=126 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=127 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=128 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=129 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=130 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=131 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=132 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=133 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=134 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=135 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=136 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=137 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=138 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=139 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=140 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=141 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=142 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=143 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=144 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=145 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=146 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=147 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=148 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=149 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=150 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=151 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=152 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=153 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=154 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=155 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=156 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=157 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=158 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=159 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=160 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=161 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=162 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=163 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=164 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=165 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=166 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=167 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=168 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=169 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=170 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=171 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=172 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=173 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=174 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=175 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=176 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=177 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=178 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=179 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=180 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=181 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=182 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=183 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=184 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=185 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=186 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=187 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=188 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=189 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=190 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=191 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=192 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=193 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=194 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=195 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=196 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=197 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=198 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=199 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=200 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=201 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=202 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=203 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=204 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=205 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=206 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=207 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=208 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=209 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=210 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=211 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=212 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=213 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=214 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=215 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=216 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=217 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=218 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=219 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=220 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=221 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=222 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=223 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=224 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=225 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=226 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=227 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=228 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=229 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=230 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=231 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=232 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=233 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=234 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=235 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=236 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=237 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=238 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=239 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=240 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=241 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=242 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=243 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=244 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=245 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=246 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=247 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=248 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=249 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=250 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=251 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=252 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=253 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=254 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=255 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=256 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=257 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=258 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=259 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=260 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=261 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=262 agent_id=agent002
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=263 agent_id=agent003
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=264 agent_id=agent001
time=2025-06-17T17:20:07.433+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=265 agent_id=agent002
time=2025-06-17T17:20:07.434+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=266 agent_id=agent003
time=2025-06-17T17:20:07.434+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=267 agent_id=agent001
time=2025-06-17T17:20:07.434+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=268 agent_id=agent002
time=2025-06-17T17:20:07.434+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=269 agent_id=agent003
time=2025-06-17T17:20:07.434+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=270 agent_id=agent001
time=2025-06-17T17:20:07.434+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=271 agent_id=agent002
time=2025-06-17T17:20:07.434+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=272 agent_id=agent003
time=2025-06-17T17:20:07.434+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=273 agent_id=agent001
time=2025-06-17T17:20:07.434+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=274 agent_id=agent002
time=2025-06-17T17:20:07.434+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:571 msg="Scheduler created transfer plan successfully" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:56159 plan_id=plan-439985a7-68a7-4283-b1dd-d7c43a2a7bcb num_assignments=275
time=2025-06-17T17:20:07.437+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:257 msg="Scheduler plan linked and persisted to transfer" subsystem=statemanager plan_id=plan-439985a7-68a7-4283-b1dd-d7c43a2a7bcb num_assignments=275
time=2025-06-17T17:20:07.437+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:595 msg="TransferPlan sent successfully to client" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:56159 plan_id=plan-439985a7-68a7-4283-b1dd-d7c43a2a7bcb
time=2025-06-17T17:20:11.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=260
time=2025-06-17T17:20:11.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=260
time=2025-06-17T17:20:11.408+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=260 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:11.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=260
time=2025-06-17T17:20:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=260
time=2025-06-17T17:20:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=260
time=2025-06-17T17:20:11.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=260 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=260
time=2025-06-17T17:20:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:11.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=260 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=264
time=2025-06-17T17:20:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=264
time=2025-06-17T17:20:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=264 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=264
time=2025-06-17T17:20:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=264
time=2025-06-17T17:20:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=264
time=2025-06-17T17:20:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=264
time=2025-06-17T17:20:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=264 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=264 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=268
time=2025-06-17T17:20:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=268
time=2025-06-17T17:20:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=268 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=268
time=2025-06-17T17:20:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=268
time=2025-06-17T17:20:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=268 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=268
time=2025-06-17T17:20:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=268
time=2025-06-17T17:20:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=268 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:41.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=272
time=2025-06-17T17:20:41.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=272
time=2025-06-17T17:20:41.407+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=272 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:41.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=272
time=2025-06-17T17:20:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=272
time=2025-06-17T17:20:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=272
time=2025-06-17T17:20:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=272
time=2025-06-17T17:20:41.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=272 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:41.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=272 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:41.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=276
time=2025-06-17T17:20:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=276
time=2025-06-17T17:20:51.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=276 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=276
time=2025-06-17T17:20:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=276
time=2025-06-17T17:20:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=276
time=2025-06-17T17:20:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=276
time=2025-06-17T17:20:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=276 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=276 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:20:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:20:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=280
time=2025-06-17T17:21:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=280
time=2025-06-17T17:21:01.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=280 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=280
time=2025-06-17T17:21:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=280
time=2025-06-17T17:21:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=280 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=280
time=2025-06-17T17:21:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=280
time=2025-06-17T17:21:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=280 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=284
time=2025-06-17T17:21:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=284
time=2025-06-17T17:21:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=284 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=284
time=2025-06-17T17:21:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=284
time=2025-06-17T17:21:11.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=284 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:11.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=284
time=2025-06-17T17:21:11.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=284
time=2025-06-17T17:21:11.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=284 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:11.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:17.911+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:56159 error="Application error 0x0 (remote): client orchestrator communication closed"
time=2025-06-17T17:21:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=288
time=2025-06-17T17:21:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=288
time=2025-06-17T17:21:21.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=288 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=288
time=2025-06-17T17:21:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=288
time=2025-06-17T17:21:21.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=288 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=288
time=2025-06-17T17:21:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=288
time=2025-06-17T17:21:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=288 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=292
time=2025-06-17T17:21:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=292
time=2025-06-17T17:21:31.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=292 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=292
time=2025-06-17T17:21:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=292
time=2025-06-17T17:21:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=292 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=292
time=2025-06-17T17:21:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=292
time=2025-06-17T17:21:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=292 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=296
time=2025-06-17T17:21:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=296
time=2025-06-17T17:21:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=296 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=296
time=2025-06-17T17:21:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=296
time=2025-06-17T17:21:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=296 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=296
time=2025-06-17T17:21:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=296
time=2025-06-17T17:21:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=296 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=300
time=2025-06-17T17:21:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=300
time=2025-06-17T17:21:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=300 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=300
time=2025-06-17T17:21:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=300
time=2025-06-17T17:21:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=300 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:21:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=300
time=2025-06-17T17:21:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=300
time=2025-06-17T17:21:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=300 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:21:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=304
time=2025-06-17T17:22:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=304
time=2025-06-17T17:22:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=304 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=304
time=2025-06-17T17:22:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=304
time=2025-06-17T17:22:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=304 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=304
time=2025-06-17T17:22:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=304
time=2025-06-17T17:22:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=304 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:11.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=308
time=2025-06-17T17:22:11.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=308
time=2025-06-17T17:22:11.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=308 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:11.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=308
time=2025-06-17T17:22:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=308
time=2025-06-17T17:22:11.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=308 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=308
time=2025-06-17T17:22:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=308
time=2025-06-17T17:22:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=308 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=312
time=2025-06-17T17:22:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=312
time=2025-06-17T17:22:21.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=312 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=312
time=2025-06-17T17:22:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=312
time=2025-06-17T17:22:21.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=312 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=312
time=2025-06-17T17:22:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=312
time=2025-06-17T17:22:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=312 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=316
time=2025-06-17T17:22:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=316
time=2025-06-17T17:22:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=316 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=316
time=2025-06-17T17:22:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=316
time=2025-06-17T17:22:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=316 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=316
time=2025-06-17T17:22:31.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=316
time=2025-06-17T17:22:31.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=316 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:31.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:41.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=320
time=2025-06-17T17:22:41.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=320
time=2025-06-17T17:22:41.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=320 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:41.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=320
time=2025-06-17T17:22:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=320
time=2025-06-17T17:22:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=320
time=2025-06-17T17:22:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=320
time=2025-06-17T17:22:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=320 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=320 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=324
time=2025-06-17T17:22:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=324
time=2025-06-17T17:22:51.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=324 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=324
time=2025-06-17T17:22:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=324
time=2025-06-17T17:22:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=324 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:22:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=324
time=2025-06-17T17:22:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=324
time=2025-06-17T17:22:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=324 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:22:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=328
time=2025-06-17T17:23:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=328
time=2025-06-17T17:23:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=328 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=328
time=2025-06-17T17:23:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=328
time=2025-06-17T17:23:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=328 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=328
time=2025-06-17T17:23:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=328
time=2025-06-17T17:23:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=328 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=332
time=2025-06-17T17:23:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=332
time=2025-06-17T17:23:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=332 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=332
time=2025-06-17T17:23:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=332
time=2025-06-17T17:23:11.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=332 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=332
time=2025-06-17T17:23:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=332
time=2025-06-17T17:23:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=332 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=336
time=2025-06-17T17:23:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=336
time=2025-06-17T17:23:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=336 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=336
time=2025-06-17T17:23:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=336
time=2025-06-17T17:23:21.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=336 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=336
time=2025-06-17T17:23:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=336
time=2025-06-17T17:23:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=336 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=340
time=2025-06-17T17:23:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=340
time=2025-06-17T17:23:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=340 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=340
time=2025-06-17T17:23:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=340
time=2025-06-17T17:23:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=340 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=340
time=2025-06-17T17:23:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=340
time=2025-06-17T17:23:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=340 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=344
time=2025-06-17T17:23:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=344
time=2025-06-17T17:23:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=344 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=344
time=2025-06-17T17:23:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=344
time=2025-06-17T17:23:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=344 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=344
time=2025-06-17T17:23:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=344
time=2025-06-17T17:23:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=344 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=348
time=2025-06-17T17:23:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=348
time=2025-06-17T17:23:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=348 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=348
time=2025-06-17T17:23:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=348
time=2025-06-17T17:23:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=348 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:23:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=348
time=2025-06-17T17:23:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=348
time=2025-06-17T17:23:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=348 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:23:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=352
time=2025-06-17T17:24:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=352
time=2025-06-17T17:24:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=352 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=352
time=2025-06-17T17:24:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=352
time=2025-06-17T17:24:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=352 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:01.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=352
time=2025-06-17T17:24:01.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=352
time=2025-06-17T17:24:01.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=352 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:01.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:11.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=356
time=2025-06-17T17:24:11.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=356
time=2025-06-17T17:24:11.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=356 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:11.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:11.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=356
time=2025-06-17T17:24:11.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=356
time=2025-06-17T17:24:11.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=356 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:11.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=356
time=2025-06-17T17:24:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=356
time=2025-06-17T17:24:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=356 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=360
time=2025-06-17T17:24:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=360
time=2025-06-17T17:24:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=360 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=360
time=2025-06-17T17:24:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=360
time=2025-06-17T17:24:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=360 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=360
time=2025-06-17T17:24:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=360
time=2025-06-17T17:24:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=360 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=364
time=2025-06-17T17:24:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=364
time=2025-06-17T17:24:31.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=364 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=364
time=2025-06-17T17:24:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=364
time=2025-06-17T17:24:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=364
time=2025-06-17T17:24:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=364
time=2025-06-17T17:24:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=364 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=364 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=368
time=2025-06-17T17:24:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=368
time=2025-06-17T17:24:41.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=368 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=368
time=2025-06-17T17:24:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=368
time=2025-06-17T17:24:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=368 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=368
time=2025-06-17T17:24:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=368
time=2025-06-17T17:24:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=368 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=372
time=2025-06-17T17:24:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=372
time=2025-06-17T17:24:51.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=372 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=372
time=2025-06-17T17:24:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=372
time=2025-06-17T17:24:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=372 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:24:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=372
time=2025-06-17T17:24:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=372
time=2025-06-17T17:24:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=372 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:24:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=376
time=2025-06-17T17:25:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=376
time=2025-06-17T17:25:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=376 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=376
time=2025-06-17T17:25:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=376
time=2025-06-17T17:25:01.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=376 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=376
time=2025-06-17T17:25:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=376
time=2025-06-17T17:25:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=376 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=380
time=2025-06-17T17:25:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=380
time=2025-06-17T17:25:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=380 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=380
time=2025-06-17T17:25:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=380
time=2025-06-17T17:25:11.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=380 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=380
time=2025-06-17T17:25:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=380
time=2025-06-17T17:25:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=380 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=384
time=2025-06-17T17:25:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=384
time=2025-06-17T17:25:21.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=384 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:21.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=384
time=2025-06-17T17:25:21.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=384
time=2025-06-17T17:25:21.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=384 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:21.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=384
time=2025-06-17T17:25:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=384
time=2025-06-17T17:25:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=384 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=388
time=2025-06-17T17:25:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=388
time=2025-06-17T17:25:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=388 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=388
time=2025-06-17T17:25:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=388
time=2025-06-17T17:25:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=388 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=388
time=2025-06-17T17:25:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=388
time=2025-06-17T17:25:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=388 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=392
time=2025-06-17T17:25:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=392
time=2025-06-17T17:25:41.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=392 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=392
time=2025-06-17T17:25:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=392
time=2025-06-17T17:25:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=392 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=392
time=2025-06-17T17:25:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=392
time=2025-06-17T17:25:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=392 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=396
time=2025-06-17T17:25:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=396
time=2025-06-17T17:25:51.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34679 stream_id=396 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=396
time=2025-06-17T17:25:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=396
time=2025-06-17T17:25:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:42720 stream_id=396 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:25:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=396
time=2025-06-17T17:25:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=396
time=2025-06-17T17:25:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:40732 stream_id=396 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:25:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:06.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:34679 error="Application error 0x1 (remote): hb openstream fail"
time=2025-06-17T17:26:06.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:42720 error="Application error 0x1 (remote): hb openstream fail"
time=2025-06-17T17:26:06.463+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:40732 error="Application error 0x1 (remote): hb openstream fail"
time=2025-06-17T17:26:11.409+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:33728
time=2025-06-17T17:26:11.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:33728
time=2025-06-17T17:26:11.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=0
time=2025-06-17T17:26:11.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=0
time=2025-06-17T17:26:11.409+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=0 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:11.409+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:11.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:39104
time=2025-06-17T17:26:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:39104
time=2025-06-17T17:26:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=0
time=2025-06-17T17:26:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=0
time=2025-06-17T17:26:11.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=0 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:11.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:38060
time=2025-06-17T17:26:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:38060
time=2025-06-17T17:26:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=0
time=2025-06-17T17:26:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=0
time=2025-06-17T17:26:11.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=0 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=4
time=2025-06-17T17:26:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=4
time=2025-06-17T17:26:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=4 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=4
time=2025-06-17T17:26:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=4
time=2025-06-17T17:26:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=4 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=4
time=2025-06-17T17:26:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=4
time=2025-06-17T17:26:21.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=4 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=8
time=2025-06-17T17:26:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=8
time=2025-06-17T17:26:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=8 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:31.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=8
time=2025-06-17T17:26:31.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=8
time=2025-06-17T17:26:31.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=8 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:31.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=8
time=2025-06-17T17:26:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=8
time=2025-06-17T17:26:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=8 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=12
time=2025-06-17T17:26:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=12
time=2025-06-17T17:26:41.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=12 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=12
time=2025-06-17T17:26:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=12
time=2025-06-17T17:26:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=12 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=12
time=2025-06-17T17:26:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=12
time=2025-06-17T17:26:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=12 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=16
time=2025-06-17T17:26:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=16
time=2025-06-17T17:26:51.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=16 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=16
time=2025-06-17T17:26:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=16
time=2025-06-17T17:26:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=16 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:26:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=16
time=2025-06-17T17:26:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=16
time=2025-06-17T17:26:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=16 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:26:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=20
time=2025-06-17T17:27:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=20
time=2025-06-17T17:27:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=20 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=20
time=2025-06-17T17:27:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=20
time=2025-06-17T17:27:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=20 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=20
time=2025-06-17T17:27:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=20
time=2025-06-17T17:27:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=20 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=24
time=2025-06-17T17:27:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=24
time=2025-06-17T17:27:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=24 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=24
time=2025-06-17T17:27:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=24
time=2025-06-17T17:27:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=24 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=24
time=2025-06-17T17:27:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=24
time=2025-06-17T17:27:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=24 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=28
time=2025-06-17T17:27:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=28
time=2025-06-17T17:27:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=28 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=28
time=2025-06-17T17:27:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=28
time=2025-06-17T17:27:21.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=28 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=28
time=2025-06-17T17:27:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=28
time=2025-06-17T17:27:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=28 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=32
time=2025-06-17T17:27:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=32
time=2025-06-17T17:27:31.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=32 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:31.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=32
time=2025-06-17T17:27:31.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=32
time=2025-06-17T17:27:31.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=32 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:31.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=32
time=2025-06-17T17:27:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=32
time=2025-06-17T17:27:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=32 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=36
time=2025-06-17T17:27:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=36
time=2025-06-17T17:27:41.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=36 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:41.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=36
time=2025-06-17T17:27:41.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=36
time=2025-06-17T17:27:41.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=36 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:41.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=36
time=2025-06-17T17:27:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=36
time=2025-06-17T17:27:41.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=36 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=40
time=2025-06-17T17:27:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=40
time=2025-06-17T17:27:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=40 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=40
time=2025-06-17T17:27:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=40
time=2025-06-17T17:27:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=40 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:27:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=40
time=2025-06-17T17:27:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=40
time=2025-06-17T17:27:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=40 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:27:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=44
time=2025-06-17T17:28:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=44
time=2025-06-17T17:28:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=44 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=44
time=2025-06-17T17:28:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=44
time=2025-06-17T17:28:01.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=44 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=44
time=2025-06-17T17:28:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=44
time=2025-06-17T17:28:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=44 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:11.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=48
time=2025-06-17T17:28:11.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=48
time=2025-06-17T17:28:11.406+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=48 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:11.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:11.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=48
time=2025-06-17T17:28:11.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=48
time=2025-06-17T17:28:11.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=48 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:11.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=48
time=2025-06-17T17:28:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=48
time=2025-06-17T17:28:11.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=48 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=52
time=2025-06-17T17:28:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=52
time=2025-06-17T17:28:21.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=52 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:21.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=52
time=2025-06-17T17:28:21.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=52
time=2025-06-17T17:28:21.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=52 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:21.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=52
time=2025-06-17T17:28:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=52
time=2025-06-17T17:28:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=52 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=56
time=2025-06-17T17:28:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=56
time=2025-06-17T17:28:31.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=56 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=56
time=2025-06-17T17:28:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=56
time=2025-06-17T17:28:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=56 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:31.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=56
time=2025-06-17T17:28:31.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=56
time=2025-06-17T17:28:31.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=56 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:31.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=60
time=2025-06-17T17:28:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=60
time=2025-06-17T17:28:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=60 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=60
time=2025-06-17T17:28:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=60
time=2025-06-17T17:28:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=60 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=60
time=2025-06-17T17:28:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=60
time=2025-06-17T17:28:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=60 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=64
time=2025-06-17T17:28:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=64
time=2025-06-17T17:28:51.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=64 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:51.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=64
time=2025-06-17T17:28:51.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=64
time=2025-06-17T17:28:51.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=64 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:51.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:28:51.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=64
time=2025-06-17T17:28:51.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=64
time=2025-06-17T17:28:51.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=64 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:28:51.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=68
time=2025-06-17T17:29:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=68
time=2025-06-17T17:29:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=68 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=68
time=2025-06-17T17:29:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=68
time=2025-06-17T17:29:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=68
time=2025-06-17T17:29:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=68
time=2025-06-17T17:29:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=68 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=68 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=72
time=2025-06-17T17:29:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=72
time=2025-06-17T17:29:11.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=72 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=72
time=2025-06-17T17:29:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=72
time=2025-06-17T17:29:11.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=72 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=72
time=2025-06-17T17:29:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=72
time=2025-06-17T17:29:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=72 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:17.447+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:57500
time=2025-06-17T17:29:17.447+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:57500
time=2025-06-17T17:29:17.447+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:57500 stream_id=0
time=2025-06-17T17:29:17.447+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:57500 stream_id=0
time=2025-06-17T17:29:17.448+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:57500 stream_id=0 purpose=TRANSFER_REQUEST plan_id_context=""
time=2025-06-17T17:29:17.448+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:482 msg="Processing TransferRequest" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:57500 request_id=client-req-1750174157446688580 num_files=1
time=2025-06-17T17:29:17.448+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:310 msg="Attempting to discover file metadata by querying agents" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4
time=2025-06-17T17:29:17.448+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent003 target_agent_addr=127.0.0.1:8082
time=2025-06-17T17:29:17.448+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent002 target_agent_addr=127.0.0.1:8081
time=2025-06-17T17:29:17.448+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:348 msg="Querying agent for metadata" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent001 target_agent_addr=127.0.0.1:8080
time=2025-06-17T17:29:17.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent001 target_agent_addr=127.0.0.1:8080
time=2025-06-17T17:29:17.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent002 target_agent_addr=127.0.0.1:8081
time=2025-06-17T17:29:17.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 target_agent_id=agent003 target_agent_addr=127.0.0.1:8082
time=2025-06-17T17:29:17.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent003 file_id=sirene.mp4 size=287961082 checksum="" portions_found=91
time=2025-06-17T17:29:17.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent002 file_id=sirene.mp4 size=287961082 checksum="" portions_found=92
time=2025-06-17T17:29:17.454+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:419 msg="Received valid metadata from agent" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 agent_id=agent001 file_id=sirene.mp4 size=287961082 checksum="" portions_found=92
time=2025-06-17T17:29:17.454+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:466 msg="Successfully resolved file metadata and portions" subsystem=quic_server op=discoverFileMetadata file_id=sirene.mp4 file_id=sirene.mp4 size=287961082 total_portions_found=275 source_agent_id_for_meta=agent003
time=2025-06-17T17:29:17.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:137 msg="New transfer state created and persisted" subsystem=statemanager plan_id=plan-c49170e5-ca10-4488-a7e8-5cb1bb30aa25 client_request_id=client-req-1750174157446688580
time=2025-06-17T17:29:17.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:535 msg="Transfer state created in StateManager" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:57500 plan_id=plan-c49170e5-ca10-4488-a7e8-5cb1bb30aa25
time=2025-06-17T17:29:17.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:178 msg="Transfer status updated and persisted" subsystem=statemanager plan_id=plan-c49170e5-ca10-4488-a7e8-5cb1bb30aa25 old_status=PENDING new_status=PLANNING
time=2025-06-17T17:29:17.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:171 msg="Creating transfer plan with portion-aware strategy" subsystem=scheduler plan_id=plan-c49170e5-ca10-4488-a7e8-5cb1bb30aa25 file_id=sirene.mp4 total_size=287961082 num_chunks=275 num_available_agents=3 num_agent_responses=3
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=0 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=1 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=2 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=3 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=4 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=5 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=6 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=7 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=8 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=9 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=10 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=11 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=12 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=13 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=14 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=15 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=16 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=17 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=18 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=19 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=20 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=21 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=22 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=23 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=24 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=25 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=26 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=27 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=28 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=29 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=30 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=31 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=32 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=33 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=34 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=35 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=36 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=37 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=38 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=39 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=40 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=41 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=42 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=43 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=44 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=45 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=46 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=47 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=48 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=49 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=50 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=51 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=52 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=53 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=54 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=55 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=56 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=57 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=58 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=59 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=60 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=61 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=62 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=63 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=64 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=65 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=66 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=67 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=68 agent_id=agent003
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=69 agent_id=agent001
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=70 agent_id=agent002
time=2025-06-17T17:29:17.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=71 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=72 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=73 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=74 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=75 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=76 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=77 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=78 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=79 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=80 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=81 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=82 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=83 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=84 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=85 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=86 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=87 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=88 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=89 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=90 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=91 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=92 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=93 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=94 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=95 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=96 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=97 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=98 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=99 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=100 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=101 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=102 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=103 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=104 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=105 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=106 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=107 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=108 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=109 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=110 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=111 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=112 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=113 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=114 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=115 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=116 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=117 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=118 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=119 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=120 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=121 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=122 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=123 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=124 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=125 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=126 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=127 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=128 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=129 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=130 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=131 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=132 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=133 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=134 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=135 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=136 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=137 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=138 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=139 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=140 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=141 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=142 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=143 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=144 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=145 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=146 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=147 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=148 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=149 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=150 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=151 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=152 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=153 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=154 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=155 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=156 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=157 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=158 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=159 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=160 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=161 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=162 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=163 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=164 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=165 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=166 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=167 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=168 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=169 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=170 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=171 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=172 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=173 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=174 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=175 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=176 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=177 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=178 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=179 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=180 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=181 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=182 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=183 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=184 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=185 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=186 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=187 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=188 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=189 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=190 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=191 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=192 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=193 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=194 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=195 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=196 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=197 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=198 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=199 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=200 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=201 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=202 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=203 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=204 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=205 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=206 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=207 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=208 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=209 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=210 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=211 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=212 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=213 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=214 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=215 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=216 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=217 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=218 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=219 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=220 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=221 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=222 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=223 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=224 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=225 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=226 agent_id=agent002
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=227 agent_id=agent003
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=228 agent_id=agent001
time=2025-06-17T17:29:17.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=229 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=230 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=231 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=232 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=233 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=234 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=235 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=236 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=237 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=238 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=239 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=240 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=241 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=242 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=243 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=244 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=245 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=246 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=247 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=248 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=249 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=250 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=251 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=252 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=253 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=254 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=255 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=256 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=257 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=258 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=259 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=260 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=261 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=262 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=263 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=264 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=265 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=266 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=267 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=268 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=269 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=270 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=271 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=272 agent_id=agent003
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=273 agent_id=agent001
time=2025-06-17T17:29:17.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:208 msg="Assigning pre-existing chunk to best owner" subsystem=scheduler chunk_id=274 agent_id=agent002
time=2025-06-17T17:29:17.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:571 msg="Scheduler created transfer plan successfully" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:57500 plan_id=plan-c49170e5-ca10-4488-a7e8-5cb1bb30aa25 num_assignments=275
time=2025-06-17T17:29:17.465+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:257 msg="Scheduler plan linked and persisted to transfer" subsystem=statemanager plan_id=plan-c49170e5-ca10-4488-a7e8-5cb1bb30aa25 num_assignments=275
time=2025-06-17T17:29:17.466+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:595 msg="TransferPlan sent successfully to client" subsystem=quic_server handler=TransferRequest stream_id=0 remote_addr=127.0.0.1:57500 plan_id=plan-c49170e5-ca10-4488-a7e8-5cb1bb30aa25
time=2025-06-17T17:29:21.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=76
time=2025-06-17T17:29:21.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=76
time=2025-06-17T17:29:21.407+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=76 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:21.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=76
time=2025-06-17T17:29:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=76
time=2025-06-17T17:29:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=76
time=2025-06-17T17:29:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=76
time=2025-06-17T17:29:21.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=76 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:21.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=76 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=80
time=2025-06-17T17:29:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=80
time=2025-06-17T17:29:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=80 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=80
time=2025-06-17T17:29:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=80
time=2025-06-17T17:29:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=80 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=80
time=2025-06-17T17:29:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=80
time=2025-06-17T17:29:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=80 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=84
time=2025-06-17T17:29:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=84
time=2025-06-17T17:29:41.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=84 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=84
time=2025-06-17T17:29:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=84
time=2025-06-17T17:29:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=84 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=84
time=2025-06-17T17:29:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=84
time=2025-06-17T17:29:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=84 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:51.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=88
time=2025-06-17T17:29:51.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=88
time=2025-06-17T17:29:51.408+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=88 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:51.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=88
time=2025-06-17T17:29:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=88
time=2025-06-17T17:29:51.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=88 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:29:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=88
time=2025-06-17T17:29:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=88
time=2025-06-17T17:29:51.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=88 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:29:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:01.419+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=92
time=2025-06-17T17:30:01.419+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=92
time=2025-06-17T17:30:01.419+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=92 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:01.419+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=92
time=2025-06-17T17:30:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=92
time=2025-06-17T17:30:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=92 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=92
time=2025-06-17T17:30:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=92
time=2025-06-17T17:30:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=92 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=96
time=2025-06-17T17:30:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=96
time=2025-06-17T17:30:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=96 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=96
time=2025-06-17T17:30:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=96
time=2025-06-17T17:30:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=96 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=96
time=2025-06-17T17:30:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=96
time=2025-06-17T17:30:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=96 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=100
time=2025-06-17T17:30:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=100
time=2025-06-17T17:30:21.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=100 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=100
time=2025-06-17T17:30:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=100
time=2025-06-17T17:30:21.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=100 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=100
time=2025-06-17T17:30:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=100
time=2025-06-17T17:30:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=100 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:21.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=104
time=2025-06-17T17:30:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=104
time=2025-06-17T17:30:31.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=104 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=104
time=2025-06-17T17:30:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=104
time=2025-06-17T17:30:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=104 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=104
time=2025-06-17T17:30:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=104
time=2025-06-17T17:30:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=104 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=108
time=2025-06-17T17:30:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=108
time=2025-06-17T17:30:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=108 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=108
time=2025-06-17T17:30:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=108
time=2025-06-17T17:30:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=108 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=108
time=2025-06-17T17:30:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=108
time=2025-06-17T17:30:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=108 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:42.059+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:57500 error="Application error 0x0 (remote): client orchestrator communication closed"
time=2025-06-17T17:30:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=112
time=2025-06-17T17:30:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=112
time=2025-06-17T17:30:51.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=112 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=112
time=2025-06-17T17:30:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=112
time=2025-06-17T17:30:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=112
time=2025-06-17T17:30:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=112 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=112
time=2025-06-17T17:30:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=112 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:30:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:30:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=116
time=2025-06-17T17:31:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=116
time=2025-06-17T17:31:01.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=116 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=116
time=2025-06-17T17:31:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=116
time=2025-06-17T17:31:01.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=116 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=116
time=2025-06-17T17:31:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=116
time=2025-06-17T17:31:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=116 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=120
time=2025-06-17T17:31:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=120
time=2025-06-17T17:31:11.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=120 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=120
time=2025-06-17T17:31:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=120
time=2025-06-17T17:31:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=120 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=120
time=2025-06-17T17:31:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=120
time=2025-06-17T17:31:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=120 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=124
time=2025-06-17T17:31:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=124
time=2025-06-17T17:31:21.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=124 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=124
time=2025-06-17T17:31:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=124
time=2025-06-17T17:31:21.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=124 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=124
time=2025-06-17T17:31:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=124
time=2025-06-17T17:31:21.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=124 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=128
time=2025-06-17T17:31:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=128
time=2025-06-17T17:31:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=128 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:31.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=128
time=2025-06-17T17:31:31.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=128
time=2025-06-17T17:31:31.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=128 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:31.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=128
time=2025-06-17T17:31:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=128
time=2025-06-17T17:31:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=128 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=132
time=2025-06-17T17:31:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=132
time=2025-06-17T17:31:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=132 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=132
time=2025-06-17T17:31:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=132
time=2025-06-17T17:31:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=132 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=132
time=2025-06-17T17:31:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=132
time=2025-06-17T17:31:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=132 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=136
time=2025-06-17T17:31:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=136
time=2025-06-17T17:31:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=136 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:51.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=136
time=2025-06-17T17:31:51.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=136
time=2025-06-17T17:31:51.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=136 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:51.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:31:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=136
time=2025-06-17T17:31:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=136
time=2025-06-17T17:31:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=136 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:31:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=140
time=2025-06-17T17:32:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=140
time=2025-06-17T17:32:01.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=140 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=140
time=2025-06-17T17:32:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=140
time=2025-06-17T17:32:01.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=140 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=140
time=2025-06-17T17:32:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=140
time=2025-06-17T17:32:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=140 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=144
time=2025-06-17T17:32:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=144
time=2025-06-17T17:32:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=144 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=144
time=2025-06-17T17:32:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=144
time=2025-06-17T17:32:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=144 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=144
time=2025-06-17T17:32:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=144
time=2025-06-17T17:32:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=144 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=148
time=2025-06-17T17:32:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=148
time=2025-06-17T17:32:21.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=148 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=148
time=2025-06-17T17:32:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=148
time=2025-06-17T17:32:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=148 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=148
time=2025-06-17T17:32:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=148
time=2025-06-17T17:32:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=148 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=152
time=2025-06-17T17:32:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=152
time=2025-06-17T17:32:31.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=152 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=152
time=2025-06-17T17:32:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=152
time=2025-06-17T17:32:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=152 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=152
time=2025-06-17T17:32:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=152
time=2025-06-17T17:32:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=152 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=156
time=2025-06-17T17:32:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=156
time=2025-06-17T17:32:41.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=156 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=156
time=2025-06-17T17:32:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=156
time=2025-06-17T17:32:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=156 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=156
time=2025-06-17T17:32:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=156
time=2025-06-17T17:32:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=156 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=160
time=2025-06-17T17:32:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=160
time=2025-06-17T17:32:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=160 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=160
time=2025-06-17T17:32:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=160
time=2025-06-17T17:32:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=160
time=2025-06-17T17:32:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=160 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=160
time=2025-06-17T17:32:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:32:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=160 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:32:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=164
time=2025-06-17T17:33:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=164
time=2025-06-17T17:33:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=164 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=164
time=2025-06-17T17:33:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=164
time=2025-06-17T17:33:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=164
time=2025-06-17T17:33:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=164
time=2025-06-17T17:33:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=164 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=164 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=168
time=2025-06-17T17:33:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=168
time=2025-06-17T17:33:11.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=168 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=168
time=2025-06-17T17:33:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=168
time=2025-06-17T17:33:11.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=168 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=168
time=2025-06-17T17:33:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=168
time=2025-06-17T17:33:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=168 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=172
time=2025-06-17T17:33:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=172
time=2025-06-17T17:33:21.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=172 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:21.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:21.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=172
time=2025-06-17T17:33:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=172
time=2025-06-17T17:33:21.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=172 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=172
time=2025-06-17T17:33:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=172
time=2025-06-17T17:33:21.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=172 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=176
time=2025-06-17T17:33:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=176
time=2025-06-17T17:33:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=176 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=176
time=2025-06-17T17:33:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=176
time=2025-06-17T17:33:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=176 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=176
time=2025-06-17T17:33:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=176
time=2025-06-17T17:33:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=176 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=180
time=2025-06-17T17:33:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=180
time=2025-06-17T17:33:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=180 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=180
time=2025-06-17T17:33:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=180
time=2025-06-17T17:33:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=180 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=180
time=2025-06-17T17:33:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=180
time=2025-06-17T17:33:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=180 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=184
time=2025-06-17T17:33:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=184
time=2025-06-17T17:33:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=184 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=184
time=2025-06-17T17:33:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=184
time=2025-06-17T17:33:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=184 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:33:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=184
time=2025-06-17T17:33:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=184
time=2025-06-17T17:33:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=184 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:33:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=188
time=2025-06-17T17:34:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=188
time=2025-06-17T17:34:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=188 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:01.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=188
time=2025-06-17T17:34:01.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=188
time=2025-06-17T17:34:01.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=188 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:01.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=188
time=2025-06-17T17:34:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=188
time=2025-06-17T17:34:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=188 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=192
time=2025-06-17T17:34:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=192
time=2025-06-17T17:34:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=192 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=192
time=2025-06-17T17:34:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=192
time=2025-06-17T17:34:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=192 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=192
time=2025-06-17T17:34:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=192
time=2025-06-17T17:34:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=192 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=196
time=2025-06-17T17:34:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=196
time=2025-06-17T17:34:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=196 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=196
time=2025-06-17T17:34:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=196
time=2025-06-17T17:34:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=196
time=2025-06-17T17:34:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=196
time=2025-06-17T17:34:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=196 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=196 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=200
time=2025-06-17T17:34:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=200
time=2025-06-17T17:34:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=200 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=200
time=2025-06-17T17:34:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=200
time=2025-06-17T17:34:31.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=200 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=200
time=2025-06-17T17:34:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=200
time=2025-06-17T17:34:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=200 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=204
time=2025-06-17T17:34:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=204
time=2025-06-17T17:34:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=204 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=204
time=2025-06-17T17:34:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=204
time=2025-06-17T17:34:41.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=204 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=204
time=2025-06-17T17:34:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=204
time=2025-06-17T17:34:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=204 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=208
time=2025-06-17T17:34:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=208
time=2025-06-17T17:34:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=208 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=208
time=2025-06-17T17:34:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=208
time=2025-06-17T17:34:51.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=208 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:34:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=208
time=2025-06-17T17:34:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=208
time=2025-06-17T17:34:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=208 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:34:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=212
time=2025-06-17T17:35:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=212
time=2025-06-17T17:35:01.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=212 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=212
time=2025-06-17T17:35:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=212
time=2025-06-17T17:35:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=212 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=212
time=2025-06-17T17:35:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=212
time=2025-06-17T17:35:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=212 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=216
time=2025-06-17T17:35:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=216
time=2025-06-17T17:35:11.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=216 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=216
time=2025-06-17T17:35:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=216
time=2025-06-17T17:35:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=216 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=216
time=2025-06-17T17:35:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=216
time=2025-06-17T17:35:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=216 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:21.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=220
time=2025-06-17T17:35:21.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=220
time=2025-06-17T17:35:21.406+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=220 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:21.406+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:21.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=220
time=2025-06-17T17:35:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=220
time=2025-06-17T17:35:21.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=220 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=220
time=2025-06-17T17:35:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=220
time=2025-06-17T17:35:21.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=220 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=224
time=2025-06-17T17:35:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=224
time=2025-06-17T17:35:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=224 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=224
time=2025-06-17T17:35:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=224
time=2025-06-17T17:35:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=224 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=224
time=2025-06-17T17:35:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=224
time=2025-06-17T17:35:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=224 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=228
time=2025-06-17T17:35:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=228
time=2025-06-17T17:35:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=228 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=228
time=2025-06-17T17:35:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=228
time=2025-06-17T17:35:41.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=228 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:41.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=228
time=2025-06-17T17:35:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=228
time=2025-06-17T17:35:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=228 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=232
time=2025-06-17T17:35:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=232
time=2025-06-17T17:35:51.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=232 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=232
time=2025-06-17T17:35:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=232
time=2025-06-17T17:35:51.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=232 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:35:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=232
time=2025-06-17T17:35:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=232
time=2025-06-17T17:35:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=232 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:35:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=236
time=2025-06-17T17:36:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=236
time=2025-06-17T17:36:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=236 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:01.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=236
time=2025-06-17T17:36:01.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=236
time=2025-06-17T17:36:01.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=236 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:01.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=236
time=2025-06-17T17:36:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=236
time=2025-06-17T17:36:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=236 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=240
time=2025-06-17T17:36:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=240
time=2025-06-17T17:36:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=240 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=240
time=2025-06-17T17:36:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=240
time=2025-06-17T17:36:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=240 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=240
time=2025-06-17T17:36:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=240
time=2025-06-17T17:36:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=240 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=244
time=2025-06-17T17:36:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=244
time=2025-06-17T17:36:21.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=244 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=244
time=2025-06-17T17:36:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=244
time=2025-06-17T17:36:21.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=244 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=244
time=2025-06-17T17:36:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=244
time=2025-06-17T17:36:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=244 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=248
time=2025-06-17T17:36:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=248
time=2025-06-17T17:36:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=248 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=248
time=2025-06-17T17:36:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=248
time=2025-06-17T17:36:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=248 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=248
time=2025-06-17T17:36:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=248
time=2025-06-17T17:36:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=248 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=252
time=2025-06-17T17:36:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=252
time=2025-06-17T17:36:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=252 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=252
time=2025-06-17T17:36:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=252
time=2025-06-17T17:36:41.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=252 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=252
time=2025-06-17T17:36:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=252
time=2025-06-17T17:36:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=252 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=256
time=2025-06-17T17:36:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=256
time=2025-06-17T17:36:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=256 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:51.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=256
time=2025-06-17T17:36:51.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=256
time=2025-06-17T17:36:51.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=256 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:51.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:36:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=256
time=2025-06-17T17:36:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=256
time=2025-06-17T17:36:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=256 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:36:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=260
time=2025-06-17T17:37:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=260
time=2025-06-17T17:37:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=260 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:01.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=260
time=2025-06-17T17:37:01.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=260
time=2025-06-17T17:37:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=260 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=260
time=2025-06-17T17:37:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=260
time=2025-06-17T17:37:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=260 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=264
time=2025-06-17T17:37:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=264
time=2025-06-17T17:37:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=264 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=264
time=2025-06-17T17:37:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=264
time=2025-06-17T17:37:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=264 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=264
time=2025-06-17T17:37:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=264
time=2025-06-17T17:37:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=264 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:21.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=268
time=2025-06-17T17:37:21.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=268
time=2025-06-17T17:37:21.407+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=268 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:21.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=268
time=2025-06-17T17:37:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=268
time=2025-06-17T17:37:21.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=268 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=268
time=2025-06-17T17:37:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=268
time=2025-06-17T17:37:21.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=268 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=272
time=2025-06-17T17:37:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=272
time=2025-06-17T17:37:31.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=272 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=272
time=2025-06-17T17:37:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=272
time=2025-06-17T17:37:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=272
time=2025-06-17T17:37:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=272
time=2025-06-17T17:37:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=272 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=272 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=276
time=2025-06-17T17:37:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=276
time=2025-06-17T17:37:41.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=276 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=276
time=2025-06-17T17:37:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=276
time=2025-06-17T17:37:41.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=276 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=276
time=2025-06-17T17:37:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=276
time=2025-06-17T17:37:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=276 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=280
time=2025-06-17T17:37:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=280
time=2025-06-17T17:37:51.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=280 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=280
time=2025-06-17T17:37:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=280
time=2025-06-17T17:37:51.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=280 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:37:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=280
time=2025-06-17T17:37:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=280
time=2025-06-17T17:37:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=280 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:37:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=284
time=2025-06-17T17:38:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=284
time=2025-06-17T17:38:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=284 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=284
time=2025-06-17T17:38:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=284
time=2025-06-17T17:38:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=284 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=284
time=2025-06-17T17:38:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=284
time=2025-06-17T17:38:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=284 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=288
time=2025-06-17T17:38:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=288
time=2025-06-17T17:38:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=288 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=288
time=2025-06-17T17:38:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=288
time=2025-06-17T17:38:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=288 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=288
time=2025-06-17T17:38:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=288
time=2025-06-17T17:38:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=288 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=292
time=2025-06-17T17:38:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=292
time=2025-06-17T17:38:21.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=292 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=292
time=2025-06-17T17:38:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=292
time=2025-06-17T17:38:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=292 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=292
time=2025-06-17T17:38:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=292
time=2025-06-17T17:38:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=292 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=296
time=2025-06-17T17:38:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=296
time=2025-06-17T17:38:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=296 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=296
time=2025-06-17T17:38:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=296
time=2025-06-17T17:38:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=296 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=296
time=2025-06-17T17:38:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=296
time=2025-06-17T17:38:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=296 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=300
time=2025-06-17T17:38:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=300
time=2025-06-17T17:38:41.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=300 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=300
time=2025-06-17T17:38:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=300
time=2025-06-17T17:38:41.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=300 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=300
time=2025-06-17T17:38:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=300
time=2025-06-17T17:38:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=300 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=304
time=2025-06-17T17:38:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=304
time=2025-06-17T17:38:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=304 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=304
time=2025-06-17T17:38:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=304
time=2025-06-17T17:38:51.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=304 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:51.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:38:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=304
time=2025-06-17T17:38:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=304
time=2025-06-17T17:38:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=304 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:38:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=308
time=2025-06-17T17:39:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=308
time=2025-06-17T17:39:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=308 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:01.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=308
time=2025-06-17T17:39:01.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=308
time=2025-06-17T17:39:01.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=308 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:01.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=308
time=2025-06-17T17:39:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=308
time=2025-06-17T17:39:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=308 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=312
time=2025-06-17T17:39:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=312
time=2025-06-17T17:39:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=312 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=312
time=2025-06-17T17:39:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=312
time=2025-06-17T17:39:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=312 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=312
time=2025-06-17T17:39:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=312
time=2025-06-17T17:39:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=312 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:21.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=316
time=2025-06-17T17:39:21.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=316
time=2025-06-17T17:39:21.407+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=316 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:21.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=316
time=2025-06-17T17:39:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=316
time=2025-06-17T17:39:21.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=316 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:21.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=316
time=2025-06-17T17:39:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=316
time=2025-06-17T17:39:21.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=316 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:31.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=320
time=2025-06-17T17:39:31.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=320
time=2025-06-17T17:39:31.416+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=320 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:31.416+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=320
time=2025-06-17T17:39:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=320
time=2025-06-17T17:39:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=320
time=2025-06-17T17:39:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=320
time=2025-06-17T17:39:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=320 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=320 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=324
time=2025-06-17T17:39:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=324
time=2025-06-17T17:39:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=324 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=324
time=2025-06-17T17:39:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=324
time=2025-06-17T17:39:41.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=324 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=324
time=2025-06-17T17:39:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=324
time=2025-06-17T17:39:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=324 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=328
time=2025-06-17T17:39:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=328
time=2025-06-17T17:39:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=328 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=328
time=2025-06-17T17:39:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=328
time=2025-06-17T17:39:51.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=328 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:39:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=328
time=2025-06-17T17:39:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=328
time=2025-06-17T17:39:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=328 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:39:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=332
time=2025-06-17T17:40:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=332
time=2025-06-17T17:40:01.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=332 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=332
time=2025-06-17T17:40:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=332
time=2025-06-17T17:40:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=332 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=332
time=2025-06-17T17:40:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=332
time=2025-06-17T17:40:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=332 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=336
time=2025-06-17T17:40:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=336
time=2025-06-17T17:40:11.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=336 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=336
time=2025-06-17T17:40:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=336
time=2025-06-17T17:40:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=336 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=336
time=2025-06-17T17:40:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=336
time=2025-06-17T17:40:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=336 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=340
time=2025-06-17T17:40:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=340
time=2025-06-17T17:40:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=340 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=340
time=2025-06-17T17:40:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=340
time=2025-06-17T17:40:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=340 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=340
time=2025-06-17T17:40:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=340
time=2025-06-17T17:40:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=340 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:31.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=344
time=2025-06-17T17:40:31.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=344
time=2025-06-17T17:40:31.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=344 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:31.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=344
time=2025-06-17T17:40:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=344
time=2025-06-17T17:40:31.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=344 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:31.462+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=344
time=2025-06-17T17:40:31.462+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=344
time=2025-06-17T17:40:31.462+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=344 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:31.462+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=348
time=2025-06-17T17:40:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=348
time=2025-06-17T17:40:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=348 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=348
time=2025-06-17T17:40:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=348
time=2025-06-17T17:40:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=348 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=348
time=2025-06-17T17:40:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=348
time=2025-06-17T17:40:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=348 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=352
time=2025-06-17T17:40:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=352
time=2025-06-17T17:40:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=352 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=352
time=2025-06-17T17:40:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=352
time=2025-06-17T17:40:51.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=352 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:40:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=352
time=2025-06-17T17:40:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=352
time=2025-06-17T17:40:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=352 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:40:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=356
time=2025-06-17T17:41:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=356
time=2025-06-17T17:41:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=356 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:01.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=356
time=2025-06-17T17:41:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=356
time=2025-06-17T17:41:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=356 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=356
time=2025-06-17T17:41:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=356
time=2025-06-17T17:41:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=356 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=360
time=2025-06-17T17:41:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=360
time=2025-06-17T17:41:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=360 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=360
time=2025-06-17T17:41:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=360
time=2025-06-17T17:41:11.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=360 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:11.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=360
time=2025-06-17T17:41:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=360
time=2025-06-17T17:41:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=360 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:21.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=364
time=2025-06-17T17:41:21.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=364
time=2025-06-17T17:41:21.408+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=364 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:21.408+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=364
time=2025-06-17T17:41:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=364
time=2025-06-17T17:41:21.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=364 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:21.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:21.454+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=364
time=2025-06-17T17:41:21.454+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=364
time=2025-06-17T17:41:21.454+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=364 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:21.454+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=368
time=2025-06-17T17:41:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=368
time=2025-06-17T17:41:31.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=368 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=368
time=2025-06-17T17:41:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=368
time=2025-06-17T17:41:31.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=368 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=368
time=2025-06-17T17:41:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=368
time=2025-06-17T17:41:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=368 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=372
time=2025-06-17T17:41:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=372
time=2025-06-17T17:41:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=372 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=372
time=2025-06-17T17:41:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=372
time=2025-06-17T17:41:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=372 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=372
time=2025-06-17T17:41:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=372
time=2025-06-17T17:41:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=372 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=376
time=2025-06-17T17:41:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=376
time=2025-06-17T17:41:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=376 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=376
time=2025-06-17T17:41:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=376
time=2025-06-17T17:41:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=376 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:41:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=376
time=2025-06-17T17:41:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=376
time=2025-06-17T17:41:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=376 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:41:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=380
time=2025-06-17T17:42:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=380
time=2025-06-17T17:42:01.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=380 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=380
time=2025-06-17T17:42:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=380
time=2025-06-17T17:42:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=380 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=380
time=2025-06-17T17:42:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=380
time=2025-06-17T17:42:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=380 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=384
time=2025-06-17T17:42:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=384
time=2025-06-17T17:42:11.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=384 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=384
time=2025-06-17T17:42:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=384
time=2025-06-17T17:42:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=384 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=384
time=2025-06-17T17:42:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=384
time=2025-06-17T17:42:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=384 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=388
time=2025-06-17T17:42:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=388
time=2025-06-17T17:42:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=388 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=388
time=2025-06-17T17:42:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=388
time=2025-06-17T17:42:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=388 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=388
time=2025-06-17T17:42:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=388
time=2025-06-17T17:42:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=388 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=392
time=2025-06-17T17:42:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=392
time=2025-06-17T17:42:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=392 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=392
time=2025-06-17T17:42:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=392
time=2025-06-17T17:42:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=392 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=392
time=2025-06-17T17:42:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=392
time=2025-06-17T17:42:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=392 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=396
time=2025-06-17T17:42:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=396
time=2025-06-17T17:42:41.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:33728 stream_id=396 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=396
time=2025-06-17T17:42:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=396
time=2025-06-17T17:42:41.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:38060 stream_id=396 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=396
time=2025-06-17T17:42:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=396
time=2025-06-17T17:42:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:39104 stream_id=396 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:42:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:42:56.416+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:33728 error="Application error 0x1 (remote): hb openstream fail"
time=2025-06-17T17:42:56.464+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:39104 error="Application error 0x1 (remote): hb openstream fail"
time=2025-06-17T17:42:56.464+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:38060 error="Application error 0x1 (remote): hb openstream fail"
time=2025-06-17T17:43:01.422+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:41394
time=2025-06-17T17:43:01.422+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:41394
time=2025-06-17T17:43:01.422+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=0
time=2025-06-17T17:43:01.422+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=0
time=2025-06-17T17:43:01.422+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=0 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:01.422+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:01.467+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:34416
time=2025-06-17T17:43:01.467+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:181 msg="Orchestrator accepted new QUIC connection" subsystem=quic_server remote_addr=127.0.0.1:58557
time=2025-06-17T17:43:01.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:58557
time=2025-06-17T17:43:01.467+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:223 msg="Orchestrator handling connection" subsystem=quic_server remote_addr=127.0.0.1:34416
time=2025-06-17T17:43:01.468+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=0
time=2025-06-17T17:43:01.468+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=0
time=2025-06-17T17:43:01.468+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=0
time=2025-06-17T17:43:01.468+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=0 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:01.468+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=0
time=2025-06-17T17:43:01.468+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:01.468+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=0 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:01.468+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=4
time=2025-06-17T17:43:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=4
time=2025-06-17T17:43:11.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=4 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=4
time=2025-06-17T17:43:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=4
time=2025-06-17T17:43:11.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=4 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=4
time=2025-06-17T17:43:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=4
time=2025-06-17T17:43:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=4 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=8
time=2025-06-17T17:43:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=8
time=2025-06-17T17:43:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=8 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=8
time=2025-06-17T17:43:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=8
time=2025-06-17T17:43:21.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=8 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=8
time=2025-06-17T17:43:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=8
time=2025-06-17T17:43:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=8 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:31.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=12
time=2025-06-17T17:43:31.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=12
time=2025-06-17T17:43:31.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=12 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:31.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:31.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=12
time=2025-06-17T17:43:31.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=12
time=2025-06-17T17:43:31.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=12 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:31.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=12
time=2025-06-17T17:43:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=12
time=2025-06-17T17:43:31.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=12 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=16
time=2025-06-17T17:43:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=16
time=2025-06-17T17:43:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=16 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=16
time=2025-06-17T17:43:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=16
time=2025-06-17T17:43:41.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=16 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=16
time=2025-06-17T17:43:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=16
time=2025-06-17T17:43:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=16 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=20
time=2025-06-17T17:43:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=20
time=2025-06-17T17:43:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=20 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=20
time=2025-06-17T17:43:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=20
time=2025-06-17T17:43:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=20
time=2025-06-17T17:43:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=20
time=2025-06-17T17:43:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=20 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=20 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:43:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:43:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=24
time=2025-06-17T17:44:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=24
time=2025-06-17T17:44:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=24 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=24
time=2025-06-17T17:44:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=24
time=2025-06-17T17:44:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=24 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=24
time=2025-06-17T17:44:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=24
time=2025-06-17T17:44:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=24 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=28
time=2025-06-17T17:44:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=28
time=2025-06-17T17:44:11.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=28 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=28
time=2025-06-17T17:44:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=28
time=2025-06-17T17:44:11.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=28 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=28
time=2025-06-17T17:44:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=28
time=2025-06-17T17:44:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=28 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=32
time=2025-06-17T17:44:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=32
time=2025-06-17T17:44:21.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=32 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=32
time=2025-06-17T17:44:21.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=32
time=2025-06-17T17:44:21.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=32 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=32
time=2025-06-17T17:44:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=32
time=2025-06-17T17:44:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=32 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:31.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=36
time=2025-06-17T17:44:31.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=36
time=2025-06-17T17:44:31.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=36 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:31.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=36
time=2025-06-17T17:44:31.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=36
time=2025-06-17T17:44:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=36 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=36
time=2025-06-17T17:44:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=36
time=2025-06-17T17:44:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=36 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=40
time=2025-06-17T17:44:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=40
time=2025-06-17T17:44:41.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=40 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:41.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=40
time=2025-06-17T17:44:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=40
time=2025-06-17T17:44:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=40 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=40
time=2025-06-17T17:44:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=40
time=2025-06-17T17:44:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=40 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=44
time=2025-06-17T17:44:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=44
time=2025-06-17T17:44:51.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=44 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=44
time=2025-06-17T17:44:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=44
time=2025-06-17T17:44:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=44 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:44:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=44
time=2025-06-17T17:44:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=44
time=2025-06-17T17:44:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=44 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:44:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=48
time=2025-06-17T17:45:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=48
time=2025-06-17T17:45:01.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=48 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:01.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=48
time=2025-06-17T17:45:01.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=48
time=2025-06-17T17:45:01.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=48 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:01.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=48
time=2025-06-17T17:45:01.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=48
time=2025-06-17T17:45:01.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=48 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:01.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=52
time=2025-06-17T17:45:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=52
time=2025-06-17T17:45:11.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=52 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=52
time=2025-06-17T17:45:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=52
time=2025-06-17T17:45:11.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=52 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=52
time=2025-06-17T17:45:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=52
time=2025-06-17T17:45:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=52 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=56
time=2025-06-17T17:45:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=56
time=2025-06-17T17:45:21.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=56 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=56
time=2025-06-17T17:45:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=56
time=2025-06-17T17:45:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=56 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=56
time=2025-06-17T17:45:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=56
time=2025-06-17T17:45:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=56 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:31.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=60
time=2025-06-17T17:45:31.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=60
time=2025-06-17T17:45:31.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=60 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:31.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:31.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=60
time=2025-06-17T17:45:31.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=60
time=2025-06-17T17:45:31.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=60 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:31.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=60
time=2025-06-17T17:45:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=60
time=2025-06-17T17:45:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=60 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=64
time=2025-06-17T17:45:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=64
time=2025-06-17T17:45:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=64 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=64
time=2025-06-17T17:45:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=64
time=2025-06-17T17:45:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=64 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=64
time=2025-06-17T17:45:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=64
time=2025-06-17T17:45:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=64 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=68
time=2025-06-17T17:45:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=68
time=2025-06-17T17:45:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=68 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=68
time=2025-06-17T17:45:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=68
time=2025-06-17T17:45:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=68 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:45:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=68
time=2025-06-17T17:45:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=68
time=2025-06-17T17:45:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=68 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:45:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=72
time=2025-06-17T17:46:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=72
time=2025-06-17T17:46:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=72 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=72
time=2025-06-17T17:46:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=72
time=2025-06-17T17:46:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=72 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=72
time=2025-06-17T17:46:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=72
time=2025-06-17T17:46:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=72 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=76
time=2025-06-17T17:46:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=76
time=2025-06-17T17:46:11.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=76 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:11.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=76
time=2025-06-17T17:46:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=76
time=2025-06-17T17:46:11.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=76 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=76
time=2025-06-17T17:46:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=76
time=2025-06-17T17:46:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=76 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=80
time=2025-06-17T17:46:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=80
time=2025-06-17T17:46:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=80 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=80
time=2025-06-17T17:46:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=80
time=2025-06-17T17:46:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=80 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=80
time=2025-06-17T17:46:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=80
time=2025-06-17T17:46:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=80 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=84
time=2025-06-17T17:46:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=84
time=2025-06-17T17:46:31.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=84 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=84
time=2025-06-17T17:46:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=84
time=2025-06-17T17:46:31.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=84 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=84
time=2025-06-17T17:46:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=84
time=2025-06-17T17:46:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=84 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=88
time=2025-06-17T17:46:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=88
time=2025-06-17T17:46:41.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=88 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=88
time=2025-06-17T17:46:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=88
time=2025-06-17T17:46:41.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=88 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=88
time=2025-06-17T17:46:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=88
time=2025-06-17T17:46:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=88 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=92
time=2025-06-17T17:46:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=92
time=2025-06-17T17:46:51.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=92 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=92
time=2025-06-17T17:46:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=92
time=2025-06-17T17:46:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=92 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:46:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=92
time=2025-06-17T17:46:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=92
time=2025-06-17T17:46:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=92 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:46:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=96
time=2025-06-17T17:47:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=96
time=2025-06-17T17:47:01.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=96 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:01.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=96
time=2025-06-17T17:47:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=96
time=2025-06-17T17:47:01.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=96 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=96
time=2025-06-17T17:47:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=96
time=2025-06-17T17:47:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=96 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=100
time=2025-06-17T17:47:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=100
time=2025-06-17T17:47:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=100 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=100
time=2025-06-17T17:47:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=100
time=2025-06-17T17:47:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=100 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:11.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=100
time=2025-06-17T17:47:11.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=100
time=2025-06-17T17:47:11.462+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=100 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:11.462+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=104
time=2025-06-17T17:47:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=104
time=2025-06-17T17:47:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=104 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=104
time=2025-06-17T17:47:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=104
time=2025-06-17T17:47:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=104 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=104
time=2025-06-17T17:47:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=104
time=2025-06-17T17:47:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=104 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:31.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=108
time=2025-06-17T17:47:31.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=108
time=2025-06-17T17:47:31.405+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=108 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:31.405+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:31.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=108
time=2025-06-17T17:47:31.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=108
time=2025-06-17T17:47:31.450+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=108 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:31.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:31.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=108
time=2025-06-17T17:47:31.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=108
time=2025-06-17T17:47:31.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=108 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:31.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=112
time=2025-06-17T17:47:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=112
time=2025-06-17T17:47:41.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=112 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=112
time=2025-06-17T17:47:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=112
time=2025-06-17T17:47:41.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=112 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:41.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=112
time=2025-06-17T17:47:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=112
time=2025-06-17T17:47:41.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=112 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:51.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=116
time=2025-06-17T17:47:51.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=116
time=2025-06-17T17:47:51.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=116 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:51.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=116
time=2025-06-17T17:47:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=116
time=2025-06-17T17:47:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=116 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:47:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=116
time=2025-06-17T17:47:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=116
time=2025-06-17T17:47:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=116 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:47:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=120
time=2025-06-17T17:48:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=120
time=2025-06-17T17:48:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=120 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=120
time=2025-06-17T17:48:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=120
time=2025-06-17T17:48:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=120 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=120
time=2025-06-17T17:48:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=120
time=2025-06-17T17:48:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=120 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=124
time=2025-06-17T17:48:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=124
time=2025-06-17T17:48:11.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=124 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=124
time=2025-06-17T17:48:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=124
time=2025-06-17T17:48:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=124
time=2025-06-17T17:48:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=124 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=124
time=2025-06-17T17:48:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=124 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=128
time=2025-06-17T17:48:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=128
time=2025-06-17T17:48:21.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=128 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:21.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=128
time=2025-06-17T17:48:21.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=128
time=2025-06-17T17:48:21.457+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=128 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:21.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=128
time=2025-06-17T17:48:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=128
time=2025-06-17T17:48:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=128 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=132
time=2025-06-17T17:48:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=132
time=2025-06-17T17:48:31.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=132 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:31.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=132
time=2025-06-17T17:48:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=132
time=2025-06-17T17:48:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=132
time=2025-06-17T17:48:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=132
time=2025-06-17T17:48:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=132 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=132 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=136
time=2025-06-17T17:48:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=136
time=2025-06-17T17:48:41.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=136 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:41.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=136
time=2025-06-17T17:48:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=136
time=2025-06-17T17:48:41.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=136 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=136
time=2025-06-17T17:48:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=136
time=2025-06-17T17:48:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=136 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=140
time=2025-06-17T17:48:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=140
time=2025-06-17T17:48:51.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=140 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=140
time=2025-06-17T17:48:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=140
time=2025-06-17T17:48:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=140 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:48:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=140
time=2025-06-17T17:48:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=140
time=2025-06-17T17:48:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=140 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:48:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=144
time=2025-06-17T17:49:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=144
time=2025-06-17T17:49:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=144 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=144
time=2025-06-17T17:49:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=144
time=2025-06-17T17:49:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=144 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=144
time=2025-06-17T17:49:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=144
time=2025-06-17T17:49:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=144 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:11.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=148
time=2025-06-17T17:49:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=148
time=2025-06-17T17:49:11.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=148 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:11.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=148
time=2025-06-17T17:49:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=148
time=2025-06-17T17:49:11.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=148 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:11.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:11.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=148
time=2025-06-17T17:49:11.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=148
time=2025-06-17T17:49:11.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=148 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:11.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=152
time=2025-06-17T17:49:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=152
time=2025-06-17T17:49:21.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=152 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=152
time=2025-06-17T17:49:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=152
time=2025-06-17T17:49:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=152 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=152
time=2025-06-17T17:49:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=152
time=2025-06-17T17:49:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=152 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:31.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=156
time=2025-06-17T17:49:31.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=156
time=2025-06-17T17:49:31.407+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=156 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:31.407+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:31.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=156
time=2025-06-17T17:49:31.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=156
time=2025-06-17T17:49:31.452+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=156 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:31.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:31.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=156
time=2025-06-17T17:49:31.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=156
time=2025-06-17T17:49:31.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=156 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:31.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=160
time=2025-06-17T17:49:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=160
time=2025-06-17T17:49:41.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=160 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:41.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:41.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=160
time=2025-06-17T17:49:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=160
time=2025-06-17T17:49:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=160 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=160
time=2025-06-17T17:49:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=160
time=2025-06-17T17:49:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=160 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=164
time=2025-06-17T17:49:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=164
time=2025-06-17T17:49:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=164 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=164
time=2025-06-17T17:49:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=164
time=2025-06-17T17:49:51.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=164 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:51.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:49:51.462+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=164
time=2025-06-17T17:49:51.462+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=164
time=2025-06-17T17:49:51.462+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=164 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:49:51.462+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:01.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=168
time=2025-06-17T17:50:01.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=168
time=2025-06-17T17:50:01.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=168 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:01.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=168
time=2025-06-17T17:50:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=168
time=2025-06-17T17:50:01.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=168 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=168
time=2025-06-17T17:50:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=168
time=2025-06-17T17:50:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=168 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=172
time=2025-06-17T17:50:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=172
time=2025-06-17T17:50:11.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=172 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=172
time=2025-06-17T17:50:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=172
time=2025-06-17T17:50:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=172 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=172
time=2025-06-17T17:50:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=172
time=2025-06-17T17:50:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=172 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=176
time=2025-06-17T17:50:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=176
time=2025-06-17T17:50:21.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=176 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:21.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=176
time=2025-06-17T17:50:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=176
time=2025-06-17T17:50:21.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=176 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:21.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=176
time=2025-06-17T17:50:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=176
time=2025-06-17T17:50:21.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=176 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:21.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=180
time=2025-06-17T17:50:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=180
time=2025-06-17T17:50:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=180 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=180
time=2025-06-17T17:50:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=180
time=2025-06-17T17:50:31.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=180 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:31.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=180
time=2025-06-17T17:50:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=180
time=2025-06-17T17:50:31.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=180 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:31.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=184
time=2025-06-17T17:50:41.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=184
time=2025-06-17T17:50:41.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=184 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=184
time=2025-06-17T17:50:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=184
time=2025-06-17T17:50:41.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=184 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=184
time=2025-06-17T17:50:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=184
time=2025-06-17T17:50:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=184 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=188
time=2025-06-17T17:50:51.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=188
time=2025-06-17T17:50:51.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=188 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:51.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=188
time=2025-06-17T17:50:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=188
time=2025-06-17T17:50:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=188 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:50:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=188
time=2025-06-17T17:50:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=188
time=2025-06-17T17:50:51.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=188 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:50:51.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:01.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=192
time=2025-06-17T17:51:01.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=192
time=2025-06-17T17:51:01.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=192 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:01.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=192
time=2025-06-17T17:51:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=192
time=2025-06-17T17:51:01.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=192 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:01.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=192
time=2025-06-17T17:51:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=192
time=2025-06-17T17:51:01.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=192 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=196
time=2025-06-17T17:51:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=196
time=2025-06-17T17:51:11.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=196 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:11.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=196
time=2025-06-17T17:51:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=196
time=2025-06-17T17:51:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=196
time=2025-06-17T17:51:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=196 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=196
time=2025-06-17T17:51:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:11.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=196 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:11.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=200
time=2025-06-17T17:51:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=200
time=2025-06-17T17:51:21.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=200 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:21.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=200
time=2025-06-17T17:51:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=200
time=2025-06-17T17:51:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=200
time=2025-06-17T17:51:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=200
time=2025-06-17T17:51:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=200 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=200 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=204
time=2025-06-17T17:51:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=204
time=2025-06-17T17:51:31.413+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=204 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:31.413+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:31.452+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=204
time=2025-06-17T17:51:31.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=204
time=2025-06-17T17:51:31.453+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=204 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:31.453+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:31.454+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=204
time=2025-06-17T17:51:31.454+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=204
time=2025-06-17T17:51:31.454+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=204 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:31.454+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=208
time=2025-06-17T17:51:41.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=208
time=2025-06-17T17:51:41.415+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=208 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:41.415+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=208
time=2025-06-17T17:51:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=208
time=2025-06-17T17:51:41.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=208 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:41.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:41.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=208
time=2025-06-17T17:51:41.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=208
time=2025-06-17T17:51:41.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=208 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:41.462+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=212
time=2025-06-17T17:51:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=212
time=2025-06-17T17:51:51.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=212 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:51.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=212
time=2025-06-17T17:51:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=212
time=2025-06-17T17:51:51.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=212 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:51.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:51:51.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=212
time=2025-06-17T17:51:51.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=212
time=2025-06-17T17:51:51.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=212 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:51:51.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=216
time=2025-06-17T17:52:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=216
time=2025-06-17T17:52:01.412+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=216 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:01.412+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:01.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=216
time=2025-06-17T17:52:01.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=216
time=2025-06-17T17:52:01.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=216 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:01.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=216
time=2025-06-17T17:52:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=216
time=2025-06-17T17:52:01.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=216 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:01.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=220
time=2025-06-17T17:52:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=220
time=2025-06-17T17:52:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=220 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:11.450+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=220
time=2025-06-17T17:52:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=220
time=2025-06-17T17:52:11.451+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=220 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:11.451+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=220
time=2025-06-17T17:52:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=220
time=2025-06-17T17:52:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=220 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=224
time=2025-06-17T17:52:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=224
time=2025-06-17T17:52:21.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=224 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:21.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=224
time=2025-06-17T17:52:21.456+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=224
time=2025-06-17T17:52:21.456+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=224 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:21.457+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=224
time=2025-06-17T17:52:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=224
time=2025-06-17T17:52:21.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=224 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:21.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=228
time=2025-06-17T17:52:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=228
time=2025-06-17T17:52:31.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=228 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:31.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=228
time=2025-06-17T17:52:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=228
time=2025-06-17T17:52:31.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=228 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:31.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=228
time=2025-06-17T17:52:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=228
time=2025-06-17T17:52:31.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=228 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:31.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=232
time=2025-06-17T17:52:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=232
time=2025-06-17T17:52:41.414+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=232 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:41.414+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=232
time=2025-06-17T17:52:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=232
time=2025-06-17T17:52:41.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=232 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:41.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=232
time=2025-06-17T17:52:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=232
time=2025-06-17T17:52:41.460+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=232 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:41.460+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=236
time=2025-06-17T17:52:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=236
time=2025-06-17T17:52:51.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=236 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:51.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=236
time=2025-06-17T17:52:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=236
time=2025-06-17T17:52:51.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=236 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:51.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:52:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=236
time=2025-06-17T17:52:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=236
time=2025-06-17T17:52:51.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=236 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:52:51.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:53:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=240
time=2025-06-17T17:53:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=240
time=2025-06-17T17:53:01.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=240 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:53:01.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:53:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=240
time=2025-06-17T17:53:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=240
time=2025-06-17T17:53:01.455+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=240 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:53:01.455+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:53:01.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=240
time=2025-06-17T17:53:01.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=240
time=2025-06-17T17:53:01.461+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=240 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:53:01.461+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:53:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=244
time=2025-06-17T17:53:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=244
time=2025-06-17T17:53:11.411+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:41394 stream_id=244 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:53:11.411+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent003 status=AGENT_STATUS_IDLE
time=2025-06-17T17:53:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=244
time=2025-06-17T17:53:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=244
time=2025-06-17T17:53:11.458+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:58557 stream_id=244 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:53:11.458+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent002 status=AGENT_STATUS_IDLE
time=2025-06-17T17:53:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:242 msg="Orchestrator accepted new stream" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=244
time=2025-06-17T17:53:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/framing/framing.go:193 msg="Input reader is not an io.ByteReader, wrapping with bufio.Reader" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=244
time=2025-06-17T17:53:11.459+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:283 msg="Received StreamPurposeRequest" subsystem=quic_server remote_addr=127.0.0.1:34416 stream_id=244 purpose=AGENT_HEARTBEAT plan_id_context=""
time=2025-06-17T17:53:11.459+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:95 msg="Handling heartbeat" subsystem=scheduler agent_id=agent001 status=AGENT_STATUS_IDLE
time=2025-06-17T17:53:20.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:77 msg="Received signal, shutting down orchestrator..." signal=interrupt
time=2025-06-17T17:53:20.509+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:34416 error="context canceled"
time=2025-06-17T17:53:20.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/scheduler/scheduler.go:336 msg="Agent cleanup loop stopping due to context cancellation." subsystem=scheduler
time=2025-06-17T17:53:20.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:174 msg="Orchestrator listener accept loop ending" subsystem=quic_server reason="context canceled"
time=2025-06-17T17:53:20.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:156 msg="Orchestrator server Start() returned, waiting for context cancellation to exit main..."
time=2025-06-17T17:53:20.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:160 msg="Orchestrator main process shutting down..."
time=2025-06-17T17:53:20.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:164 msg="Orchestrator shutdown complete."
time=2025-06-17T17:53:20.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/cmd/orchestrator/main.go:92 msg="Closing StateManager..."
time=2025-06-17T17:53:20.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/state/state_manager.go:70 msg="Closing BoltDB database." subsystem=statemanager
time=2025-06-17T17:53:20.509+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:41394 error="context canceled"
time=2025-06-17T17:53:20.509+02:00 level=DEBUG source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:234 msg="Connection closed or context cancelled (orchestrator handleConnection)" subsystem=quic_server remote_addr=127.0.0.1:58557 error="context canceled"
time=2025-06-17T17:53:20.509+02:00 level=INFO source=/home/bradley/work/qwrap-ws/internal/orchestrator/server/server.go:157 msg="OrchestratorServer context cancelled, stopping listener..." subsystem=quic_server


# ===== FILE: internal/datagen/config.go =====
package datagen

import (
	"encoding/json"
	"os"
)

// Config holds all the configuration for the data generation tool.
type Config struct {
	// InputPath is the path to a single file or a directory to be split among agents.
	// If empty, new data will be generated.
	InputPath string `json:"input_path"`

	// OutputDir is the base directory where agent data and metadata will be created.
	// It will contain subdirectories like 'agent001', 'agent002', etc.
	OutputDir string `json:"output_dir"`

	// NumAgents is the number of agents to distribute the data among.
	NumAgents int `json:"num_agents"`

	// GenerationMode settings are used when InputPath is empty.
	GenerationMode GenerationConfig `json:"generation_mode"`

	// DistributionStrategy defines how to split the data.
	// Can be "round-robin-chunks" or "contiguous-blocks".
	DistributionStrategy string `json:"distribution_strategy"`

	// ChunkSize is the size of each chunk in bytes.
	ChunkSize int64 `json:"chunk_size"`
}

// GenerationConfig specifies how to generate new data.
type GenerationConfig struct {
	// TotalSize is the total size of the data to generate in bytes.
	TotalSize int64 `json:"total_size"`

	// Readable defines if the generated data should be human-readable text.
	// If false, it will be random binary data.
	Readable bool `json:"readable"`

	// Pattern is used when Readable is true. It's a repeating string pattern.
	// Example: "The quick brown fox jumps over the lazy dog. "
	Pattern string `json:"pattern"`
}

// LoadConfig reads a configuration file from the given path.
func LoadConfig(path string) (*Config, error) {
	file, err := os.Open(path)
	if err != nil {
		return nil, err
	}
	defer file.Close()

	var config Config
	decoder := json.NewDecoder(file)
	if err := decoder.Decode(&config); err != nil {
		return nil, err
	}
	return &config, nil
}

// DefaultConfig returns a default configuration.
func DefaultConfig() *Config {
	return &Config{
		InputPath:    "",
		OutputDir:    "agent_data",
		NumAgents:    2,
		ChunkSize:    1 * 1024 * 1024, // 1 MiB
		DistributionStrategy: "contiguous-blocks",
		GenerationMode: GenerationConfig{
			TotalSize: 10 * 1024 * 1024, // 10 MiB
			Readable:  true,
			Pattern:   "This is a sample text pattern for generated data. ",
		},
	}
}


# ===== FILE: internal/datagen/generator_test.go =====
package datagen

import (
	"fmt"
	"log/slog"
	"os"
	"path/filepath"
	"testing"

	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
)

func TestGenerator_Run_GenerateNew(t *testing.T) {
	tempDir, err := os.MkdirTemp("", "datagen-test-*")
	require.NoError(t, err)
	defer os.RemoveAll(tempDir)

	cfg := DefaultConfig()
	cfg.OutputDir = tempDir
	cfg.NumAgents = 2
	cfg.GenerationMode.TotalSize = 2 * 1024 * 1024 // 2MB
	cfg.ChunkSize = 1 * 1024 * 1024      // 1MB

	logger := slog.New(slog.NewTextHandler(os.Stdout, nil))
	gen, err := NewGenerator(cfg, logger)
	require.NoError(t, err)

	err = gen.Run()
	require.NoError(t, err)

	// Verify agent directories
	agent1Dir := filepath.Join(tempDir, "agent001")
	agent2Dir := filepath.Join(tempDir, "agent002")
	assert.DirExists(t, agent1Dir)
	assert.DirExists(t, agent2Dir)

	// Verify agent 1 files
	agent1Files, err := os.ReadDir(agent1Dir)
	require.NoError(t, err)
	assert.Len(t, agent1Files, 2) // inventory.json + 1 data part
	assert.FileExists(t, filepath.Join(agent1Dir, "inventory.json"))
	assert.FileExists(t, filepath.Join(agent1Dir, "part_0"))

	// Verify agent 2 files
	agent2Files, err := os.ReadDir(agent2Dir)
	require.NoError(t, err)
	assert.Len(t, agent2Files, 2) // inventory.json + 1 data part
	assert.FileExists(t, filepath.Join(agent2Dir, "inventory.json"))
	assert.FileExists(t, filepath.Join(agent2Dir, "part_1"))
}

func TestGenerator_Run_ExistingFile(t *testing.T) {
	// 1. Setup temp directory and input file
	tempDir, err := os.MkdirTemp("", "datagen-test-file-*")
	require.NoError(t, err)
	defer os.RemoveAll(tempDir)

	inputFile, err := os.CreateTemp(tempDir, "input-*.dat")
	require.NoError(t, err)

	// Write 2.5MB of data
	fileSize := int64(2.5 * 1024 * 1024)
	err = inputFile.Truncate(fileSize)
	require.NoError(t, err)
	inputFileName := inputFile.Name()
	inputFile.Close() // Close the file so the generator can open it

	// 2. Configure Generator
	outputDir := filepath.Join(tempDir, "output")
	cfg := DefaultConfig()
	cfg.InputPath = inputFileName
	cfg.OutputDir = outputDir
	cfg.NumAgents = 2
	cfg.ChunkSize = 1 * 1024 * 1024 // 1MB

	logger := slog.New(slog.NewTextHandler(os.Stdout, nil))
	gen, err := NewGenerator(cfg, logger)
	require.NoError(t, err)

	// 3. Run Generator
	err = gen.Run()
	require.NoError(t, err)

	// 4. Verify output
	agent1Dir := filepath.Join(outputDir, "agent001")
	agent2Dir := filepath.Join(outputDir, "agent002")
	assert.DirExists(t, agent1Dir)
	assert.DirExists(t, agent2Dir)

	inputBaseName := filepath.Base(inputFileName)

	// Agent 1 should have part 0 and part 2
	assert.FileExists(t, filepath.Join(agent1Dir, "inventory.json"))
	part0Path := filepath.Join(agent1Dir, fmt.Sprintf("%s.part0", inputBaseName))
	part2Path := filepath.Join(agent1Dir, fmt.Sprintf("%s.part2", inputBaseName))
	assert.FileExists(t, part0Path)
	assert.FileExists(t, part2Path)

	part0Info, err := os.Stat(part0Path)
	require.NoError(t, err)
	assert.Equal(t, cfg.ChunkSize, part0Info.Size())

	part2Info, err := os.Stat(part2Path)
	require.NoError(t, err)
	assert.Equal(t, int64(0.5*1024*1024), part2Info.Size())

	// Agent 2 should have part 1
	assert.FileExists(t, filepath.Join(agent2Dir, "inventory.json"))
	part1Path := filepath.Join(agent2Dir, fmt.Sprintf("%s.part1", inputBaseName))
	assert.FileExists(t, part1Path)

	part1Info, err := os.Stat(part1Path)
	require.NoError(t, err)
	assert.Equal(t, cfg.ChunkSize, part1Info.Size())
}

func TestGenerator_Run_Directory(t *testing.T) {
	// 1. Setup temp directory and input directory structure
	tempDir, err := os.MkdirTemp("", "datagen-test-dir-*")
	require.NoError(t, err)
	defer os.RemoveAll(tempDir)

	inputDir := filepath.Join(tempDir, "input")
	subDir := filepath.Join(inputDir, "subdir")
	err = os.MkdirAll(subDir, 0755)
	require.NoError(t, err)

	// Create test files
	err = os.WriteFile(filepath.Join(inputDir, "file1.txt"), []byte("file one content"), 0644)
	require.NoError(t, err)
	err = os.WriteFile(filepath.Join(subDir, "file2.txt"), []byte("file two content"), 0644)
	require.NoError(t, err)

	// 2. Configure Generator
	outputDir := filepath.Join(tempDir, "output")
	cfg := DefaultConfig()
	cfg.InputPath = inputDir
	cfg.OutputDir = outputDir
	cfg.NumAgents = 2
	cfg.ChunkSize = 1024 // 1KB chunk size, larger than files

	logger := slog.New(slog.NewTextHandler(os.Stdout, nil))
	gen, err := NewGenerator(cfg, logger)
	require.NoError(t, err)

	// 3. Run Generator
	err = gen.Run()
	require.NoError(t, err)

	// 4. Verify output
	agent1Dir := filepath.Join(outputDir, "agent001")
	agent2Dir := filepath.Join(outputDir, "agent002")
	assert.DirExists(t, agent1Dir)
	assert.DirExists(t, agent2Dir)

	// Agent 1 should have file1.txt
	assert.FileExists(t, filepath.Join(agent1Dir, "inventory.json"))
	assert.FileExists(t, filepath.Join(agent1Dir, "file1.txt.part0"))

	// Agent 2 should have subdir/file2.txt
	assert.FileExists(t, filepath.Join(agent2Dir, "inventory.json"))
	assert.DirExists(t, filepath.Join(agent2Dir, "subdir"))
	assert.FileExists(t, filepath.Join(agent2Dir, "subdir", "file2.txt.part0"))
}


# ===== FILE: internal/datagen/generator.go =====
package datagen

import (
	"crypto/rand"
	"encoding/json"
	"fmt"
	"io"
	"io/fs"
	"log/slog"
	"os"
	"path/filepath"

	"qwrap/pkg/qwrappb"
)

// Generator orchestrates the data generation process.
type Generator struct {
	config     *Config
	logger     *slog.Logger
	sourceRoot string // The root directory of the input files
}

// NewGenerator creates a new data generator instance.
func NewGenerator(config *Config, logger *slog.Logger) (*Generator, error) {
	if config.NumAgents <= 0 {
		return nil, fmt.Errorf("number of agents must be positive")
	}
	if config.ChunkSize <= 0 {
		return nil, fmt.Errorf("chunk size must be positive")
	}
	return &Generator{config: config, logger: logger}, nil
}

// Run executes the data generation and distribution.
func (g *Generator) Run() error {
	g.logger.Info("Starting data generation process", "output_dir", g.config.OutputDir)

	// 1. Clean and prepare output directory
	if err := os.RemoveAll(g.config.OutputDir); err != nil {
		return fmt.Errorf("failed to clean output directory: %w", err)
	}
	if err := os.MkdirAll(g.config.OutputDir, 0755); err != nil {
		return fmt.Errorf("failed to create output directory: %w", err)
	}

	var allPortions []*qwrappb.FilePortionInfo
	var err error

	// 2. Decide whether to generate data or use existing files
	if g.config.InputPath != "" {
		g.logger.Info("Processing existing input", "path", g.config.InputPath)
		info, statErr := os.Stat(g.config.InputPath)
		if statErr != nil {
			return fmt.Errorf("could not stat input path %s: %w", g.config.InputPath, statErr)
		}
		if info.IsDir() {
			g.sourceRoot = g.config.InputPath
		} else {
			g.sourceRoot = filepath.Dir(g.config.InputPath)
		}
		allPortions, err = g.processInputPath(g.config.InputPath)
	} else {
		g.logger.Info("Generating new data", "size", g.config.GenerationMode.TotalSize)
		allPortions, err = g.generateAndDistribute()
	}

	if err != nil {
		return err
	}

	// 3. Distribute portions among agents
	agentPortions := g.distributePortions(allPortions)

	// 4. Write the agent data and inventory files
	return g.writeAgentData(agentPortions)
}

// processInputPath checks if the path is a file or directory and processes it.
func (g *Generator) processInputPath(path string) ([]*qwrappb.FilePortionInfo, error) {
	info, err := os.Stat(path)
	if err != nil {
		return nil, fmt.Errorf("could not stat input path %s: %w", path, err)
	}

	if info.IsDir() {
		return g.processDirectory(path)
	} else {
		return g.processFile(path)
	}
}

// processDirectory walks a directory, processes each file, and returns a combined list of portions.
func (g *Generator) processDirectory(dirPath string) ([]*qwrappb.FilePortionInfo, error) {
	var allPortions []*qwrappb.FilePortionInfo
	err := filepath.WalkDir(dirPath, func(path string, d fs.DirEntry, err error) error {
		if err != nil {
			return err
		}
		if !d.IsDir() {
			g.logger.Info("Processing file in directory", "path", path)
			filePortions, procErr := g.processFile(path)
			if procErr != nil {
				return fmt.Errorf("failed to process file %s: %w", path, procErr)
			}
			allPortions = append(allPortions, filePortions...)
		}
		return nil
	})
	if err != nil {
		return nil, fmt.Errorf("error walking directory %s: %w", dirPath, err)
	}
	return allPortions, nil
}

// processFile reads a single file and creates a list of its portions.
func (g *Generator) processFile(filePath string) ([]*qwrappb.FilePortionInfo, error) {
	file, err := os.Open(filePath)
	if err != nil {
		return nil, fmt.Errorf("failed to open input file %s: %w", filePath, err)
	}
	defer file.Close()

	info, err := file.Stat()
	if err != nil {
		return nil, fmt.Errorf("failed to stat input file %s: %w", filePath, err)
	}

	relPath, err := filepath.Rel(g.sourceRoot, filePath)
	if err != nil {
		return nil, fmt.Errorf("could not find relative path for %s from root %s: %w", filePath, g.sourceRoot, err)
	}

	totalSize := info.Size()
	if totalSize == 0 {
		g.logger.Info("Skipping empty file", "path", filePath)
		return nil, nil // No portions for empty files
	}

	numChunks := totalSize / g.config.ChunkSize
	if totalSize%g.config.ChunkSize != 0 {
		numChunks++
	}

	filePortions := make([]*qwrappb.FilePortionInfo, 0, numChunks)
	for i := int64(0); i < numChunks; i++ {
		offset := i * g.config.ChunkSize
		portion := &qwrappb.FilePortionInfo{
			GlobalFileId:    relPath,
			Offset:          offset,
			NumChunks:       1,
			ChunkSize:       g.config.ChunkSize,
			ChunkIndexStart: uint64(i),
			ChunkIndexEnd:   uint64(i),
			PathOnDisk:      fmt.Sprintf("%s.part%d", relPath, i),
		}
		filePortions = append(filePortions, portion)
	}

	return filePortions, nil
}

// generateAndDistribute creates new data and returns a list of its portions.
func (g *Generator) generateAndDistribute() ([]*qwrappb.FilePortionInfo, error) {
	fileName := "generated_file.dat"
	totalSize := g.config.GenerationMode.TotalSize
	numChunks := totalSize / g.config.ChunkSize
	if totalSize%g.config.ChunkSize != 0 {
		numChunks++
	}

	allPortions := make([]*qwrappb.FilePortionInfo, 0, numChunks)
	for i := int64(0); i < numChunks; i++ {
		offset := i * g.config.ChunkSize
		portion := &qwrappb.FilePortionInfo{
			GlobalFileId:    fileName,
			Offset:          offset,
			NumChunks:       1,
			ChunkSize:       g.config.ChunkSize,
			ChunkIndexStart: uint64(i),
			ChunkIndexEnd:   uint64(i),
			PathOnDisk:      fmt.Sprintf("part_%d", i),
		}
		allPortions = append(allPortions, portion)
	}

	return allPortions, nil
}

// distributePortions assigns a list of portions to agents.
func (g *Generator) distributePortions(portions []*qwrappb.FilePortionInfo) map[string][]*qwrappb.FilePortionInfo {
	distribution := make(map[string][]*qwrappb.FilePortionInfo)
	for i, p := range portions {
		agentIndex := i % g.config.NumAgents
		agentID := fmt.Sprintf("agent%03d", agentIndex+1)
		distribution[agentID] = append(distribution[agentID], p)
	}
	return distribution
}

// InventoryData wraps the portions and includes the total file size.
type InventoryData struct {
	Portions  []*qwrappb.FilePortionInfo `json:"portions"`
	TotalSize int64                     `json:"file_size"`
}

// writeAgentData creates the directory structure, data files, and inventory for each agent.
func (g *Generator) writeAgentData(agentPortions map[string][]*qwrappb.FilePortionInfo) error {
	// Cache for open source file handles
	sourceFileCache := make(map[string]*os.File)
	defer func() {
		for _, f := range sourceFileCache {
			f.Close()
		}
	}()

	for agentID, portions := range agentPortions {
		agentDir := filepath.Join(g.config.OutputDir, agentID)
		if err := os.MkdirAll(agentDir, 0755); err != nil {
			return fmt.Errorf("failed to create directory for agent %s: %w", agentID, err)
		}

		// Group portions by file ID for inventory
		inventory := make(map[string]InventoryData)
		for _, p := range portions {
			data := inventory[p.GlobalFileId]
			data.Portions = append(data.Portions, p)
			inventory[p.GlobalFileId] = data
		}

		// Get total file size for each file in the inventory
		for fileID, data := range inventory {
			var totalSize int64
			if g.sourceRoot != "" {
				sourcePath := filepath.Join(g.sourceRoot, fileID)
				info, err := os.Stat(sourcePath)
				if err != nil {
					return fmt.Errorf("failed to stat source file for size %s: %w", sourcePath, err)
				}
				totalSize = info.Size()
			} else {
				totalSize = g.config.GenerationMode.TotalSize
			}
			data.TotalSize = totalSize
			inventory[fileID] = data
		}

		for _, portion := range portions {
			// Create subdirectory for the file if it doesn't exist
			portionDir := filepath.Dir(portion.PathOnDisk)
			if portionDir != "." {
				if err := os.MkdirAll(filepath.Join(agentDir, portionDir), 0755); err != nil {
					return fmt.Errorf("failed to create sub-directory for portion: %w", err)
				}
			}

			filePath := filepath.Join(agentDir, portion.PathOnDisk)
			destFile, err := os.Create(filePath)
			if err != nil {
				return fmt.Errorf("failed to create data file %s: %w", filePath, err)
			}

			bytesToWrite := portion.ChunkSize
			var dataReader io.Reader

			if g.sourceRoot != "" { // We are processing existing files
				sourcePath := filepath.Join(g.sourceRoot, portion.GlobalFileId)
				sourceFile, ok := sourceFileCache[sourcePath]
				if !ok {
					sourceFile, err = os.Open(sourcePath)
					if err != nil {
						destFile.Close()
						return fmt.Errorf("failed to open source file %s: %w", sourcePath, err)
					}
					sourceFileCache[sourcePath] = sourceFile
				}

				info, _ := sourceFile.Stat()
				remaining := info.Size() - portion.Offset
				if remaining < bytesToWrite {
					bytesToWrite = remaining
				}
				_, err := sourceFile.Seek(portion.Offset, io.SeekStart)
				if err != nil {
					destFile.Close()
					return fmt.Errorf("failed to seek in source file: %w", err)
				}
				dataReader = sourceFile
			} else { // We are generating new data
				remaining := g.config.GenerationMode.TotalSize - portion.Offset
				if remaining < bytesToWrite {
					bytesToWrite = remaining
				}
				if g.config.GenerationMode.Readable {
					dataReader = newPatternReader(g.config.GenerationMode.Pattern)
				} else {
					dataReader = rand.Reader
				}
			}

			if _, err := io.CopyN(destFile, dataReader, bytesToWrite); err != nil {
				destFile.Close()
				return fmt.Errorf("failed to write data to %s: %w", filePath, err)
			}
			destFile.Close()
		}

		// Write inventory.json
		inventoryPath := filepath.Join(agentDir, "inventory.json")
		invFile, err := os.Create(inventoryPath)
		if err != nil {
			return fmt.Errorf("failed to create inventory.json for agent %s: %w", agentID, err)
		}

		encoder := json.NewEncoder(invFile)
		encoder.SetIndent("", "  ")
		if err := encoder.Encode(inventory); err != nil {
			invFile.Close()
			return fmt.Errorf("failed to write inventory.json for agent %s: %w", agentID, err)
		}
		invFile.Close()
		g.logger.Info("Successfully wrote data and inventory", "agent_id", agentID, "inventory_path", inventoryPath)
	}
	return nil
}

// patternReader is an infinite reader that repeats a given pattern.
type patternReader struct {
	pattern []byte
	pos     int
}

func newPatternReader(pattern string) *patternReader {
	return &patternReader{pattern: []byte(pattern)}
}

func (r *patternReader) Read(p []byte) (n int, err error) {
	if len(r.pattern) == 0 {
		return 0, io.EOF
	}
	for i := 0; i < len(p); i++ {
		p[i] = r.pattern[r.pos]
		r.pos = (r.pos + 1) % len(r.pattern)
	}
	return len(p), nil
}


# ===== FILE: internal/client/manager/connection_manager.go =====
package connectionmanager // Ou connection_manager selon vos conventions de nommage de package

import (
	"container/list"
	"context"
	"crypto/tls"
	"errors"
	"fmt"
	"log/slog"
	"sync"
	"time"

	"github.com/quic-go/quic-go"
)

const (
	defaultDialTimeout          = 5 * time.Second
	defaultHandshakeIdleTimeout = 10 * time.Second
	defaultMaxIdleTimeout       = 30 * time.Second
	defaultMaxRetries           = 3
	defaultRetryBaseDelay       = 500 * time.Millisecond
	defaultMaxConnections       = 64 // Taille par défaut du cache LRU
	alpnProtocol                = "qwrap"
	closeErrorCodeNoError       = 0 // Application level error code for graceful close
	closeReasonManagerShutdown  = "connection manager shutdown"
	closeReasonInvalidated      = "connection invalidated by client"
)

var (
	ErrMaxRetriesExceeded = errors.New("exceeded maximum dial retries")
	ErrManagerClosed      = errors.New("connection manager is closed")
)

// Config contient la configuration pour le ConnectionManager.
type Config struct {
	MaxConnections       int           // Nombre maximum de connexions à maintenir dans le cache LRU.
	DialTimeout          time.Duration // Timeout pour l'établissement initial de la connexion.
	HandshakeIdleTimeout time.Duration // Timeout pour le handshake TLS QUIC.
	MaxIdleTimeout       time.Duration // Timeout d'inactivité pour une connexion QUIC.
	MaxRetries           int           // Nombre maximum de tentatives de dial.
	RetryBaseDelay       time.Duration // Délai de base pour le backoff exponentiel des tentatives.
	TLSClientConfig      *tls.Config   // Configuration TLS personnalisée (optionnel).
	Logger               *slog.Logger
}

func (c *Config) setDefaults() {
	if c.MaxConnections <= 0 {
		c.MaxConnections = defaultMaxConnections
	}
	if c.DialTimeout <= 0 {
		c.DialTimeout = defaultDialTimeout
	}
	if c.HandshakeIdleTimeout <= 0 {
		c.HandshakeIdleTimeout = defaultHandshakeIdleTimeout
	}
	if c.MaxIdleTimeout <= 0 {
		c.MaxIdleTimeout = defaultMaxIdleTimeout
	}
	if c.MaxRetries < 0 { // 0 signifie une seule tentative (pas de retry)
		c.MaxRetries = defaultMaxRetries
	}
	if c.RetryBaseDelay <= 0 {
		c.RetryBaseDelay = defaultRetryBaseDelay
	}
	if c.Logger == nil {
		c.Logger = slog.Default()
	}
}

type managedConnection struct {
	conn     quic.Connection
	lruEntry *list.Element // Pointeur vers son entrée dans lruList pour suppression rapide
}

// connManagerImpl implémente l'interface ConnectionManager.
type connManagerImpl struct {
	mu          sync.RWMutex
	connections map[string]*managedConnection // Clé: addr
	lruList     *list.List                    // Liste pour la politique LRU (les plus récents en tête)
	config      Config
	closed      bool
}

// NewConnectionManager crée une nouvelle instance de ConnectionManager.
func NewConnectionManager(config Config) ConnectionManager {
	config.setDefaults()
	return &connManagerImpl{
		connections: make(map[string]*managedConnection),
		lruList:     list.New(),
		config:      config,
	}
}

// GetOrConnect récupère une connexion QUIC existante et active pour l'adresse donnée
// ou en établit une nouvelle.
func (cm *connManagerImpl) GetOrConnect(ctx context.Context, addr string) (quic.Connection, error) {
	cm.mu.RLock()
	if cm.closed {
		cm.mu.RUnlock()
		return nil, ErrManagerClosed
	}

	if mc, ok := cm.connections[addr]; ok {
		// La connexion existe, vérifions si elle est toujours active.
		// Ouvrir un flux test est une manière de vérifier.
		// quic.Connection.Context().Err() peut aussi indiquer si la connexion est fermée.
		if mc.conn.Context().Err() == nil {
			// Tentative d'ouvrir un flux bidirectionnel pour tester la connexion
			// Le contexte pour OpenStreamSync doit être court et distinct du contexte principal
			// pour ne pas bloquer indéfiniment si la connexion est "zombie".
			openCtx, openCancel := context.WithTimeout(ctx, cm.config.DialTimeout/2) // Un timeout plus court pour le test
			stream, err := mc.conn.OpenStreamSync(openCtx)
			openCancel()

			if err == nil {
				// Fermer immédiatement le flux test.
				// On ne veut pas que ce flux interfère.
				_ = stream.Close() // Ignorer l'erreur de fermeture du flux test

				// Déplacer l'élément au début de la liste LRU
				cm.mu.RUnlock() // Libérer le RLock avant de prendre le Lock complet
				cm.mu.Lock()
				if !cm.closed { // Revérifier cm.closed après avoir obtenu le Lock complet
					cm.lruList.MoveToFront(mc.lruEntry)
				}
				cm.mu.Unlock()
				cm.config.Logger.Debug("Reusing existing QUIC connection", "address", addr)
				return mc.conn, nil
			}
			cm.config.Logger.Warn("Existing connection seems dead, attempting to remove", "address", addr, "error", err)
			// La connexion est morte, nous allons la supprimer après avoir relâché RLock
		} else {
			cm.config.Logger.Warn("Existing connection context shows error, attempting to remove", "address", addr, "error", mc.conn.Context().Err())
		}
		// La connexion est dans la map mais morte, il faut la supprimer.
		// Nous le ferons en dehors du RLock pour éviter un deadlock si dialAndStore est appelé.
		cm.mu.RUnlock()
		cm.removeConnection(addr, nil) // mc.conn peut déjà être fermé ou dans un état indéfini
		// Continuer pour essayer de composer une nouvelle connexion
	} else {
		cm.mu.RUnlock()
	}

	// Aucune connexion existante ou la connexion existante était morte. Tentative de Dial.
	// Le dialAndStore prend son propre Lock complet.
	return cm.dialAndStore(ctx, addr)
}

func (cm *connManagerImpl) dialAndStore(ctx context.Context, addr string) (quic.Connection, error) {
	cm.mu.Lock() // Verrouillage complet car nous allons potentiellement modifier la map et la liste LRU
	defer cm.mu.Unlock()

	if cm.closed {
		return nil, ErrManagerClosed
	}

	// Double-vérification: une autre goroutine a-t-elle établi la connexion pendant que nous attendions le verrou ?
	if mc, ok := cm.connections[addr]; ok {
		if mc.conn.Context().Err() == nil {
			cm.lruList.MoveToFront(mc.lruEntry)
			cm.config.Logger.Debug("Connection established by another goroutine", "address", addr)
			return mc.conn, nil
		}
		// La connexion établie par une autre goroutine est déjà morte, la supprimer.
		cm.config.Logger.Warn("Stale connection found during double-check, removing", "address", addr)
		cm.evictElement(mc.lruEntry, mc.conn, "stale connection during dial")
	}

	// Configuration TLS
	tlsConf := cm.config.TLSClientConfig
	if tlsConf == nil {
		tlsConf = &tls.Config{
			InsecureSkipVerify: false, // NE PAS METTRE À TRUE EN PRODUCTION SANS RAISON VALABLE
			// RootCAs: // Charger les CAs de confiance si nécessaire
		}
	}
	// S'assurer que NextProtos est bien défini pour qwrap
	// On fait une copie pour ne pas modifier la config partagée si elle existe
	tlsConfCopy := tlsConf.Clone()
	tlsConfCopy.NextProtos = []string{alpnProtocol}

	// Configuration QUIC
	quicConf := &quic.Config{
		MaxIdleTimeout:       cm.config.MaxIdleTimeout,
		HandshakeIdleTimeout: cm.config.HandshakeIdleTimeout,
		// KeepAlivePeriod: // peut être utile pour maintenir les connexions actives à travers les NATs
	}

	var conn quic.Connection
	var lastErr error

	for i := 0; i <= cm.config.MaxRetries; i++ {
		dialCtx, dialCancel := context.WithTimeout(ctx, cm.config.DialTimeout)
		cm.config.Logger.Debug("Attempting to dial QUIC connection", "address", addr, "attempt", i+1)

		var err error
		conn, err = quic.DialAddr(dialCtx, addr, tlsConfCopy, quicConf)
		dialCancel() // Libérer les ressources du contexte de dial

		if err == nil {
			cm.config.Logger.Info("Successfully established QUIC connection", "address", addr)
			lastErr = nil
			break
		}
		lastErr = err
		cm.config.Logger.Warn("Failed to dial QUIC connection", "address", addr, "attempt", i+1, "error", err)

		if i < cm.config.MaxRetries {
			// Vérifier si le contexte principal est annulé avant d'attendre
			if ctx.Err() != nil {
				cm.config.Logger.Info("Context cancelled during dial retries", "address", addr, "error", ctx.Err())
				return nil, fmt.Errorf("dial context cancelled: %w", ctx.Err())
			}
			delay := cm.config.RetryBaseDelay * (1 << i) // Backoff exponentiel
			cm.config.Logger.Debug("Waiting before next dial attempt", "address", addr, "delay", delay)
			select {
			case <-time.After(delay):
			case <-ctx.Done():
				cm.config.Logger.Info("Context cancelled during retry delay", "address", addr, "error", ctx.Err())
				return nil, fmt.Errorf("dial context cancelled during retry: %w", ctx.Err())
			}
		}
	}

	if lastErr != nil {
		return nil, fmt.Errorf("%w to %s: %w", ErrMaxRetriesExceeded, addr, lastErr)
	}

	// Éviction LRU si nécessaire
	if cm.lruList.Len() >= cm.config.MaxConnections {
		lruElement := cm.lruList.Back()
		if lruElement != nil {
			addrToEvict := lruElement.Value.(string)
			cm.config.Logger.Info("Max connections reached, evicting LRU connection", "address", addrToEvict)
			if mcToEvict, ok := cm.connections[addrToEvict]; ok {
				cm.evictElement(mcToEvict.lruEntry, mcToEvict.conn, "LRU eviction")
			}
		}
	}

	// Stocker la nouvelle connexion
	element := cm.lruList.PushFront(addr)
	mc := &managedConnection{
		conn:     conn,
		lruEntry: element,
	}
	cm.connections[addr] = mc

	return conn, nil
}

// Invalidate ferme la connexion à l'adresse spécifiée et la supprime du pool.
func (cm *connManagerImpl) Invalidate(ctx context.Context, addr string) {
	cm.config.Logger.Info("Invalidating connection", "address", addr)
	cm.removeConnection(addr, &quic.ApplicationError{
		ErrorCode:    closeErrorCodeNoError,
		ErrorMessage: closeReasonInvalidated,
	})
}

// removeConnection est une aide interne pour retirer une connexion.
// Prend un Lock complet.
func (cm *connManagerImpl) removeConnection(addr string, appErr *quic.ApplicationError) {
	cm.mu.Lock()
	defer cm.mu.Unlock()

	if cm.closed {
		return
	}

	if mc, ok := cm.connections[addr]; ok {
		reason := "unknown reason for removal"
		if appErr != nil {
			reason = appErr.ErrorMessage
		}
		cm.evictElement(mc.lruEntry, mc.conn, reason)
	}
}

// evictElement gère la logique de suppression d'un élément de la map et de la liste LRU,
// et ferme la connexion. DOIT être appelée sous un Lock complet.
func (cm *connManagerImpl) evictElement(element *list.Element, conn quic.Connection, reason string) {
	if element == nil || conn == nil {
		return
	}
	addr := element.Value.(string) // L'élément de la liste stocke l'adresse

	cm.lruList.Remove(element)
	delete(cm.connections, addr)

	cm.config.Logger.Debug("Closing and evicting connection", "address", addr, "reason", reason)
	// Fermer la connexion QUIC. Il est important de gérer l'erreur, même si souvent on ne peut rien y faire.
	// Utiliser un appErr si fourni, sinon une fermeture générique.
	closeReasonMsg := fmt.Sprintf("evicted: %s", reason)

	// Utiliser un contexte avec timeout pour la fermeture pour éviter un blocage infini
	_, closeCancel := context.WithTimeout(context.Background(), cm.config.DialTimeout/2)
	defer closeCancel()

	err := conn.CloseWithError(
		quic.ApplicationErrorCode(closeErrorCodeNoError),
		closeReasonMsg)
	if err != nil {
		// Une erreur lors de la fermeture peut se produire si la connexion est déjà dans un mauvais état.
		// On logue l'erreur mais on continue l'éviction.
		cm.config.Logger.Warn("Error closing evicted QUIC connection", "address", addr, "error", err, "reason", closeReasonMsg)
	}
}

// CloseAll ferme toutes les connexions actives gérées par le manager.
func (cm *connManagerImpl) CloseAll() error {
	cm.mu.Lock()
	defer cm.mu.Unlock()

	if cm.closed {
		return ErrManagerClosed
	}
	cm.closed = true

	cm.config.Logger.Info("Closing all managed QUIC connections")
	var SlogAttr []slog.Attr
	for addr, mc := range cm.connections {
		// Utiliser un contexte avec timeout pour chaque fermeture
		_, closeCancel := context.WithTimeout(context.Background(), cm.config.DialTimeout/2)

		err := mc.conn.CloseWithError(
			quic.ApplicationErrorCode(closeErrorCodeNoError),
			closeReasonManagerShutdown)
		if err != nil {
			cm.config.Logger.Warn("Error closing QUIC connection during CloseAll", "address", addr, "error", err)
			SlogAttr = append(SlogAttr, slog.String("failed_close_"+addr, err.Error()))
		}
		closeCancel()
	}

	cm.connections = make(map[string]*managedConnection)
	cm.lruList.Init() // Réinitialise la liste

	if len(SlogAttr) > 0 {
		return fmt.Errorf("errors occurred while closing some connections: %v", SlogAttr)
	}
	return nil
}

// (Optionnel) Méthodes pour obtenir des métriques (à implémenter si besoin)
// func (cm *connManagerImpl) GetMetrics() map[string]ConnectionMetrics { ... }
// type ConnectionMetrics struct {
//    Latency time.Duration
//    OpenStreams int
//    // ...
// }


# ===== FILE: internal/client/manager/interface.go =====
package connectionmanager

import (
	"context"

	"github.com/quic-go/quic-go"
)

// ConnectionManager gère un pool de connexions QUIC réutilisables vers les agents.
type ConnectionManager interface {
	// GetOrConnect récupère une connexion QUIC existante et active pour l'adresse donnée
	// ou en établit une nouvelle. Elle gère les tentatives de reconnexion et les timeouts.
	// Le contexte fourni contrôle la durée de l'ensemble de l'opération GetOrConnect,
	// y compris les tentatives de dial.
	GetOrConnect(ctx context.Context, addr string) (quic.Connection, error)

	// Invalidate ferme la connexion à l'adresse spécifiée et la supprime du pool.
	// Utile si le client détecte qu'une connexion est devenue irrécupérable.
	Invalidate(ctx context.Context, addr string)

	// CloseAll ferme toutes les connexions actives gérées par le manager.
	// Doit être appelée lors de l'arrêt du client pour libérer les ressources.
	CloseAll() error
}


# ===== FILE: internal/client/downloader/interface.go =====
package downloader

import (
	"context"
	"qwrap/pkg/qwrappb" // Votre package protobuf généré

	"github.com/quic-go/quic-go"
	// connectionmanager "qwrap/internal/client/connection_manager" // Si l'interface est ici
)

// ProgressInfo contient des informations sur l'état d'avancement du téléchargement.
type ProgressInfo struct {
	TotalSizeBytes      int64
	DownloadedSizeBytes int64
	TotalChunks         int
	CompletedChunks     int
	FailedChunks        int
	ActiveDownloads     int
	// (Futur) EstimatedTimeRemaining time.Duration
	// (Futur) CurrentSpeedBps float64
}

// ChunkDownloadResult contient le résultat du téléchargement d'un chunk spécifique.
type ChunkDownloadResult struct {
	ChunkInfo *qwrappb.ChunkInfo // Utiliser un pointeur pour éviter la copie du mutex interne
	Data      []byte // Données du chunk si réussi
	Err       error  // Erreur si le téléchargement a échoué
	AgentID   string // Agent qui a fourni le chunk (ou tenté de le faire)
	Attempt   int    // Numéro de la tentative
}

// Downloader gère le processus de téléchargement distribué d'un fichier.
type Downloader interface {
	// Download démarre le processus de téléchargement pour le TransferPlan donné.
	// Il écrit le fichier reconstitué dans destPath.
	// Le contexte peut être utilisé pour annuler le téléchargement.
	// Renvoie un channel pour suivre la progression et un channel d'erreurs finales.
	Download(ctx context.Context, initialPlanReq *qwrappb.TransferRequest, destPath string) (progressChan <-chan ProgressInfo, finalErrorChan <-chan error)

	// (Optionnel pour une première version, mais utile pour pause/reprise)
	// Pause(ctx context.Context) error
	// Resume(ctx context.Context) error
}

// Interface pour le ConnectionManager, pour faciliter le mocking.
// Si vous définissez l'interface ConnectionManager dans son propre package, importez-la.
// Sinon, définissez-la ici ou dans un fichier partagé `interfaces.go`.
type ConnectionManager interface {
	GetOrConnect(ctx context.Context, addr string) (quic.Connection, error)
	Invalidate(ctx context.Context, addr string)
	// CloseAll n'est pas directement utilisé par le downloader mais par le client principal
}

// Interface pour communiquer avec l'Orchestrateur (pour rapporter les échecs et demander des réassignations)
// (Simplifié pour l'instant, pourrait devenir plus complexe)
type OrchestratorReporter interface {
	ReportChunkFailure(ctx context.Context, planID string, chunkInfo *qwrappb.ChunkInfo, agentID string, reason string) error
	// (Futur) RequestChunkReassignment(ctx context.Context, planID string, chunkInfo *qwrappb.ChunkInfo) (*qwrappb.ChunkAssignment, error)
}


# ===== FILE: internal/client/downloader/writer.go =====
package downloader

import (
	"context"
	"log/slog"
	"os"
	"sync"
)

// fileWriter is a dedicated, self-contained goroutine for writing chunks to disk.
// It receives completed chunks via a channel and manages its own internal buffer
// to write them to the destination file in the correct order. This design completely
// decouples disk I/O from the main downloader loop, preventing deadlocks.
func (d *downloaderImpl) fileWriter(
	ctx context.Context,
	wg *sync.WaitGroup,
	destFile *os.File,
	writeChan <-chan chunkToWrite,
	fileID string,
) {
	defer wg.Done()
	l := d.config.Logger.With("component", "fileWriter", "file_id", fileID)
	l.Info("File writer goroutine started.")

	// Internal buffer for out-of-order chunks.
	// Key: chunkID, Value: chunk data
	pendingChunks := make(map[uint64]chunkToWrite)
	var nextChunkToWriteID uint64 = 0

	for {
		select {
		case chunk, ok := <-writeChan:
			if !ok {
				// Channel is closed. This is the signal that the download is complete.
				// We attempt to write any remaining chunks from our buffer.
				l.Info("Write channel closed. Writing any remaining buffered chunks.")
				d.flushBuffer(destFile, pendingChunks, &nextChunkToWriteID, l)
				l.Info("File writer goroutine finished.")
				return
			}

			// A new chunk has arrived. Add it to our pending buffer.
			pendingChunks[chunk.chunkID] = chunk
			l.Debug("Received and buffered chunk", "chunk_id", chunk.chunkID)

			// Try to write any sequential chunks we now have.
			d.flushBuffer(destFile, pendingChunks, &nextChunkToWriteID, l)

		case <-ctx.Done():
			l.Info("Context cancelled, file writer shutting down.")
			// Attempt a final flush on cancellation.
			d.flushBuffer(destFile, pendingChunks, &nextChunkToWriteID, l)
			return
		}
	}
}

// flushBuffer attempts to write contiguous chunks from the buffer to the disk.
func (d *downloaderImpl) flushBuffer(
	destFile *os.File,
	pendingChunks map[uint64]chunkToWrite,
	nextChunkToWriteID *uint64,
	l *slog.Logger,
) {
	for {
		// Check if the next sequential chunk is in our buffer.
		chunk, exists := pendingChunks[*nextChunkToWriteID]
		if !exists {
			// The next required chunk hasn't arrived yet. We have to wait.
			break
		}

		// We have the next chunk, let's write it.
		_, err := destFile.WriteAt(chunk.data, chunk.offset)
		if err != nil {
			// This is a critical failure. The download cannot succeed.
			// In a real-world scenario, we might want to signal this failure back to the main loop.
			// For now, we log it as a fatal error. The main loop will eventually time out or finish.
			l.Error("CRITICAL: Failed to write chunk to file. Aborting writer.", "chunk_id", chunk.chunkID, "offset", chunk.offset, "error", err)
			// We clear the buffer to prevent further writes on a corrupted file.
			clear(pendingChunks)
			return
		}

			l.Debug("Successfully wrote chunk to disk", "chunk_id", chunk.chunkID, "offset", chunk.offset, "size", len(chunk.data))

		// The chunk has been written, so we can remove it from the buffer.
			delete(pendingChunks, *nextChunkToWriteID)

		// And increment the counter to look for the next one.
			*nextChunkToWriteID++
	}
}


# ===== FILE: internal/client/downloader/downloader.go =====
package downloader

import (
	"bytes"
	"context"
	"crypto/sha256"
	"encoding/hex"
	"errors"
	"fmt"
	"hash"
	"io"
	"log/slog"
	"net" // Pour errors.Is(err, net.ErrClosed)
	"os"
	"sort" // Pour la validation de chemin
	"sync"
	"sync/atomic"
	"time"

	"qwrap/internal/client/orchestratorclient"
	"qwrap/internal/framing"
	"qwrap/pkg/qwrappb" // Assurez-vous que le chemin est correct

	"github.com/quic-go/quic-go"
	"google.golang.org/protobuf/types/known/timestamppb"
)

const (
	defaultConcurrency         = 10
	defaultMaxLocalRetries     = 2 // Nombre de tentatives locales avant de compter sur l'orchestrateur
	defaultRetryBaseDelayChunk = 250 * time.Millisecond
	defaultChunkRequestTimeout = 20 * time.Second // Augmenté un peu
	chunkReassignmentTimeout   = 30 * time.Second
	filePermission             = 0644
	orchestratorCommsTimeout   = 10 * time.Second // Timeout pour les opérations de comms avec l'orchestrateur
)

var (
	ErrDownloadCancelled     = errors.New("download cancelled by context")
	ErrChecksumMismatch      = errors.New("checksum mismatch")
	ErrOrchestratorPlan      = errors.New("invalid transfer plan from orchestrator")
	ErrFileWriteFailed       = errors.New("failed to write to destination file")
	ErrChunkDownloadFailed   = errors.New("chunk download failed after all attempts")
	ErrOrchestratorCommsFail = errors.New("communication with orchestrator failed")
)

// chunkToWrite is a struct used to pass data for a completed chunk to the file writer goroutine.
// chunkToWrite is a struct used to pass a completed chunk to the file writer goroutine.
// It contains all information needed for the writer to perform its job.
type chunkToWrite struct {
	chunkID uint64
	data    []byte
	offset  int64
}

// OrchestratorComms définit l'interface pour la communication du Downloader avec l'Orchestrateur.
type OrchestratorComms interface {
	// ReportChunkTransferStatus envoie le statut d'un chunk à l'orchestrateur.
	ReportChunkTransferStatus(ctx context.Context, planID string, status *qwrappb.ChunkTransferStatus) error

	// ListenForUpdatedPlans écoute les mises à jour de plan de l'orchestrateur pour un planID donné.
	// Les mises à jour sont envoyées sur updatedPlanChan.
	// Cette fonction doit être non-bloquante ou exécutée dans une goroutine.
	// Elle doit se terminer lorsque le contexte est annulé.
	ListenForUpdatedPlans(ctx context.Context, planID string, updatedPlanChan chan<- *qwrappb.UpdatedTransferPlan) error

	// (Optionnel) RequestChunkReassignment pourrait être une méthode explicite.
	// RequestChunkReassignment(ctx context.Context, planID string, chunkInfo *qwrappb.ChunkInfo, lastFailedAgentID string) error
}

type downloaderConfig struct {
	Concurrency          int
	MaxLocalRetries      int // Renommé de MaxRetriesPerChunk
	RetryBaseDelay       time.Duration
	ChunkRequestTimeout  time.Duration
	Logger               *slog.Logger
	ConnManager          ConnectionManager        // Interface définie précédemment
	OrchestratorComms    orchestratorclient.Comms // Interface pour la communication avec l'orchestrateur
	MessageWriterFactory func(w io.Writer, l *slog.Logger) framing.Writer
	MessageReaderFactory func(r io.Reader, l *slog.Logger) framing.Reader
}

func (c *downloaderConfig) setDefaults(logger *slog.Logger) { // logger est passé en argument
	if c.Concurrency <= 0 {
		c.Concurrency = defaultConcurrency
	}
	if c.MaxLocalRetries < 0 {
		c.MaxLocalRetries = defaultMaxLocalRetries
	}
	if c.RetryBaseDelay <= 0 {
		c.RetryBaseDelay = defaultRetryBaseDelayChunk
	}
	if c.ChunkRequestTimeout <= 0 {
		c.ChunkRequestTimeout = defaultChunkRequestTimeout
	}

	// Configurer le logger
	if logger == nil { // Si aucun logger n'est passé à NewDownloader
		c.Logger = slog.Default().With("component", "downloader")
	} else {
		c.Logger = logger.With("component", "downloader") // Utiliser le logger passé et ajouter le contexte
	}

	if c.ConnManager == nil {
		// Normalement, ConnManager devrait être une dépendance obligatoire passée à NewDownloader.
		// Lever une panique ici est approprié si c'est une condition non récupérable pour le fonctionnement.
		panic("ConnectionManager is required for downloader")
	}

	if c.OrchestratorComms == nil {
		c.Logger.Warn("OrchestratorComms is nil, downloader will operate in a degraded mode (no dynamic replanning or detailed reporting). Using NoOp implementation.")
		// <<<< CORRECTION ICI >>>>
		// Utiliser le constructeur NewNoOpComms qui retourne orchestratorclient.Comms
		c.OrchestratorComms = orchestratorclient.NewNoOpComms(c.Logger)
	}

	// Factories pour le messaging
	if c.MessageWriterFactory == nil {
		c.MessageWriterFactory = func(w io.Writer, l *slog.Logger) framing.Writer {
			// Utiliser c.Logger qui est déjà configuré avec le composant "downloader"
			logToUse := c.Logger
			if l != nil {
				logToUse = l
			}
			return framing.NewMessageWriter(w, logToUse.With("subcomponent", "dl_msg_writer"))
		}
	}
	if c.MessageReaderFactory == nil {
		c.MessageReaderFactory = func(r io.Reader, l *slog.Logger) framing.Reader {
			logToUse := c.Logger
			if l != nil {
				logToUse = l
			}
			return framing.NewMessageReader(r, logToUse.With("subcomponent", "dl_msg_reader"))
		}
	}
}

// noopOrchestratorComms est une implémentation factice pour quand la vraie n'est pas fournie.
type noopOrchestratorComms struct{ logger *slog.Logger }

func (n *noopOrchestratorComms) ReportChunkTransferStatus(ctx context.Context, planID string, status *qwrappb.ChunkTransferStatus) error {
	n.logger.Debug("NO-OP: ReportChunkTransferStatus called", "plan_id", planID, "chunk_id", status.ChunkInfo.ChunkId, "event", status.Event)
	return nil
}
func (n *noopOrchestratorComms) ListenForUpdatedPlans(ctx context.Context, planID string, updatedPlanChan chan<- *qwrappb.UpdatedTransferPlan) error {
	n.logger.Debug("NO-OP: ListenForUpdatedPlans called, will block until context done.", "plan_id", planID)
	<-ctx.Done() // Bloque pour simuler une écoute
	return ctx.Err()
}

type downloadWorkerJob struct {
	assignment *qwrappb.ChunkAssignment // L'affectation actuelle pour ce job
	attempt    int                      // Tentative actuelle pour CETTE affectation
}

// chunkTrack garde l'état d'un chunk en cours de téléchargement ou en attente.
type chunkTrack struct {
	info                         *qwrappb.ChunkInfo
	currentAssignment            *qwrappb.ChunkAssignment // La dernière affectation connue pour ce chunk
	currentAttemptOnAssign       int                      // Tentative pour l'affectation actuelle
	data                         []byte
	isCompleted                  bool
	isPermanentlyFailed          bool
	localRetryTotalCount         int // Nombre total de tentatives locales pour ce chunk, toutes assignations confondues
	awaitingReassignment         bool
	lastAwaitingReassignmentTime time.Time
}

type downloaderImpl struct {
	config              downloaderConfig
	currentPlanSnapshot *qwrappb.TransferPlan // Protégé par muCurrentPlan
	muCurrentPlan       sync.RWMutex
}

// NewDownloader crée une nouvelle instance de Downloader.
func NewDownloader(
	connMgr ConnectionManager,
	orchComms orchestratorclient.Comms,
	logger *slog.Logger,
	concurrency int,
	writerFactory func(io.Writer, *slog.Logger) framing.Writer,
	readerFactory func(io.Reader, *slog.Logger) framing.Reader,
) Downloader {
	cfg := downloaderConfig{
		ConnManager:          connMgr,
		OrchestratorComms:    orchComms,
		Concurrency:          concurrency,
		MessageWriterFactory: writerFactory,
		MessageReaderFactory: readerFactory,
	}
	cfg.setDefaults(logger)
	return &downloaderImpl{config: cfg}
}

// Download (interface)
// Download is the main public method to start a file download.
// It initiates the download process in a separate goroutine and returns channels for progress and final error.
func (d *downloaderImpl) Download(
	ctx context.Context,
	initialTransferReq *qwrappb.TransferRequest,
	destPath string,
) (<-chan ProgressInfo, <-chan error) {
	progressChan := make(chan ProgressInfo, d.config.Concurrency*2)
	finalErrorChan := make(chan error, 1)

	// Start the entire download management process in a background goroutine.
	go d.manageDownloadLifecycle(ctx, initialTransferReq, destPath, progressChan, finalErrorChan)

	return progressChan, finalErrorChan
}

// manageDownloadLifecycle is the core internal function that orchestrates the entire download process.
// It is run in a goroutine by the public Download method.
func (d *downloaderImpl) manageDownloadLifecycle(
	ctx context.Context,
	initialTransferReq *qwrappb.TransferRequest,
	destPath string,
	progressChan chan<- ProgressInfo,
	finalErrorChan chan<- error,
) {
	// Ensure channels are closed on exit to signal completion to the caller.
	defer close(progressChan)
	defer close(finalErrorChan)

	l := d.config.Logger.With("request_id", initialTransferReq.RequestId, "op", "manageDownloadLifecycle")
	l.Info("Downloader lifecycle started")

	// --- Initial Plan Retrieval ---
	planCtx, planCancel := context.WithTimeout(ctx, orchestratorCommsTimeout*2)
	initialPlan, err := d.config.OrchestratorComms.RequestInitialPlan(planCtx, initialTransferReq)
	planCancel()

	if err != nil {
		wrappedErr := fmt.Errorf("%w: %v", ErrOrchestratorPlan, err)
		l.Error("Failed to get initial transfer plan", "error", wrappedErr)
		finalErrorChan <- wrappedErr
		return
	}
	if initialPlan == nil {
		err = fmt.Errorf("%w: received nil plan from orchestrator", ErrOrchestratorPlan)
		l.Error(err.Error())
		finalErrorChan <- err
		return
	}
	if initialPlan.ErrorMessage != "" {
		err = fmt.Errorf("%w: orchestrator error in plan: %s", ErrOrchestratorPlan, initialPlan.ErrorMessage)
		l.Error(err.Error(), "plan_id", initialPlan.PlanId)
		finalErrorChan <- err
		return
	}
	if len(initialPlan.SourceFileMetadata) == 0 || initialPlan.SourceFileMetadata[0] == nil {
		err = fmt.Errorf("%w: initial plan missing source file metadata", ErrOrchestratorPlan)
		l.Error(err.Error(), "plan_id", initialPlan.PlanId)
		finalErrorChan <- err
		return
	}

	mainFileMeta := initialPlan.SourceFileMetadata[0]
	d.muCurrentPlan.Lock()
	d.currentPlanSnapshot = initialPlan
	d.muCurrentPlan.Unlock()
	l = l.With("plan_id", initialPlan.PlanId, "file_id", mainFileMeta.FileId)

	// --- Handle Empty File Case ---
	if len(initialPlan.ChunkAssignments) == 0 {
		if mainFileMeta.TotalSize > 0 {
			err = fmt.Errorf("%w: initial plan has no chunk assignments for a non-empty file (size: %d)", ErrOrchestratorPlan, mainFileMeta.TotalSize)
			l.Error(err.Error())
			finalErrorChan <- err
			return
		}
		l.Info("Initial plan has no assignments (file is likely empty). Download considered complete.")
		if mainFileMeta.TotalSize == 0 && mainFileMeta.ChecksumValue != "" {
			if !verifyChecksum([]byte{}, mainFileMeta.ChecksumAlgorithm, mainFileMeta.ChecksumValue) {
				finalErrorChan <- ErrChecksumMismatch
				return
			}
		}
		finalErrorChan <- nil // Success for an empty file
		return
	}
	l.Info("Initial transfer plan received", "num_chunks", len(initialPlan.ChunkAssignments))

	// --- File and State Initialization ---
	destFile, err := os.OpenFile(destPath, os.O_RDWR|os.O_CREATE|os.O_TRUNC, filePermission)
	if err != nil {
		finalErrorChan <- fmt.Errorf("%w: creating destination file %s: %v", ErrFileWriteFailed, destPath, err)
		return
	}
	defer destFile.Close()
	if mainFileMeta.TotalSize > 0 {
		if err := destFile.Truncate(mainFileMeta.TotalSize); err != nil {
			l.Warn("Failed to pre-allocate file space", "path", destPath, "error", err)
		}
	}

	totalChunksInPlan := len(initialPlan.ChunkAssignments)
	var (
		wg                           sync.WaitGroup
		resultsChan                  = make(chan *ChunkDownloadResult, d.config.Concurrency*2)
		writeChan                    = make(chan chunkToWrite, d.config.Concurrency*2)
		downloadedSize               atomic.Int64
		completedChunksCount         atomic.Int32
		permanentlyFailedChunksCount atomic.Int32
		chunkStates                  = make(map[uint64]*chunkTrack, totalChunksInPlan)
		muChunkStates                sync.RWMutex
		jobsChan                     = make(chan downloadWorkerJob, d.config.Concurrency*2)
		updatedPlanExternalChan      = make(chan *qwrappb.UpdatedTransferPlan, 10)
		activeDownloads              atomic.Int32
		nextChunkToWriteID           atomic.Uint64
	)

	workerCtx, workerCancel := context.WithCancel(ctx)
	defer workerCancel()

	// --- Start Workers and Goroutines ---
	for i := 0; i < d.config.Concurrency; i++ {
		wg.Add(1)
		go d.downloadWorker(workerCtx, i+1, jobsChan, resultsChan, &wg)
	}

	wg.Add(1)
	go d.fileWriter(workerCtx, &wg, destFile, writeChan, mainFileMeta.FileId)

	// --- Initial Job Dispatch ---
	muChunkStates.Lock()
	sortedInitialAssignments := make([]*qwrappb.ChunkAssignment, len(initialPlan.ChunkAssignments))
	copy(sortedInitialAssignments, initialPlan.ChunkAssignments)
	sort.Slice(sortedInitialAssignments, func(i, j int) bool {
		return sortedInitialAssignments[i].ChunkInfo.ChunkId < sortedInitialAssignments[j].ChunkInfo.ChunkId
	})
	for _, assignment := range sortedInitialAssignments {
		chunkID := assignment.ChunkInfo.ChunkId
		chunkStates[chunkID] = &chunkTrack{info: assignment.ChunkInfo, currentAssignment: assignment, currentAttemptOnAssign: 1}
		jobsChan <- downloadWorkerJob{assignment: assignment, attempt: 1}
		activeDownloads.Add(1)
	}
	muChunkStates.Unlock()

	// --- Start Orchestrator Listener ---
	if d.config.OrchestratorComms != nil {
		l.Info("Starting listener for updated plans from orchestrator")
		wg.Add(1)
		go func() {
			defer wg.Done()
			errListener := d.config.OrchestratorComms.ListenForUpdatedPlans(workerCtx, initialPlan.PlanId, updatedPlanExternalChan)
			if errListener != nil && !errors.Is(errListener, context.Canceled) && workerCtx.Err() == nil {
				l.Error("Orchestrator listener returned an error", "error", errListener)
			}
			l.Info("Orchestrator listener has finished.")
		}()
	} else {
		close(updatedPlanExternalChan)
	}

	var finalErrLoop error
	outstandingChunks := int32(totalChunksInPlan)
	reassignmentCheckTicker := time.NewTicker(chunkReassignmentTimeout / 2)
	defer reassignmentCheckTicker.Stop()
	// This queue buffers completed chunks that are ready to be sent to the file writer.
	// This is the key to preventing deadlocks: the main loop can always accept results
	// from workers and queue them, even if the writer is temporarily blocked.
	var writeQueue []chunkToWrite

	// --- Main Loop ---
	// The loop continues as long as there are chunks to be processed OR active workers.
	for outstandingChunks > 0 || activeDownloads.Load() > 0 {
		// This is a conditional channel pattern. `sendChan` is nil if the queue is empty,
		// which effectively disables the case in the select statement. When the queue has items,
		// `sendChan` points to `writeChan`, enabling the send case.
		var (
			chunkToSend chunkToWrite
			sendChan    chan<- chunkToWrite
		)

		if len(writeQueue) > 0 {
			chunkToSend = writeQueue[0]
			sendChan = writeChan
		}

		// Envoyer la progression
		select {
		case <-ctx.Done():
			finalErrLoop = ErrDownloadCancelled
			l.Info("Download cancelled by parent context.")
			goto endLoopDownload

		case sendChan <- chunkToSend:
			// A chunk was successfully sent to the writer. Remove it from our queue.
			writeQueue = writeQueue[1:]

		case updatedPlan, ok := <-updatedPlanExternalChan:
			if !ok {
				updatedPlanExternalChan = nil
				continue
			}
			if updatedPlan == nil {
				continue
			}
			l.Info("Downloader received UpdatedTransferPlan", "num_new_assign", len(updatedPlan.NewOrUpdatedAssignments), "num_invalidated", len(updatedPlan.InvalidatedChunks))

			d.muCurrentPlan.Lock()
			d.currentPlanSnapshot = mergePlan(d.currentPlanSnapshot, updatedPlan) // Mettre à jour la vue locale du plan
			d.muCurrentPlan.Unlock()

			muChunkStates.Lock()
			for _, newAssign := range updatedPlan.NewOrUpdatedAssignments {
				if newAssign == nil || newAssign.ChunkInfo == nil {
					continue
				}
				chunkID := newAssign.ChunkInfo.ChunkId
				track, exists := chunkStates[chunkID]
				if !exists || track.isCompleted || track.isPermanentlyFailed {
					continue
				}
				l.Info("Processing new assignment from orchestrator", "chunk_id", chunkID, "new_agent", newAssign.AgentId)
				track.currentAssignment = newAssign
				track.currentAttemptOnAssign = 1
				track.localRetryTotalCount = 0
				track.awaitingReassignment = false
				select {
				case jobsChan <- downloadWorkerJob{assignment: newAssign, attempt: 1}:
					activeDownloads.Add(1)
				default:
					l.Warn("Could not re-queue job with new assignment (jobsChan full)", "chunk_id", chunkID)
				}
			}
			for _, invalidatedCI := range updatedPlan.InvalidatedChunks {
				if invalidatedCI == nil {
					continue
				}
				chunkID := invalidatedCI.ChunkId
				track, exists := chunkStates[chunkID]
				if exists && !track.isCompleted && !track.isPermanentlyFailed {
					l.Info("Chunk invalidated by orchestrator, marking as perm. failed", "chunk_id", chunkID)
					if !track.isPermanentlyFailed {
						track.isPermanentlyFailed = true
						permanentlyFailedChunksCount.Add(1)
						atomic.AddInt32(&outstandingChunks, -1)
					}
				}
			}
			muChunkStates.Unlock()

		case result, ok := <-resultsChan:
			if !ok {
				if activeDownloads.Load() == 0 && outstandingChunks > 0 && workerCtx.Err() == nil {
					finalErrLoop = errors.New("results channel closed but outstanding chunks remain and not cancelled")
					l.Error(finalErrLoop.Error())
				}
				goto endLoopDownload
			}
			activeDownloads.Add(-1)

			muChunkStates.Lock() // Verrouiller pour accéder/modifier chunkStates
			track, exists := chunkStates[result.ChunkInfo.ChunkId]

			if !exists || track.isCompleted || track.isPermanentlyFailed {
				muChunkStates.Unlock()
				continue
			}
			// Le track.currentAssignment pourrait avoir changé si un UpdatedTransferPlan est arrivé PENDANT que ce chunk était en vol.
			// On doit comparer result.AgentID avec track.currentAssignment.AgentId pour savoir si c'est un résultat pour l'assignation actuelle.
			isStaleResult := track.currentAssignment.AgentId != result.AgentID || track.currentAssignment.ChunkInfo.ChunkId != result.ChunkInfo.ChunkId
			muChunkStates.Unlock() // Libérer avant d'envoyer le rapport

			statusReport := qwrappb.ChunkTransferStatus{ChunkInfo: result.ChunkInfo, AgentId: result.AgentID}
			if result.Err != nil {
				statusReport.Details = result.Err.Error()
			}

			if result.Err != nil { // Échec de la tentative de téléchargement
				l.Warn("Chunk download attempt failed", "chunk_id", result.ChunkInfo.ChunkId, "agent", result.AgentID, "attempt_on_assign", result.Attempt, "total_local_attempts_for_chunk", track.localRetryTotalCount+1, "error", result.Err.Error())
				statusReport.Event = qwrappb.TransferEvent_DOWNLOAD_FAILED_TRANSFER_ERROR
				if errors.Is(result.Err, context.Canceled) || errors.Is(result.Err, context.DeadlineExceeded) || errors.Is(result.Err, net.ErrClosed) {
					statusReport.Event = qwrappb.TransferEvent_DOWNLOAD_FAILED_AGENT_UNREACHABLE
				}
				d.sendOrchestratorReport(workerCtx, initialPlan.PlanId, &statusReport)

				muChunkStates.Lock()
				if isStaleResult || track.isCompleted || track.isPermanentlyFailed { // Revérifier sous lock
					muChunkStates.Unlock()
					continue
				}
				track.localRetryTotalCount++
				if track.currentAttemptOnAssign < d.config.MaxLocalRetries { // Retry local sur la même assignation
					l.Info("Queueing chunk for local retry on same assignment", "chunk_id", track.info.ChunkId, "next_attempt_on_assign", track.currentAttemptOnAssign+1)
					track.currentAttemptOnAssign++
					select {
					case jobsChan <- downloadWorkerJob{assignment: track.currentAssignment, attempt: track.currentAttemptOnAssign}:
						activeDownloads.Add(1)
					default:
						l.Warn("Could not queue local retry (jobsChan full)", "chunk_id", track.info.ChunkId)
					}
				} else { // Max retries locaux sur cette assignation
					l.Warn("Max local retries on current assignment. Requesting reassignment.", "chunk_id", track.info.ChunkId, "agent", track.currentAssignment.AgentId)
					track.awaitingReassignment = true
					track.lastAwaitingReassignmentTime = time.Now()
					reassignReqReport := &qwrappb.ChunkTransferStatus{
						ChunkInfo: statusReport.ChunkInfo,
						AgentId:   statusReport.AgentId,
						Event:     qwrappb.TransferEvent_REASSIGNMENT_REQUESTED,
						Details:   "Max local retries on assignment " + track.currentAssignment.AgentId,
					}
					d.sendOrchestratorReport(workerCtx, initialPlan.PlanId, reassignReqReport)
				}
				muChunkStates.Unlock()

			} else { // Succès du téléchargement du chunk
				l.Debug("Chunk download successful", "chunk_id", result.ChunkInfo.ChunkId, "size", len(result.Data))
				statusReport.Event = qwrappb.TransferEvent_DOWNLOAD_SUCCESSFUL
				// statusReport.TransferDuration = ... // TODO

				isVerified := true
				d.muCurrentPlan.RLock()
				planOpts := d.currentPlanSnapshot.Options
				d.muCurrentPlan.RUnlock()
				if planOpts != nil && planOpts.VerifyChunkChecksums && result.ChunkInfo.ChecksumValue != "" {
					if !verifyChecksum(result.Data, result.ChunkInfo.ChecksumAlgorithm, result.ChunkInfo.ChecksumValue) {
						isVerified = false
						statusReport.Event = qwrappb.TransferEvent_DOWNLOAD_FAILED_CHECKSUM_MISMATCH
						statusReport.Details = "Checksum mismatch after download"
						l.Error(statusReport.Details, "chunk_id", result.ChunkInfo.ChunkId)
						muChunkStates.Lock()
						if !track.isCompleted && !track.isPermanentlyFailed { // Ne pas modifier si déjà traité
							track.localRetryTotalCount++
							track.awaitingReassignment = true
							track.lastAwaitingReassignmentTime = time.Now()
						}
						muChunkStates.Unlock()
					}
				}
				d.sendOrchestratorReport(workerCtx, initialPlan.PlanId, &statusReport)

				if isVerified {
					muChunkStates.Lock()
					if !track.isCompleted && !track.isPermanentlyFailed { // Éviter double traitement
						// The chunk is verified and successful. Mark it as completed.
						// We no longer store the data in the shared `chunkStates` map.
						track.isCompleted = true
						track.awaitingReassignment = false
						completedChunksCount.Add(1)
						atomic.AddInt32(&outstandingChunks, -1)
						downloadedSize.Add(int64(len(result.Data)))
						muChunkStates.Unlock()

						// Add the verified chunk to the write queue. Do not send directly.
						writeQueue = append(writeQueue, chunkToWrite{
							chunkID: result.ChunkInfo.ChunkId,
							data:    result.Data,
							offset:  result.ChunkInfo.Range.Offset,
						})
					} else {
						// If the chunk was already completed/failed (e.g., due to a race with an updated plan),
						// we still need to unlock the mutex.
						muChunkStates.Unlock()
					}
				}
			}

		case <-reassignmentCheckTicker.C: // Vérifier les chunks en attente de réassignation
			muChunkStates.Lock()
			now := time.Now()
			for chunkID, tr := range chunkStates {
				if tr.awaitingReassignment && !tr.isCompleted && !tr.isPermanentlyFailed {
					if now.Sub(tr.lastAwaitingReassignmentTime) > chunkReassignmentTimeout {
						l.Error("Chunk awaiting reassignment timed out, marking as perm. failed.", "chunk_id", chunkID, "agent", tr.currentAssignment.AgentId)
						if !tr.isPermanentlyFailed {
							tr.isPermanentlyFailed = true
							tr.awaitingReassignment = false
							permanentlyFailedChunksCount.Add(1)
							atomic.AddInt32(&outstandingChunks, -1)
							statusReport := qwrappb.ChunkTransferStatus{ChunkInfo: tr.info, Event: qwrappb.TransferEvent_DOWNLOAD_FAILED_TRANSFER_ERROR, AgentId: tr.currentAssignment.AgentId, Details: "Reassignment request timed out"}
							d.sendOrchestratorReport(workerCtx, initialPlan.PlanId, &statusReport)
						}
					}
				}
			}
			muChunkStates.Unlock()
		} // Fin du select
	} // Fin de la boucle for outstandingChunks > 0

endLoopDownload:
	// If the loop ended because of a context error that we haven't captured yet, record it.
	if workerCtx.Err() != nil && finalErrLoop == nil {
		finalErrLoop = workerCtx.Err()
	}

	// Always cancel the worker context to signal all background tasks (workers, plan listener) to stop.
	// This is critical to prevent a deadlock where background goroutines wait forever.
	workerCancel()

	l.Debug("Main download loop ended. Draining results and waiting for goroutines.")


	// Start a goroutine to wait for all background tasks. It will close 'waitDone' when they are all finished.
	waitDone := make(chan struct{})
	go func() {
		wg.Wait()
		close(waitDone)
	}()

	// This loop drains any remaining results from workers until all workers have confirmed they are done.
	// This prevents any worker from getting stuck trying to send a result.
drainLoop:
	for {
		select {
		case result, ok := <-resultsChan:
			if !ok {
				resultsChan = nil // Avoid busy-looping if channel is closed unexpectedly
				continue
			}
			// Log the drained result for debugging purposes.
			l.Debug("Drained a result during shutdown", "chunk_id", result.ChunkInfo.ChunkId, "err", result.Err)
			activeDownloads.Add(-1)
		case <-waitDone:
			// All tasks are done, we can exit the drain loop.
			break drainLoop
		}
	}

	// Now that all workers are stopped, it's safe to close the results channel.
	if resultsChan != nil {
		close(resultsChan)
	}
	l.Info("All downloader goroutines have finished.")

	// Close the write channel and wait for the writer to finish its queue.
	close(writeChan)

	// Tentative finale d'écriture et vérifications finales
	// Le writer s'occupe de tout, on a juste besoin de vérifier l'état final.

	muChunkStates.RLock()
	finalCompleted := completedChunksCount.Load()
	finalFailedPerm := permanentlyFailedChunksCount.Load()
	// Compter les chunks non résolus (ni complétés, ni échoués définitivement)
	var unresolvedAwaitingCount int32 = 0
	for _, tr := range chunkStates {
		if !tr.isCompleted && !tr.isPermanentlyFailed {
			unresolvedAwaitingCount++
		}
	}
	muChunkStates.RUnlock()

	if finalErrLoop == nil {
		// Si tous les chunks sont soit complétés, soit marqués comme échec permanent.
		if (finalCompleted+finalFailedPerm) < int32(totalChunksInPlan) || unresolvedAwaitingCount > 0 {
			finalErrLoop = fmt.Errorf("%w: not all chunks resolved (completed: %d, failed_perm: %d, unresolved_still_pending: %d, total: %d)",
				ErrChunkDownloadFailed, finalCompleted, finalFailedPerm, unresolvedAwaitingCount, totalChunksInPlan)
		} else if finalFailedPerm > 0 { // Tous résolus, mais certains ont échoué
			finalErrLoop = fmt.Errorf("%w: %d chunks failed permanently", ErrChunkDownloadFailed, finalFailedPerm)
		} else if int(nextChunkToWriteID.Load()) != totalChunksInPlan { // Tous complétés et aucun échec, mais pas tout écrit
			finalErrLoop = fmt.Errorf("%w: file assembly incomplete, wrote %d of %d chunks (all chunks reported downloaded)",
				ErrFileWriteFailed, nextChunkToWriteID.Load(), totalChunksInPlan)
		}
	}

	// Vérification du checksum global
	if finalErrLoop == nil && mainFileMeta.ChecksumValue != "" && mainFileMeta.ChecksumAlgorithm != qwrappb.ChecksumAlgorithm_CHECKSUM_ALGORITHM_UNKNOWN {
		if errSync := destFile.Sync(); errSync != nil {
			d.config.Logger.Error("Failed to sync destination file before checksum", "error", errSync)
		}
		if _, errSeek := destFile.Seek(0, io.SeekStart); errSeek != nil {
			if finalErrLoop == nil {
				finalErrLoop = fmt.Errorf("failed to seek for checksum: %w", errSeek)
			}
		} else {
			// Utiliser l'algo du FileMeta
			var hasher hash.Hash
			d.muCurrentPlan.RLock()
			algo := d.currentPlanSnapshot.SourceFileMetadata[0].ChecksumAlgorithm // Utiliser le plan actuel
			d.muCurrentPlan.RUnlock()
			switch algo {
			case qwrappb.ChecksumAlgorithm_SHA256:
				hasher = sha256.New()
			// TODO: Ajouter d'autres algos supportés
			default:
				d.config.Logger.Warn("Unsupported global checksum algorithm for verification", "algo", mainFileMeta.ChecksumAlgorithm)
			}
			if hasher != nil {
				if _, errCopy := io.Copy(hasher, destFile); errCopy != nil {
					finalErrLoop = fmt.Errorf("failed to read dest file for checksum: %w", errCopy)
				} else {
					actualChecksum := hex.EncodeToString(hasher.Sum(nil))
					if actualChecksum != mainFileMeta.ChecksumValue {
						finalErrLoop = fmt.Errorf("%w: global checksum mismatch (expected: %s, actual: %s)", ErrChecksumMismatch, mainFileMeta.ChecksumValue, actualChecksum)
					} else {
						d.config.Logger.Info("Global file checksum VERIFIED.", "checksum", actualChecksum)
					}
				}
			}
		}
	}

	if finalErrLoop != nil {
		finalErrorChan <- finalErrLoop
		d.config.Logger.Error("Download process finished with error", "plan_id", initialPlan.PlanId, "error", finalErrLoop)
	} else {
		d.config.Logger.Info("Download process completed successfully", "plan_id", initialPlan.PlanId, "file_id", mainFileMeta.FileId)
		finalErrorChan <- nil
	}
}

// monitorPressure watches the results channel and signals when it's under pressure.
func (d *downloaderImpl) monitorPressure(ctx context.Context, resultsChan <-chan *ChunkDownloadResult, pressureChan chan<- struct{}) {
	ticker := time.NewTicker(250 * time.Millisecond)
	defer ticker.Stop()

	for {
		select {
		case <-ctx.Done():
			return
		case <-ticker.C:
			// Signal pressure if the channel is more than half full.
			if len(resultsChan) > cap(resultsChan)/2 {
				select {
				case pressureChan <- struct{}{}:
				default: // Don't block if the pressure channel is already full.
				}
			}
		}
	}
}

// adjustWorkers is a placeholder for dynamic concurrency adjustment.
// A real implementation would need to carefully manage the worker pool.
func (d *downloaderImpl) adjustWorkers(delta int) {
	// For now, we just log the pressure event.
	// A future implementation could use a token system to pause/resume workers.
	if delta < 0 {
		d.config.Logger.Warn("System under pressure, would reduce worker count if implemented.", "adjustment", delta)
	}
}

// sendOrchestratorReport est un helper pour envoyer des rapports de manière non bloquante.
func (d *downloaderImpl) sendOrchestratorReport(ctx context.Context, planID string, status *qwrappb.ChunkTransferStatus) {
	if d.config.OrchestratorComms == nil {
		return
	}
	// Copier le statut pour éviter les races si l'original est modifié
	reportStatus := *status
	if status.ChunkInfo != nil { // Copier ChunkInfo aussi
		ciCopy := *status.ChunkInfo
		reportStatus.ChunkInfo = &ciCopy
	}

	// Utiliser un nouveau contexte avec timeout pour l'envoi du rapport,
	// détaché du contexte du chunk spécifique qui a pu être annulé.
	reportCtx, reportCancel := context.WithTimeout(context.Background(), orchestratorCommsTimeout)

	// Exécuter dans une goroutine pour ne pas bloquer la boucle principale du downloader
	go func() {
		defer reportCancel()
		clientReport := &qwrappb.ClientReport{
			PlanId:          planID,
			ReportTimestamp: timestamppb.Now(),
			ChunkStatuses:   []*qwrappb.ChunkTransferStatus{&reportStatus},
		}
		err := d.config.OrchestratorComms.ReportTransferStatus(reportCtx, clientReport)
		if err != nil {
			d.config.Logger.Error("Failed to report chunk status to orchestrator",
				"plan_id", planID, "chunk_id", reportStatus.ChunkInfo.ChunkId,
				"event", reportStatus.Event, "error", err)
		} else {
			d.config.Logger.Debug("Successfully reported chunk status to orchestrator",
				"plan_id", planID, "chunk_id", reportStatus.ChunkInfo.ChunkId, "event", reportStatus.Event)
		}
	}()
}




// Helper pour fusionner un UpdatedTransferPlan dans un TransferPlan existant (simplifié)
func mergePlan(current *qwrappb.TransferPlan, update *qwrappb.UpdatedTransferPlan) *qwrappb.TransferPlan {
	if current == nil || update == nil || current.PlanId != update.PlanId {
		// Logique d'erreur ou retourner current tel quel
		return current
	}

	// Créer une copie pour ne pas modifier l'original directement si ce n'est pas souhaité
	// Pour cet exemple, on modifie current.
	// Une vraie implémentation devrait être plus prudente.

	newAssignmentsMap := make(map[uint64]*qwrappb.ChunkAssignment)
	for _, assign := range current.ChunkAssignments {
		if assign != nil && assign.ChunkInfo != nil {
			newAssignmentsMap[assign.ChunkInfo.ChunkId] = assign
		}
	}

	for _, newAssign := range update.NewOrUpdatedAssignments {
		if newAssign != nil && newAssign.ChunkInfo != nil {
			newAssignmentsMap[newAssign.ChunkInfo.ChunkId] = newAssign // Remplace ou ajoute
		}
	}

	// Gérer les invalidated_chunks (les retirer de la map)
	for _, invalidated := range update.InvalidatedChunks {
		if invalidated != nil {
			delete(newAssignmentsMap, invalidated.ChunkId)
		}
	}

	// Reconstruire la slice d'assignments
	finalAssignments := make([]*qwrappb.ChunkAssignment, 0, len(newAssignmentsMap))
	for _, assign := range newAssignmentsMap {
		finalAssignments = append(finalAssignments, assign)
	}
	// Optionnel: retrier finalAssignments par ChunkId
	sort.Slice(finalAssignments, func(i, j int) bool {
		return finalAssignments[i].ChunkInfo.ChunkId < finalAssignments[j].ChunkInfo.ChunkId
	})

	current.ChunkAssignments = finalAssignments
	// Mettre à jour d'autres champs du plan si nécessaire (ex: options, metadata si elles peuvent changer)
	return current
}

func (d *downloaderImpl) downloadWorker(
	ctx context.Context,
	workerID int,
	jobsChan <-chan downloadWorkerJob,
	resultsChan chan<- *ChunkDownloadResult,
	wg *sync.WaitGroup,
) {
	defer wg.Done()
	d.config.Logger.Debug("Download worker started", "id", workerID)

	for {
		var job downloadWorkerJob
		var ok bool

		select {
		case <-ctx.Done():
			d.config.Logger.Debug("Download worker shutting down due to context cancellation", "id", workerID)
			return
		case job, ok = <-jobsChan:
			if !ok {
				d.config.Logger.Debug("Download worker shutting down as jobs channel closed", "id", workerID)
				return
			}
		}

		d.config.Logger.Debug("Worker picked up job",
			"worker_id", workerID,
			"file_id", job.assignment.ChunkInfo.FileId, "chunk_id", job.assignment.ChunkInfo.ChunkId,
			"agent_addr", job.assignment.AgentAddress, "attempt_for_assignment", job.attempt,
		)

		// Vérifier si le contexte global n'est pas déjà annulé avant de commencer le travail
		if ctx.Err() != nil {
			d.config.Logger.Debug("Global context cancelled before starting job fetch", "worker_id", workerID, "chunk_id", job.assignment.ChunkInfo.ChunkId)
			// Envoyer un résultat d'erreur pour ce job non tenté
			select {
			case resultsChan <- &ChunkDownloadResult{ChunkInfo: job.assignment.ChunkInfo, Err: ctx.Err(), AgentID: job.assignment.AgentId, Attempt: job.attempt}:
			case <-time.After(1 * time.Second): // Éviter de bloquer indéfiniment si resultsChan est plein
				d.config.Logger.Warn("Timeout sending cancellation result to resultsChan", "worker_id", workerID)
			}
			continue // Prendre le prochain job ou sortir
		}

		chunkData, err := d.fetchChunk(ctx, job.assignment, workerID)

		// Envoyer le résultat, même en cas d'annulation du contexte pendant fetchChunk
		select {
		case resultsChan <- &ChunkDownloadResult{
			ChunkInfo: job.assignment.ChunkInfo,
			Data:      chunkData,
			Err:       err, // Peut être context.Canceled ou context.DeadlineExceeded
			AgentID:   job.assignment.AgentId,
			Attempt:   job.attempt,
		}:
		case <-ctx.Done(): // Si le contexte global est annulé pendant l'envoi du résultat
			d.config.Logger.Debug("Context cancelled while worker sending result", "worker_id", workerID, "chunk_id", job.assignment.ChunkInfo.ChunkId)
			return
		case <-time.After(5 * time.Second): // Timeout pour l'envoi du résultat, pour éviter un deadlock si la boucle principale est bloquée
			d.config.Logger.Error("Timeout sending job result to resultsChan. Potential deadlock or slow main loop.",
				"worker_id", workerID, "chunk_id", job.assignment.ChunkInfo.ChunkId)
			// Que faire ici ? Si on retourne, on perd le résultat. Si on boucle, on peut bloquer.
			// Normalement, resultsChan devrait être consommé.
			// On pourrait essayer de renvoyer avec un select non bloquant une fois de plus.
			return // Sortir pour éviter de bloquer indéfiniment ce worker.
		}
	}
}

func (d *downloaderImpl) fetchChunk(
	parentCtx context.Context, // Contexte venant du worker, qui est lié au contexte global du download
	assignment *qwrappb.ChunkAssignment,
	workerID int,
) ([]byte, error) { // Retourne les données du chunk ou une erreur
	var err error
	var conn quic.Connection
	var stream quic.Stream

	// Contexte spécifique pour cette tentative de fetchChunk, avec un timeout global pour l'opération.
	fetchCtx, fetchCancel := context.WithTimeout(parentCtx, d.config.ChunkRequestTimeout)
	defer fetchCancel() // Très important pour libérer les ressources du contexte du timeout

	// Logger contextuel pour ce fetch spécifique
	fetchLogger := d.config.Logger.With(
		"op", "fetchChunk",
		"worker_id", workerID,
		"agent_addr", assignment.AgentAddress,
		"file_id", assignment.ChunkInfo.FileId,
		"chunk_id", assignment.ChunkInfo.ChunkId,
	)

	// Defer pour la fermeture du stream QUIC, quoi qu'il arrive.
	defer func() {
		if stream != nil {
			// Annuler les opérations de lecture/écriture en cours sur le stream avant de le fermer.
			// Utiliser des codes d'erreur applicatifs (0 pour normal, >0 pour erreur spécifique).
			stream.CancelRead(quic.StreamErrorCode(0))  // Code d'erreur "NO_ERROR"
			stream.CancelWrite(quic.StreamErrorCode(0)) // Code d'erreur "NO_ERROR"
			// stream.Close() est appelé implicitement par CancelRead/CancelWrite si le stream est encore ouvert,
			// ou peut être appelé explicitement. quic.Stream.Close() est idempotent.
			// On ne logue pas l'erreur de Close ici, car elle est souvent redondante
			// si le contexte a été annulé ou si une erreur d'I/O a déjà eu lieu.
		}
	}()

	// 1. Obtenir/Établir la connexion QUIC avec l'agent via ConnectionManager
	conn, err = d.config.ConnManager.GetOrConnect(fetchCtx, assignment.AgentAddress)
	if err != nil {
		fetchLogger.Warn("Failed to get/connect to agent", "error", err)
		// Invalider la connexion dans le manager pour forcer une nouvelle tentative de Dial la prochaine fois.
		if d.config.ConnManager != nil { // Vérifier au cas où il serait nil (ne devrait pas avec panic dans setDefaults)
			// Utiliser un contexte d'arrière-plan pour l'invalidation, car fetchCtx peut déjà être expiré.
			invalidateCtx, invalidateCancel := context.WithTimeout(context.Background(), 5*time.Second)
			d.config.ConnManager.Invalidate(invalidateCtx, assignment.AgentAddress)
			invalidateCancel()
		}
		return nil, fmt.Errorf("agent connection to %s failed for chunk %d: %w", assignment.AgentAddress, assignment.ChunkInfo.ChunkId, err)
	}

	// 2. Ouvrir un nouveau flux QUIC sur la connexion
	// Utiliser fetchCtx pour OpenStreamSync pour que l'ouverture du flux respecte le timeout global de fetchChunk.
	stream, err = conn.OpenStreamSync(fetchCtx)
	if err != nil {
		fetchLogger.Warn("Failed to open QUIC stream to agent", "error", err)
		// Si l'ouverture du flux échoue, la connexion sous-jacente pourrait être mauvaise.
		// L'invalidation est déjà gérée par GetOrConnect si Dial échoue, mais ici
		// Dial a réussi et OpenStreamSync a échoué. Invalider explicitement peut être une bonne idée.
		if d.config.ConnManager != nil {
			invalidateCtx, invalidateCancel := context.WithTimeout(context.Background(), 5*time.Second)
			d.config.ConnManager.Invalidate(invalidateCtx, assignment.AgentAddress)
			invalidateCancel()
		}
		return nil, fmt.Errorf("open stream to %s for chunk %d failed: %w", assignment.AgentAddress, assignment.ChunkInfo.ChunkId, err)
	}
	// Le defer func() ci-dessus s'occupera de fermer/annuler ce stream.
	fetchLogger = fetchLogger.With("stream_id", stream.StreamID()) // Ajouter l'ID du stream au logger

	// 3. Envoyer StreamPurposeRequest à l'Agent
	msgWriter := d.config.MessageWriterFactory(stream, fetchLogger.With("role", "writer")) // Logger contextuel pour le writer

	purposeMsg := &qwrappb.StreamPurposeRequest{Purpose: qwrappb.StreamPurposeRequest_CHUNK_REQUEST}
	// Utiliser fetchCtx pour l'écriture du message de but.
	if err = msgWriter.WriteMsg(fetchCtx, purposeMsg); err != nil {
		if fetchCtx.Err() != nil { // Vérifier si le timeout/annulation du contexte est la cause
			return nil, fmt.Errorf("context cancelled/timed out sending CHUNK_REQUEST purpose to agent %s (chunk %d): %w", assignment.AgentAddress, assignment.ChunkInfo.ChunkId, fetchCtx.Err())
		}
		fetchLogger.Warn("Failed to send CHUNK_REQUEST purpose to agent", "error", err)
		return nil, fmt.Errorf("send CHUNK_REQUEST purpose to %s for chunk %d failed: %w", assignment.AgentAddress, assignment.ChunkInfo.ChunkId, err)
	}
	fetchLogger.Debug("Sent CHUNK_REQUEST purpose to agent")

	// 4. Envoyer le vrai ChunkRequest (contenant ChunkInfoRequested)
	req := &qwrappb.ChunkRequest{
		ChunkInfoRequested: assignment.ChunkInfo, // Le ChunkInfo de l'assignation contient le FileId, ChunkId, et ByteRange
	}
	if err = msgWriter.WriteMsg(fetchCtx, req); err != nil {
		if fetchCtx.Err() != nil {
			return nil, fmt.Errorf("context cancelled/timed out sending ChunkRequest payload to agent %s (chunk %d): %w", assignment.AgentAddress, assignment.ChunkInfo.ChunkId, fetchCtx.Err())
		}
		fetchLogger.Warn("Failed to send ChunkRequest payload to agent", "error", err)
		return nil, fmt.Errorf("send ChunkRequest payload to %s for chunk %d failed: %w", assignment.AgentAddress, assignment.ChunkInfo.ChunkId, err)
	}
	fetchLogger.Debug("Sent ChunkRequest payload to agent")

	// Le client a fini d'écrire sur ce flux. Il attend maintenant les données du chunk.
	// L'agent lira les deux messages, puis enverra les données du chunk et fermera sa partie du flux.
	// Le client lira jusqu'à la longueur attendue ou EOF.

	// 5. Lire les données brutes du chunk
	if assignment.ChunkInfo.Range == nil || assignment.ChunkInfo.Range.Length <= 0 {
		fetchLogger.Error("Invalid assignment: ChunkInfo.Range is nil or length is zero/negative")
		return nil, fmt.Errorf("invalid range in chunk assignment for chunk %d (file %s)", assignment.ChunkInfo.ChunkId, assignment.ChunkInfo.FileId)
	}
	expectedSize := assignment.ChunkInfo.Range.Length

	// Utiliser un buffer du pool pour la lecture afin de réduire les allocations.
	// Assurez-vous que GetBuffer et PutBuffer sont correctement définis dans votre package messaging (ou framing).
	payloadBufPtr := framing.GetBuffer()
	defer framing.PutBuffer(payloadBufPtr)

	payloadBuf := *payloadBufPtr
	if cap(payloadBuf) < int(expectedSize) {
		payloadBuf = make([]byte, expectedSize) // Allouer si le buffer du pool est trop petit
	} else {
		payloadBuf = payloadBuf[:expectedSize] // Utiliser la capacité existante
	}

	// 5. Lire les données du chunk avec une boucle de lecture robuste.
	fetchLogger.Debug("Starting robust chunk read loop")

	// Allouer un buffer de la taille exacte attendue pour stocker les données du chunk.
	// Cela évite de devoir créer une copie plus tard.
	chunkData := make([]byte, expectedSize)
	totalBytesRead := 0

	// Utiliser un buffer de lecture temporaire pour éviter de multiples petites lectures.
	// 32KB est une taille courante et efficace.
	readBuf := make([]byte, 32*1024)

	for int64(totalBytesRead) < expectedSize {
		// Vérifier si le contexte a été annulé avant de tenter une nouvelle lecture.
		if fetchCtx.Err() != nil {
			fetchLogger.Warn("Context cancelled during chunk data read loop", "error", fetchCtx.Err(), "bytes_read_so_far", totalBytesRead)
			return nil, fmt.Errorf("context error reading chunk %d data from %s: %w", assignment.ChunkInfo.ChunkId, assignment.AgentAddress, fetchCtx.Err())
		}

		// Lire depuis le stream dans le buffer temporaire.
		// Le stream QUIC respecte le contexte `fetchCtx`, donc `Read` se débloquera si le contexte est annulé.
		n, readErr := stream.Read(readBuf)

		if n > 0 {
			// Copier les octets lus du buffer temporaire vers le buffer final du chunk.
			// S'assurer de ne pas écrire au-delà des limites du buffer `chunkData`.
			copy(chunkData[totalBytesRead:], readBuf[:n])
			totalBytesRead += n
		}

		if readErr != nil {
			if readErr == io.EOF {
				// EOF signifie que l'agent a fermé le stream de son côté.
				// C'est une condition de fin normale. On sort de la boucle et on vérifiera la taille totale lue.
				fetchLogger.Debug("EOF reached while reading chunk stream", "total_bytes_read", totalBytesRead, "expected_size", expectedSize)
				break
			}
			// Pour toute autre erreur (ex: réinitialisation de connexion, etc.), c'est une défaillance.
			fetchLogger.Warn("Failed to read chunk data from agent (non-EOF error)", "error", readErr, "bytes_read_so_far", totalBytesRead)
			return nil, fmt.Errorf("read chunk %d data from %s failed: %w", assignment.ChunkInfo.ChunkId, assignment.AgentAddress, readErr)
		}
	}

	// Après la boucle, valider que la quantité totale de données lues correspond à la taille attendue.
	if int64(totalBytesRead) < expectedSize {
		fetchLogger.Warn("Incomplete chunk received from agent after read loop", "expected", expectedSize, "received", totalBytesRead)
		// io.ErrUnexpectedEOF est une erreur appropriée pour indiquer une fin de flux prématurée.
		return nil, fmt.Errorf("incomplete chunk %d from %s: got %d, want %d: %w",
			assignment.ChunkInfo.ChunkId, assignment.AgentAddress, totalBytesRead, expectedSize, io.ErrUnexpectedEOF)
	}

	// Il est peu probable de lire plus que prévu avec la condition de la boucle, mais c'est une vérification de sécurité.
	if int64(totalBytesRead) > expectedSize {
		fetchLogger.Error("Read more data than expected for chunk", "expected", expectedSize, "received", totalBytesRead)
		// Trancher le buffer pour retourner uniquement la taille attendue, mais logger l'anomalie.
		chunkData = chunkData[:expectedSize]
	}

	fetchLogger.Info("Successfully fetched chunk data with robust loop", "size", len(chunkData))
	return chunkData, nil
}

// verifyChecksum vérifie le checksum des données.
func verifyChecksum(data []byte, algo qwrappb.ChecksumAlgorithm, expectedChecksumHex string) bool {
	if expectedChecksumHex == "" {
		return true // Pas de checksum à vérifier
	}
	var hasher io.Writer
	switch algo {
	case qwrappb.ChecksumAlgorithm_SHA256:
		h := sha256.New()
		defer h.Reset()
		hasher = h
	// Ajoutez d'autres algos ici si nécessaire (SHA512, XXHASH64)
	default:
		slog.Warn("Unsupported checksum algorithm for chunk verification", "algorithm", algo)
		return false // Ou true si on veut être permissif pour les algos inconnus
	}

	hashInstance, ok := hasher.(interface{ Sum(b []byte) []byte })
	if !ok {
		slog.Error("Hasher does not implement Sum(b []byte) method")
		return false
	}

	if _, err := io.Copy(hasher, bytes.NewReader(data)); err != nil {
		slog.Error("Failed to compute checksum for chunk verification", "error", err)
		return false
	}
	actualChecksumHex := hex.EncodeToString(hashInstance.Sum(nil))
	return actualChecksumHex == expectedChecksumHex
}


# ===== FILE: internal/client/orchestratorclient/interface.go =====
package orchestratorclient

import (
	"context"
	"qwrap/pkg/qwrappb" // Adaptez le chemin si nécessaire
)

// Comms est l'interface pour la communication du client qwrap avec l'Orchestrateur.
type Comms interface {
	// Connect établit la connexion sous-jacente (ex: QUIC) avec l'orchestrateur.
	// Doit être appelé avant les autres méthodes.
	Connect(ctx context.Context, orchestratorAddress string) error

	// ReportChunkTransferStatus envoie le statut d'un ou plusieurs chunks.
	// Bloquant jusqu'à l'envoi (avec timeout géré par ctx).
	ReportTransferStatus(ctx context.Context, report *qwrappb.ClientReport) error

	// RegisterForPlanUpdates ouvre un flux dédié pour recevoir les UpdatedTransferPlan.
	// Cette méthode doit lancer une goroutine pour écouter sur ce flux et pousser les
	// plans reçus dans le `updatedPlanChan`.
	// Elle doit retourner immédiatement ou après l'établissement du flux.
	// La goroutine interne doit se terminer lorsque le `ctx` est annulé.
	ListenForUpdatedPlans(ctx context.Context, planID string, updatedPlanChan chan<- *qwrappb.UpdatedTransferPlan) error

	// RequestInitialPlan demande le plan de transfert initial.
	RequestInitialPlan(ctx context.Context, req *qwrappb.TransferRequest) (*qwrappb.TransferPlan, error)

	// Close ferme la connexion avec l'orchestrateur.
	Close() error
}


# ===== FILE: internal/client/orchestratorclient/quic_comms.go =====
// internal/client/orchestratorclient/quic_comms.go
package orchestratorclient

import (
	"context"
	"crypto/tls"
	"errors"
	"fmt"
	"io"
	"log/slog" // Pour net.ErrClosed
	"strings"  // Pour strings.Contains
	"sync"
	"time"

	"qwrap/internal/framing" // Assurez-vous que le chemin est correct
	"qwrap/pkg/qwrappb"      // Assurez-vous que le chemin est correct

	"github.com/quic-go/quic-go"
	"google.golang.org/protobuf/proto"
)

// QuicCommsALPN est la constante pour le protocole applicatif. Exporter pour cmd/client/main.go
func QuicCommsALPN() string {
	return "qwrap-orchestrator" // ALPN pour Client <-> Orchestrateur
}

type quicCommsImpl struct {
	orchestratorAddress string
	tlsConfig           *tls.Config
	quicConfig          *quic.Config // Peut être nil pour utiliser les valeurs par défaut de quic-go
	logger              *slog.Logger

	connMu sync.Mutex // Protège qc.conn
	conn   quic.Connection

	writerFactory func(io.Writer, *slog.Logger) framing.Writer
	readerFactory func(io.Reader, *slog.Logger) framing.Reader
}

// NewQuicComms crée une implémentation de Comms basée sur QUIC.
func NewQuicComms(
	orchestratorAddress string,
	tlsConf *tls.Config,
	logger *slog.Logger,
	writerFactory func(io.Writer, *slog.Logger) framing.Writer,
	readerFactory func(io.Reader, *slog.Logger) framing.Reader,
) (Comms, error) {
	if tlsConf == nil {
		return nil, errors.New("TLS config is required for QUIC orchestrator client")
	}
	// S'assurer que l'ALPN est correctement configuré pour cette communication spécifique
	commsSpecificTLSConf := tlsConf.Clone() // Cloner pour ne pas affecter la config partagée
	commsSpecificTLSConf.NextProtos = []string{QuicCommsALPN()}

	if logger == nil {
		logger = slog.Default()
	}
	if writerFactory == nil { // Fournir des factories par défaut si nil
		writerFactory = func(w io.Writer, l *slog.Logger) framing.Writer {
			return framing.NewMessageWriter(w, l)
		}
	}
	if readerFactory == nil {
		readerFactory = func(r io.Reader, l *slog.Logger) framing.Reader {
			return framing.NewMessageReader(r, l)
		}
	}

	return &quicCommsImpl{
		orchestratorAddress: orchestratorAddress,
		tlsConfig:           commsSpecificTLSConf,
		quicConfig: &quic.Config{
			MaxIdleTimeout:       30 * time.Second,
			HandshakeIdleTimeout: 10 * time.Second,
			KeepAlivePeriod:      15 * time.Second, // Utile pour maintenir la connexion
		},
		logger:        logger.With("component", "quic_orchestrator_comms", "orch_addr", orchestratorAddress),
		writerFactory: writerFactory,
		readerFactory: readerFactory,
	}, nil
}

// Connect établit la connexion QUIC. Appelée par getConnection si nécessaire.
func (qc *quicCommsImpl) Connect(ctx context.Context, addr string) error {
	qc.connMu.Lock()
	// Si une connexion existe et est active, la réutiliser
	if qc.conn != nil && qc.conn.Context().Err() == nil {
		qc.connMu.Unlock()
		qc.logger.Debug("Already connected to orchestrator.")
		return nil
	}
	// Si une connexion existait mais est morte, la fermer avant de retenter
	if qc.conn != nil {
		_ = qc.conn.CloseWithError(0, "stale connection, reconnecting") // Ignorer l'erreur de fermeture
		qc.conn = nil
	}
	qc.connMu.Unlock() // Libérer le verrou avant l'appel bloquant DialAddr

	qc.logger.Info("Attempting to connect to orchestrator...")
	// Utiliser le contexte fourni pour le Dial, avec un timeout potentiellement plus court que le ctx global du downloader
	dialCtx, dialCancel := context.WithTimeout(ctx, 15*time.Second) // Timeout pour l'opération de Dial
	defer dialCancel()

	conn, err := quic.DialAddr(dialCtx, qc.orchestratorAddress, qc.tlsConfig, qc.quicConfig)
	if err != nil {
		qc.logger.Error("Failed to dial orchestrator", "error", err)
		return fmt.Errorf("dial orchestrator at %s failed: %w", qc.orchestratorAddress, err)
	}

	qc.connMu.Lock()
	qc.conn = conn
	qc.connMu.Unlock()
	qc.logger.Info("Successfully connected to orchestrator.")
	return nil
}

// getConnection obtient une connexion active, en essayant de se connecter si nécessaire.
func (qc *quicCommsImpl) getConnection(ctx context.Context) (quic.Connection, error) {
	qc.connMu.Lock()
	if qc.conn != nil && qc.conn.Context().Err() == nil {
		conn := qc.conn
		qc.connMu.Unlock()
		return conn, nil
	}
	qc.connMu.Unlock()

	// Tenter de (re)connecter, Connect gère son propre lock interne pour qc.conn
	if err := qc.Connect(ctx, ""); err != nil {
		return nil, err
	}

	qc.connMu.Lock() // Reprendre le lock pour retourner qc.conn de manière sûre
	conn := qc.conn
	qc.connMu.Unlock()
	if conn == nil { // Ne devrait pas arriver si Connect a réussi
		return nil, errors.New("connection is nil after connect attempt")
	}
	return conn, nil
}

// doRequestResponse gère un échange requête/réponse simple sur un nouveau flux.
func (qc *quicCommsImpl) doRequestResponse(
	ctx context.Context, // Contexte pour l'ensemble de l'opération req/resp
	purposeValue qwrappb.StreamPurposeRequest_Purpose,
	planIDContext string, // PlanID pour le StreamPurposeRequest si applicable
	requestMsg proto.Message, // Le message de requête applicatif (peut être nil)
	responseMsg proto.Message, // Le message de réponse applicatif à peupler (peut être nil)
) error {
	conn, err := qc.getConnection(ctx) // Assure une connexion active
	if err != nil {
		return fmt.Errorf("failed to get connection for %v: %w", purposeValue, err)
	}

	// Utiliser un sous-contexte avec timeout pour l'ouverture du flux et les I/O
	streamCtx, streamCancel := context.WithTimeout(ctx, 15*time.Second) // Timeout pour cette transaction
	defer streamCancel()

	stream, err := conn.OpenStreamSync(streamCtx)
	if err != nil {
		// Si OpenStreamSync échoue, la connexion est peut-être mauvaise. Invalider.
		qc.invalidateConnection("open stream failed")
		return fmt.Errorf("failed to open stream for %v: %w", purposeValue, err)
	}
	defer stream.Close() // S'assurer que le flux est fermé

	logger := qc.logger.With("stream_id", stream.StreamID(), "purpose", purposeValue)
	writer := qc.writerFactory(stream, logger)
	reader := qc.readerFactory(stream, logger)

	// 1. Envoyer le StreamPurposeRequest
	purposeWrapper := &qwrappb.StreamPurposeRequest{Purpose: purposeValue, PlanIdContext: planIDContext}
	if err := writer.WriteMsg(streamCtx, purposeWrapper); err != nil { // Utiliser streamCtx
		return fmt.Errorf("failed to write stream purpose %v: %w", purposeValue, err)
	}

	// 2. Envoyer le message de requête applicatif (si fourni)
	if requestMsg != nil {
		if err := writer.WriteMsg(streamCtx, requestMsg); err != nil {
			return fmt.Errorf("failed to write request message for %v: %w", purposeValue, err)
		}
	}

	// À ce stade, le client a fini d'écrire pour une requête/réponse simple.
	// L'orchestrateur lira la/les requête(s) puis enverra sa réponse.
	// Fermer la partie écriture du flux du client n'est pas simple avec l'API quic-go stream.
	// stream.Close() ferme les deux côtés. On se fie à la lecture de la réponse.

	// 3. Lire le message de réponse applicatif (si attendu)
	if responseMsg != nil {
		if err := reader.ReadMsg(streamCtx, responseMsg); err != nil { // Utiliser streamCtx
			if errors.Is(err, io.EOF) && purposeValue == qwrappb.StreamPurposeRequest_CLIENT_REPORT {
				// Pour ClientReport, un EOF après l'envoi est normal, pas de contenu de réponse attendu.
				logger.Debug("EOF received after sending ClientReport, as expected.")
				return nil
			}
			return fmt.Errorf("failed to read response message for %v: %w", purposeValue, err)
		}
	}
	return nil
}

func (qc *quicCommsImpl) RequestInitialPlan(ctx context.Context, req *qwrappb.TransferRequest) (*qwrappb.TransferPlan, error) {
	qc.logger.Info("Requesting initial plan from orchestrator", "request_id", req.RequestId)
	resp := &qwrappb.TransferPlan{}
	// doRequestResponse utilise déjà les factories pour reader/writer
	err := qc.doRequestResponse(ctx, qwrappb.StreamPurposeRequest_TRANSFER_REQUEST, "", req, resp)
	if err != nil {
		return nil, fmt.Errorf("RequestInitialPlan stream/comms failed: %w", err)
	}
	if resp.ErrorMessage != "" {
		qc.logger.Error("Orchestrator returned an error in TransferPlan", "plan_id", resp.PlanId, "client_request_id", resp.ClientRequestId, "error_msg", resp.ErrorMessage)
		return resp, fmt.Errorf("orchestrator error for request %s: %s", resp.ClientRequestId, resp.ErrorMessage)
	}
	qc.logger.Info("Initial plan received successfully from orchestrator", "plan_id", resp.PlanId, "num_assignments", len(resp.ChunkAssignments))
	return resp, nil
}

func (qc *quicCommsImpl) ReportTransferStatus(ctx context.Context, report *qwrappb.ClientReport) error {
	qc.logger.Debug("Reporting transfer status", "plan_id", report.PlanId, "num_chunk_statuses", len(report.ChunkStatuses))
	// Pas de message de réponse attendu pour un rapport, responseMsg est nil
	err := qc.doRequestResponse(ctx, qwrappb.StreamPurposeRequest_CLIENT_REPORT, report.PlanId, report, nil)
	if err != nil {
		return fmt.Errorf("ReportTransferStatus failed: %w", err)
	}
	return nil
}

func (qc *quicCommsImpl) ListenForUpdatedPlans(ctx context.Context, planID string, updatedPlanChan chan<- *qwrappb.UpdatedTransferPlan) error {
	conn, err := qc.getConnection(ctx) // Assurer une connexion active
	if err != nil {
		return fmt.Errorf("cannot register for plan updates, connection failed: %w", err)
	}

	// Utiliser le contexte parent (ctx) pour OpenStreamSync, car ce flux est long-lived.
	// Le timeout pour l'ouverture elle-même peut être plus court.
	openCtx, openCancel := context.WithTimeout(ctx, 10*time.Second)
	updateStream, err := conn.OpenStreamSync(openCtx)
	openCancel()
	if err != nil {
		qc.invalidateConnection("open stream for plan updates failed")
		return fmt.Errorf("failed to open stream for plan updates (plan %s): %w", planID, err)
	}
	qc.logger.Info("Opened stream for plan updates", "plan_id", planID, "stream_id", updateStream.StreamID())

	logger := qc.logger.With("plan_id", planID, "update_stream_id", updateStream.StreamID())
	writer := qc.writerFactory(updateStream, logger) // Pour envoyer la requête d'enregistrement

	// 1. Envoyer la requête StreamPurposeRequest pour s'enregistrer
	regReq := &qwrappb.StreamPurposeRequest{
		Purpose:       qwrappb.StreamPurposeRequest_REGISTER_FOR_PLAN_UPDATES,
		PlanIdContext: planID,
	}
	// Utiliser le contexte du stream (ctx) pour l'écriture de la requête d'enregistrement.
	// Si le stream se ferme, ctx sera annulé.
	writePurposeCtx, writePurposeCancel := context.WithTimeout(ctx, 5*time.Second)
	err = writer.WriteMsg(writePurposeCtx, regReq)
	writePurposeCancel()
	if err != nil {
		_ = updateStream.Close() // Fermer le stream si l'enregistrement échoue
		return fmt.Errorf("failed to send register for plan updates request (plan %s): %w", planID, err)
	}
	qc.logger.Debug("Sent registration request for plan updates", "plan_id", planID)
	// Le client a fini d'écrire sur ce flux. L'orchestrateur va maintenant pousser des messages.

	// 2. Lancer une goroutine pour lire continuellement les UpdatedTransferPlan
	go func() {
		// Le defer updateStream.Close() est crucial pour nettoyer quand la goroutine se termine
		// (soit par ctx.Done(), soit par une erreur de lecture fatale).
		defer updateStream.Close()
		defer qc.logger.Info("Plan update listener goroutine stopped", "plan_id", planID, "stream_id", updateStream.StreamID())
		defer close(updatedPlanChan)
		reader := qc.readerFactory(updateStream, qc.logger.With("plan_id", planID, "update_stream_id", updateStream.StreamID())) // Reader pour ce flux

		for {
			select {
			case <-ctx.Done(): // Contexte du Downloader (ou du client principal) annulé
				qc.logger.Info("Plan update listener stopping due to parent context cancellation", "plan_id", planID)
				updateStream.CancelRead(quic.StreamErrorCode(0)) // Signaler à l'autre bout
				return
			default:
			}

			var planUpdate qwrappb.UpdatedTransferPlan
			// Lire avec le contexte du stream. Si le stream est fermé par le serveur ou la connexion meurt,
			// ctx (le contexte de la goroutine RegisterForPlanUpdates) sera annulé.
			// ReadMsg doit respecter ce contexte.
			errRead := reader.ReadMsg(ctx, &planUpdate) // Utiliser le contexte `ctx` de la goroutine

			if errRead != nil {
				logFields := []any{"plan_id", planID, "stream_id", updateStream.StreamID(), "error", errRead}
				if !(errors.Is(errRead, io.EOF) || errors.Is(errRead, context.Canceled) || strings.Contains(errRead.Error(), "connection is closed") || strings.Contains(errRead.Error(), "stream reset")) {
					qc.logger.Error("Error reading updated plan from stream, stopping listener.", "plan_id", planID, "error", errRead)
				} else if _, ok := errRead.(*quic.IdleTimeoutError); ok {
					qc.logger.Warn("Plan update stream idle timeout while reading", logFields...)
				} else if appErr, ok := errRead.(*quic.ApplicationError); ok {
					qc.logger.Warn("Plan update stream closed by orchestrator with application error", append([]any{"app_error_code", appErr.ErrorCode}, logFields...)...)
				} else {
					qc.logger.Info("Plan update stream ended or context cancelled while reading.", "plan_id", planID, "error", errRead)
				}
				return // Sortir de la goroutine
			}

			qc.logger.Debug("Client received updated plan from orchestrator", "plan_id", planUpdate.PlanId, "num_new_assign", len(planUpdate.NewOrUpdatedAssignments))
			select {
			case updatedPlanChan <- &planUpdate: // Envoyer au channel du Downloader
			case <-ctx.Done():
				qc.logger.Info("Context cancelled while sending updated plan to internal channel", "plan_id", planID)
				return
			case <-time.After(2 * time.Second): // Éviter de bloquer indéfiniment si le downloader est coincé
				qc.logger.Warn("Timeout sending updated plan to downloader's internal channel, dropping update.", "plan_id", planID)
			}
		}
	}()
	return nil
}

func (qc *quicCommsImpl) Close() error {
	qc.connMu.Lock()
	defer qc.connMu.Unlock()
	if qc.conn != nil {
		// Utiliser un code d'erreur applicatif et un message pour une fermeture normale.
		err := qc.conn.CloseWithError(quic.ApplicationErrorCode(0), "client orchestrator communication closed")
		qc.conn = nil // Important pour forcer une reconnexion si Connect est rappelé
		qc.logger.Info("Closed connection to orchestrator.")
		if err != nil && !strings.Contains(err.Error(), "closing an already closed connection") { // quic-go peut retourner cette erreur
			return fmt.Errorf("error closing orchestrator connection: %w", err)
		}
		return nil
	}
	return errors.New("connection already closed or never established")
}

// invalidateConnection ferme la connexion actuelle pour forcer une reconnexion au prochain appel.
func (qc *quicCommsImpl) invalidateConnection(reason string) {
	qc.connMu.Lock()
	if qc.conn != nil {
		qc.logger.Warn("Invalidating orchestrator connection", "reason", reason)
		_ = qc.conn.CloseWithError(quic.ApplicationErrorCode(1), "invalidating connection: "+reason) // Code d'erreur applicatif
		qc.conn = nil
	}
	qc.connMu.Unlock()
}

var _ Comms = (*quicCommsImpl)(nil) // Vérification de l'interface


# ===== FILE: internal/client/orchestratorclient/noop_comms.go =====
package orchestratorclient

import (
	"context"
	"errors"
	"log/slog"
	"time"

	"qwrap/pkg/qwrappb"
)

type noopComms struct {
	logger    *slog.Logger
	connected bool
}

// NewNoOpComms crée une implémentation factice de Comms.
func NewNoOpComms(logger *slog.Logger) Comms {
	if logger == nil {
		logger = slog.Default()
	}
	return &noopComms{logger: logger.With("component", "noop_orchestrator_comms")}
}

func (n *noopComms) Connect(ctx context.Context, orchestratorAddress string) error {
	n.logger.Info("NO-OP: Connect called", "address", orchestratorAddress)
	n.connected = true
	return nil
}

func (n *noopComms) ReportTransferStatus(ctx context.Context, report *qwrappb.ClientReport) error {
	if !n.connected {
		return errors.New("noopComms: not connected")
	}
	n.logger.Info("NO-OP: ReportTransferStatus called", "plan_id", report.PlanId, "num_statuses", len(report.ChunkStatuses))
	// Simuler un petit délai
	select {
	case <-time.After(50 * time.Millisecond):
	case <-ctx.Done():
		return ctx.Err()
	}
	return nil
}

func (n *noopComms) ListenForUpdatedPlans(ctx context.Context, planID string, updatedPlanChan chan<- *qwrappb.UpdatedTransferPlan) error {
	if !n.connected {
		return errors.New("noopComms: not connected")
	}
	n.logger.Info("NO-OP: RegisterForPlanUpdates called, will do nothing.", "plan_id", planID)
	// Pour éviter que le select dans le downloader ne bloque indéfiniment si ce channel n'est jamais fermé,
	// on lance une goroutine qui se termine avec le contexte.
	go func() {
		<-ctx.Done()
		n.logger.Debug("NO-OP: Plan update listener goroutine exiting due to context", "plan_id", planID)
		// Ne pas fermer updatedPlanChan ici, c'est la responsabilité de l'appelant de ListenForUpdatedPlans
		// ou du select qui le consomme de gérer sa fermeture.
		// Cependant, pour un mock, on pourrait le fermer pour signaler la fin.
		// Pour être plus réaliste, on ne le ferme pas ici.
	}()
	return nil
}

func (n *noopComms) RequestInitialPlan(ctx context.Context, req *qwrappb.TransferRequest) (*qwrappb.TransferPlan, error) {
	if !n.connected {
		return nil, errors.New("noopComms: not connected")
	}
	n.logger.Info("NO-OP: RequestInitialPlan called", "request_id", req.RequestId)
	// Retourner un plan factice pour permettre au downloader de démarrer
	// Dans une vraie implémentation, ce serait un appel QUIC.
	time.Sleep(100 * time.Millisecond) // Simuler la latence réseau
	if ctx.Err() != nil {
		return nil, ctx.Err()
	}

	// Créer un plan factice minimal
	if len(req.FilesToTransfer) == 0 {
		return nil, errors.New("no files in transfer request")
	}
	fm := req.FilesToTransfer[0]
	return &qwrappb.TransferPlan{
		PlanId:             "mock-plan-" + fm.FileId,
		ClientRequestId:    req.RequestId,
		SourceFileMetadata: []*qwrappb.FileMetadata{fm},
		DefaultChunkSize:   1024 * 1024, // 1MB
		ChunkAssignments:   []*qwrappb.ChunkAssignment{
			// Ajouter une ou deux assignations factices si fm.TotalSize le permet
			// Pour cela, il faudrait un agent factice connu.
			// Laissons vide pour l'instant, le downloader devrait gérer un plan vide.
			// Ou mieux, retourner une erreur si on ne peut pas faire un plan utile.
		},
		Options: req.Options,
	}, nil
}

func (n *noopComms) Close() error {
	n.logger.Info("NO-OP: Close called")
	n.connected = false
	return nil
}

// S'assurer que noopComms implémente bien Comms
var _ Comms = (*noopComms)(nil)


# ===== FILE: internal/agent/chunk_server_test.go =====
package chunkserver

import (
	"crypto/tls"
	"log/slog"
	"os"
	"path/filepath"
	"testing"

	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
)

func TestNewChunkServer_LoadInventory_Success(t *testing.T) {
	testDir, err := os.MkdirTemp("", "chunk-server-test-*")
	require.NoError(t, err)
	defer os.RemoveAll(testDir)

	// 1. Create a dummy inventory.json
	inventoryPath := filepath.Join(testDir, "inventory.json")

	inventoryJSON := []byte(`{
		"file1.dat": {
			"portions": [
				{
					"global_file_id": "file1.dat",
					"path_on_disk": "file1.dat.part_0",
					"chunk_index_start": 0,
					"num_chunks": 10,
					"chunk_size": 1024,
					"offset": 0
				}
			],
			"file_size": 10240
		}
	}`)
	err = os.WriteFile(inventoryPath, inventoryJSON, 0644)
	require.NoError(t, err)

	// 2. Create the ChunkServer
	logger := slog.New(slog.NewTextHandler(os.Stdout, nil))
	config := ChunkServerConfig{
		ListenAddr:  ":0", // Use a random port for testing
		BaseDataDir: testDir,
		AgentId:     "test-agent",
		TLSConfig:   &tls.Config{ /* Dummy config for test */ },
		Logger:      logger,
	}

	server, err := NewChunkServer(config)
	require.NoError(t, err)
	require.NotNil(t, server)

	// 3. Verify the inventory was loaded correctly
	impl := server.(*chunkServerImpl)
	data, ok := impl.inventory.GetFileMetadata("file1.dat")
	require.True(t, ok)
	portions := data.Portions
	require.Len(t, portions, 1)
	assert.Equal(t, "file1.dat.part_0", portions[0].PathOnDisk)
	assert.Equal(t, uint64(0), portions[0].ChunkIndexStart)
}

func TestNewChunkServer_NoInventoryFile(t *testing.T) {
	testDir, err := os.MkdirTemp("", "chunk-server-no-inventory-*")
	require.NoError(t, err)
	defer os.RemoveAll(testDir)

	// 1. Setup config without creating an inventory.json file
	logger := slog.New(slog.NewTextHandler(os.Stdout, nil))
	config := ChunkServerConfig{
		ListenAddr:  ":0",
		BaseDataDir: testDir,
		AgentId:     "test-agent-no-inventory",
		TLSConfig:   &tls.Config{},
		Logger:      logger,
	}

	// 2. Create the ChunkServer
	server, err := NewChunkServer(config)

	// 3. Verify server is created without error and inventory is empty
	require.NoError(t, err)
	require.NotNil(t, server)

	impl := server.(*chunkServerImpl)
	assert.NotNil(t, impl.inventory)
	// Check that the internal map is empty
	impl.inventory.mu.RLock()
	defer impl.inventory.mu.RUnlock()
	assert.Empty(t, impl.inventory.fileMetadata)
}

func TestNewChunkServer_MalformedInventory(t *testing.T) {
	testDir, err := os.MkdirTemp("", "chunk-server-malformed-*")
	require.NoError(t, err)
	defer os.RemoveAll(testDir)

	// 1. Create a malformed inventory.json
	inventoryPath := filepath.Join(testDir, "inventory.json")
	malformedJSON := []byte(`{"file1.dat": [{"global_file_id": "file1.dat",]}`)
	err = os.WriteFile(inventoryPath, malformedJSON, 0644)
	require.NoError(t, err)

	// 2. Setup config
	logger := slog.New(slog.NewTextHandler(os.Stdout, nil))
	config := ChunkServerConfig{
		ListenAddr:  ":0",
		BaseDataDir: testDir,
		AgentId:     "test-agent-malformed",
		TLSConfig:   &tls.Config{},
		Logger:      logger,
	}

	// 3. Attempt to create the ChunkServer and expect an error
	_, err = NewChunkServer(config)
	require.Error(t, err)
	assert.Contains(t, err.Error(), "failed to unmarshal inventory JSON")
}


# ===== FILE: internal/agent/chunk_server.go =====
package chunkserver

import (
	"context"
	"crypto/tls"
	"encoding/json"
	"errors"
	"fmt"
	"io"
	"log/slog"
	"net"
	"os"
	"path/filepath"
	"strings" // Pour strings.HasPrefix et la validation de chemin
	"sync"
	"time"

	"qwrap/internal/framing"
	"qwrap/pkg/qwrappb" // Assurez-vous que le chemin est correct

	"github.com/quic-go/quic-go"
	"google.golang.org/protobuf/types/known/timestamppb"
	// Pour le cache (exemple)
	// lru "github.com/hashicorp/golang-lru/v2/simplelru"
	// Pour la limitation de bande passante (exemple)
	// "golang.org/x/time/rate"
)

var (
	ErrServerClosed            = errors.New("chunk server is closed")
	ErrFileNotFoundOnAgent     = errors.New("file not found on agent")                             // Renommé pour clarté
	ErrChunkRequestOutOfBounds = errors.New("requested chunk range is out of bounds for the file") // Renommé
	ErrInvalidChunkRange       = errors.New("invalid chunk range or size in request")
	ErrReadFailedOnAgent       = errors.New("failed to read chunk data from disk on agent") // Renommé
	ErrPathTraversalAttempt    = errors.New("path traversal attempt detected")
	ErrFileNotFound            = errors.New("file not found on agent")
	ErrChunkOutOfBounds        = errors.New("chunk ID is out of bounds for the file")
	ErrReadFailed              = errors.New("failed to read chunk data from disk")
	ErrRateLimitExceeded       = errors.New("rate limit exceeded")          // Pour le futur
	ErrAuthFailed              = errors.New("client authentication failed") // Pour le futur
	// ErrRateLimitExceeded = errors.New("rate limit exceeded") // Pour le futur
	// ErrAuthFailed        = errors.New("client authentication failed") // Pour le futur
)

const (
	defaultReadTimeout  = 30 * time.Second
	defaultWriteTimeout = 30 * time.Second // Timeout pour l'envoi du chunk
	// defaultStreamCreationTimeout = 5 * time.Second // Moins utilisé directement ici
	alpnProtocol = "qwrap"
)

// ChunkServerConfig (Identique à votre version précédente, je la garde pour la complétude du fichier)
type ChunkServerConfig struct {
	ListenAddr   string
	BaseDataDir  string
	TLSConfig    *tls.Config
	ReadTimeout  time.Duration
	WriteTimeout time.Duration
	// DefaultChunkSize int64 // <<<< Moins pertinent maintenant que ChunkRequest contient ByteRange
	AgentId              string
	Logger               *slog.Logger
	MessageWriterFactory func(w io.Writer, l *slog.Logger) framing.Writer
	MessageReaderFactory func(r io.Reader, l *slog.Logger) framing.Reader
}

func (c *ChunkServerConfig) setDefaults() {
	if c.ReadTimeout <= 0 {
		c.ReadTimeout = defaultReadTimeout
	}
	if c.WriteTimeout <= 0 {
		c.WriteTimeout = defaultWriteTimeout
	}
	if c.Logger == nil {
		c.Logger = slog.Default().With("component", "chunkserver")
	}
	if c.TLSConfig == nil {
		panic("TLSConfig is mandatory for ChunkServer")
	}
	if c.AgentId == "" {
		panic("AgentID is mandatory for ChunkServerConfig")
	} // Rendre obligatoire

	// ALPN pour le serveur de chunks
	foundALPN := false
	for _, p := range c.TLSConfig.NextProtos {
		if p == alpnProtocol {
			foundALPN = true
			break
		}
	}
	if !foundALPN {
		c.TLSConfig.NextProtos = append(c.TLSConfig.NextProtos, alpnProtocol)
	}

	if c.MessageWriterFactory == nil {
		c.MessageWriterFactory = func(w io.Writer, l *slog.Logger) framing.Writer { /* ... */
			return framing.NewMessageWriter(w, l.With("sub", "cs_msg_writer"))
		}
	}
	if c.MessageReaderFactory == nil {
		c.MessageReaderFactory = func(r io.Reader, l *slog.Logger) framing.Reader { /* ... */
			return framing.NewMessageReader(r, l.With("sub", "cs_msg_reader"))
		}
	}
}

// ChunkProvider (Identique à votre version précédente)
type ChunkProvider interface {
	GetFileMetadata(fileID string) (size int64, modTime time.Time, err error)
	GetFileReadSeeker(fileID string) (io.ReadSeekCloser, error)
}

type diskFileProvider struct {
	baseDataDir string
	logger      *slog.Logger
}

func NewDiskFileProvider(baseDir string, logger *slog.Logger) ChunkProvider {
	if logger == nil {
		logger = slog.Default().With("component", "disk_file_provider")
	}
	return &diskFileProvider{
		baseDataDir: baseDir,
		logger:      logger,
	}
}

// getSafeFilePath nettoie et valide le chemin du fichier.
func (p *diskFileProvider) getSafeFilePath(fileID string) (string, error) {
	if strings.Contains(fileID, "..") {
		p.logger.Warn("Potential path traversal attempt with '..'", "raw_file_id", fileID)
		return "", ErrPathTraversalAttempt
	}
	if filepath.IsAbs(fileID) {
		p.logger.Warn("Potential path traversal with absolute path", "raw_file_id", fileID)
		return "", ErrPathTraversalAttempt
	}

	absBaseDir, err := filepath.Abs(p.baseDataDir)
	if err != nil {
		p.logger.Error("Failed to get absolute path for baseDataDir", "base_dir", p.baseDataDir, "error", err)
		return "", fmt.Errorf("internal server error: could not resolve base data directory: %w", err)
	}

	// Join and clean the path.
	cleanedPath := filepath.Join(absBaseDir, fileID)

	// Final check to ensure the path is within the base directory.
	if !strings.HasPrefix(cleanedPath, absBaseDir) {
		p.logger.Warn("Path is outside the base directory after cleaning", "cleaned_path", cleanedPath, "base_dir", absBaseDir)
		return "", ErrPathTraversalAttempt
	}
	return cleanedPath, nil
}

func (p *diskFileProvider) GetFileMetadata(fileID string) (int64, time.Time, error) {
	safeFilePath, err := p.getSafeFilePath(fileID)
	if err != nil {
		return 0, time.Time{}, err
	}
	info, err := os.Stat(safeFilePath)
	if err != nil {
		if os.IsNotExist(err) {
			return 0, time.Time{}, ErrFileNotFound
		}
		return 0, time.Time{}, fmt.Errorf("stat file %s: %w", fileID, err)
	}
	return info.Size(), info.ModTime(), nil
}

func (p *diskFileProvider) GetFileReadSeeker(portionPathOnDisk string) (io.ReadSeekCloser, error) {
	safeFilePath, err := p.getSafeFilePath(portionPathOnDisk)
	if err != nil {
		return nil, err
	}
	file, err := os.Open(safeFilePath)
	if err != nil {
		if os.IsNotExist(err) {
			return nil, ErrFileNotFoundOnAgent
		}
		return nil, fmt.Errorf("open file %s for read: %w", portionPathOnDisk, err)
	}
	return file, nil
}

// InventoryData wraps the portions and includes the total file size.
type InventoryData struct {
	Portions  []*qwrappb.FilePortionInfo `json:"portions"`
	TotalSize int64                      `json:"file_size"`
}

type Inventory struct {
	mu           sync.RWMutex
	fileMetadata map[string]InventoryData
	portionMap   map[string]*qwrappb.FilePortionInfo
	logger       *slog.Logger
	filePath     string
}

func NewInventory(logger *slog.Logger, inventoryPath string) (*Inventory, error) {
	inv := &Inventory{
		fileMetadata: make(map[string]InventoryData),
		portionMap:   make(map[string]*qwrappb.FilePortionInfo),
		logger:       logger.With("component", "inventory"),
		filePath:     inventoryPath,
	}

	if err := inv.load(); err != nil {
		if !os.IsNotExist(err) {
			return nil, fmt.Errorf("failed to load inventory: %w", err)
		}
		inv.logger.Info("Inventory file not found, starting empty", "path", inventoryPath)
	} else {
		inv.logger.Info("Successfully loaded inventory from disk", "path", inv.filePath)
	}
	return inv, nil
}

func (inv *Inventory) load() error {
	inv.mu.Lock()
	defer inv.mu.Unlock()

	content, err := os.ReadFile(inv.filePath)
	if err != nil {
		return err // os.IsNotExist will be checked by the caller
	}

	if len(content) == 0 {
		inv.fileMetadata = make(map[string]InventoryData)
		return nil
	}

	var loadedInventory map[string]InventoryData
	if err := json.Unmarshal(content, &loadedInventory); err != nil {
		return fmt.Errorf("failed to unmarshal inventory JSON from %s: %w", inv.filePath, err)
	}

	inv.fileMetadata = loadedInventory
	inv.portionMap = make(map[string]*qwrappb.FilePortionInfo)
	for _, data := range inv.fileMetadata {
		for _, p := range data.Portions {
			inv.portionMap[p.PathOnDisk] = p
		}
	}
	return nil
}

func (inv *Inventory) GetFileMetadata(fileID string) (InventoryData, bool) {
	inv.mu.RLock()
	defer inv.mu.RUnlock()
	data, ok := inv.fileMetadata[fileID]
	return data, ok
}

func (inv *Inventory) GetPortionByPath(pathOnDisk string) (*qwrappb.FilePortionInfo, bool) {
	inv.mu.RLock()
	defer inv.mu.RUnlock()
	portion, ok := inv.portionMap[pathOnDisk]
	return portion, ok
}

type ChunkServer interface {
	Start(ctx context.Context) error
	Stop(ctx context.Context) error
	Addr() net.Addr
}

type chunkServerImpl struct {
	config    ChunkServerConfig
	listener  *quic.Listener
	inventory *Inventory
	provider  ChunkProvider
	wg        sync.WaitGroup
	mu        sync.Mutex
	closed    bool
}

func NewChunkServer(config ChunkServerConfig) (ChunkServer, error) {
	config.setDefaults()
	if config.AgentId == "" {
		return nil, errors.New("AgentID is mandatory in ChunkServerConfig")
	}
	if config.BaseDataDir == "" {
		return nil, errors.New("BaseDataDir is required")
	}

	inventoryPath := filepath.Join(config.BaseDataDir, "inventory.json")
	inventory, err := NewInventory(config.Logger, inventoryPath)
	if err != nil {
		return nil, fmt.Errorf("could not initialize inventory: %w", err)
	}

	provider := NewDiskFileProvider(config.BaseDataDir, config.Logger)

	return &chunkServerImpl{
		config:    config,
		inventory: inventory,
		provider:  provider,
	}, nil
}

func (s *chunkServerImpl) Start(ctx context.Context) error {
	s.mu.Lock()
	if s.listener != nil {
		s.mu.Unlock()
		return errors.New("server already started")
	}

	quicConf := &quic.Config{
		MaxIdleTimeout:       s.config.ReadTimeout + s.config.WriteTimeout + (5 * time.Second),
		HandshakeIdleTimeout: 10 * time.Second,
	}

	listener, err := quic.ListenAddr(s.config.ListenAddr, s.config.TLSConfig, quicConf)
	if err != nil {
		s.mu.Unlock()
		s.config.Logger.Error("Failed to start QUIC listener", "address", s.config.ListenAddr, "error", err)
		return fmt.Errorf("failed to listen on %s: %w", s.config.ListenAddr, err)
	}
	s.listener = listener
	s.closed = false
	s.mu.Unlock()

	s.config.Logger.Info("ChunkServer started, listening", "address", listener.Addr().String())

	s.wg.Add(1)
	go func() {
		defer s.wg.Done()
		<-ctx.Done()
		s.config.Logger.Info("Context cancelled, stopping ChunkServer listener...")
		s.mu.Lock()
		if s.listener != nil {
			if err := s.listener.Close(); err != nil && !errors.Is(err, net.ErrClosed) {
				s.config.Logger.Error("Error closing QUIC listener on context cancel", "error", err)
			}
			s.listener = nil
		}
		s.closed = true
		s.mu.Unlock()
	}()

	for {
		conn, err := listener.Accept(ctx)
		if err != nil {
			s.mu.Lock()
			isClosed := s.closed
			s.mu.Unlock()
			if isClosed || errors.Is(err, net.ErrClosed) || errors.Is(err, context.Canceled) {
				s.config.Logger.Info("ChunkServer listener accept loop ending.", "reason", err)
				return nil
			}
			s.config.Logger.Error("Failed to accept QUIC connection", "error", err)
			time.Sleep(100 * time.Millisecond)
			continue
		}
		s.config.Logger.Info("Accepted new QUIC connection", "remote_addr", conn.RemoteAddr().String())
		s.wg.Add(1)
		go s.handleConnection(ctx, conn)
	}
}

func (s *chunkServerImpl) Stop(ctx context.Context) error {
	s.mu.Lock()
	if s.closed {
		s.mu.Unlock()
		s.config.Logger.Info("ChunkServer Stop called but already closed.")
		return nil
	}
	s.closed = true
	listenerToClose := s.listener
	s.listener = nil
	s.mu.Unlock()
	s.config.Logger.Info("Stopping ChunkServer...")
	var err error
	if listenerToClose != nil {
		if e := listenerToClose.Close(); e != nil && !errors.Is(e, net.ErrClosed) {
			err = e
			s.config.Logger.Error("Error closing QUIC listener during Stop", "error", e)
		}
	}
	done := make(chan struct{})
	go func() { s.wg.Wait(); close(done) }()
	select {
	case <-done:
		s.config.Logger.Info("All active connections handled, ChunkServer stopped.")
	case <-ctx.Done():
		s.config.Logger.Warn("ChunkServer stop timed out", "error", ctx.Err())
		return ctx.Err()
	}
	return err
}

func (s *chunkServerImpl) Addr() net.Addr {
	s.mu.Lock()
	defer s.mu.Unlock()
	if s.listener == nil {
		return nil
	}
	return s.listener.Addr()
}

func (s *chunkServerImpl) handleConnection(parentCtx context.Context, conn quic.Connection) {
	defer s.wg.Done()
	defer func() {
		_ = conn.CloseWithError(quic.ApplicationErrorCode(0), "agent connection handler finished")
		s.config.Logger.Debug("Closed QUIC connection post-handling (agent)", "remote_addr", conn.RemoteAddr().String())
	}()
	s.config.Logger.Debug("Agent handling new connection", "remote_addr", conn.RemoteAddr().String())

	for {
		streamCtx, streamCancel := context.WithCancel(parentCtx)

		stream, err := conn.AcceptStream(streamCtx)
		if err != nil {
			streamCancel()
			if errors.Is(err, net.ErrClosed) || errors.Is(err, context.Canceled) || err == quic.ErrServerClosed || strings.Contains(err.Error(), "connection is closed") {
				s.config.Logger.Debug("Agent connection closed or context cancelled while accepting stream", "remote_addr", conn.RemoteAddr().String(), "error", err)
			} else {
				s.config.Logger.Error("Agent failed to accept stream on connection", "remote_addr", conn.RemoteAddr().String(), "error", err)
			}
			return
		}

		s.config.Logger.Debug("Agent accepted new stream on connection", "remote_addr", conn.RemoteAddr().String(), "stream_id", stream.StreamID())

		s.wg.Add(1)
		go s.dispatchStreamByType(streamCtx, streamCancel, stream, conn.RemoteAddr())
	}
}

func (s *chunkServerImpl) dispatchStreamByType(ctx context.Context, streamCancel context.CancelFunc, stream quic.Stream, remoteAddr net.Addr) {
	defer s.wg.Done()
	defer streamCancel()
	defer stream.Close()

	logger := s.config.Logger.With("remote_addr", remoteAddr.String(), "stream_id", stream.StreamID())
	msgReader := s.config.MessageReaderFactory(stream, logger)
	msgWriter := s.config.MessageWriterFactory(stream, logger)

	var purposeReq qwrappb.StreamPurposeRequest
	readPurposeCtx, readPurposeCancel := context.WithTimeout(ctx, s.config.ReadTimeout)
	defer readPurposeCancel()
	if err := msgReader.ReadMsg(readPurposeCtx, &purposeReq); err != nil {
		if errors.Is(err, io.EOF) || errors.Is(err, net.ErrClosed) || errors.Is(err, context.Canceled) || errors.Is(err, context.DeadlineExceeded) {
			logger.Debug("Stream closed or timed out before purpose received", "error", err)
		} else {
			logger.Error("Failed to read stream purpose", "error", err)
		}
		return
	}

	logger.Info("Received stream purpose", "purpose", purposeReq.GetPurpose())

	switch purposeReq.GetPurpose() {
	case qwrappb.StreamPurposeRequest_CHUNK_REQUEST:
		s.handleChunkRequest(ctx, stream, msgReader, msgWriter, remoteAddr)
	case qwrappb.StreamPurposeRequest_GET_FILE_METADATA_REQUEST:
		s.handleGetFileMetadataRequest(ctx, stream, msgReader, msgWriter, remoteAddr)
	default:
		logger.Warn("Agent received unhandled or unexpected stream purpose", "purpose", purposeReq.GetPurpose())
	}
}

func (s *chunkServerImpl) handleGetFileMetadataRequest(ctx context.Context, stream quic.Stream, reader framing.Reader, writer framing.Writer, remoteAddr net.Addr) {
	logger := s.config.Logger.With("handler", "GetFileMetadataRequest", "stream_id", stream.StreamID(), "remote_addr", remoteAddr.String())
	var req qwrappb.GetFileMetadataRequest

	readCtx, readCancel := context.WithTimeout(ctx, s.config.ReadTimeout)
	defer readCancel()
	if err := reader.ReadMsg(readCtx, &req); err != nil {
		logger.Error("Failed to read GetFileMetadataRequest payload", "error", err)
		return
	}
	logger.Info("Processing GetFileMetadataRequest", "request_id", req.RequestId, "file_id", req.FileId)

	if req.FileId == "" {
		logger.Warn("Invalid GetFileMetadataRequest: empty FileId")
		return
	}

	invData, ok := s.inventory.GetFileMetadata(req.FileId)
	var resp *qwrappb.GetFileMetadataResponse
	if !ok {
		logger.Warn("File not found in inventory for metadata request", "file_id", req.FileId)
		resp = &qwrappb.GetFileMetadataResponse{
			RequestId:    req.RequestId,
			AgentId:      s.config.AgentId,
			Found:        false,
			ErrorMessage: "File not found on agent",
		}
	} else {
		logger.Info("Found file in inventory for metadata request", "file_id", req.FileId)
		resp = &qwrappb.GetFileMetadataResponse{
			RequestId:         req.RequestId,
			AgentId:           s.config.AgentId,
			Found:             true,
			AvailablePortions: invData.Portions,
			GlobalFileMetadata: &qwrappb.FileMetadata{
				FileId:       req.FileId,
				TotalSize:    invData.TotalSize,
				LastModified: timestamppb.New(time.Now()), // Note: ModTime is not stored, using current time
			},
		}
	}

	writeCtx, writeCancel := context.WithTimeout(ctx, s.config.WriteTimeout)
	defer writeCancel()
	if err := writer.WriteMsg(writeCtx, resp); err != nil {
		logger.Error("Failed to send GetFileMetadataResponse", "request_id", req.RequestId, "error", err)
	} else {
		logger.Info("GetFileMetadataResponse sent", "request_id", req.RequestId, "found", resp.Found)
	}
}

func (s *chunkServerImpl) handleChunkRequest(ctx context.Context, stream quic.Stream, reader framing.Reader, writer framing.Writer, remoteAddr net.Addr) {
	logger := s.config.Logger.With("handler", "ClientChunkRequest", "stream_id", stream.StreamID(), "remote_addr", remoteAddr.String())

	var req qwrappb.ChunkRequest

	readReqCtx, readReqCancel := context.WithTimeout(ctx, s.config.ReadTimeout)
	errReadReq := reader.ReadMsg(readReqCtx, &req)
	readReqCancel()

	if errReadReq != nil {
		logger.Error("Failed to read ChunkRequest payload", "error", errReadReq)
		return
	}

	if req.ChunkInfoRequested == nil || req.ChunkInfoRequested.Range == nil {
		logger.Warn("Invalid ChunkRequest payload: missing ChunkInfoRequested or its Range field")
		return
	}
	requestedCI := req.ChunkInfoRequested
	logger.Info("Processing ChunkRequest from client",
		"file_id", requestedCI.FileId, "chunk_id", requestedCI.ChunkId,
		"offset", requestedCI.Range.Offset, "length", requestedCI.Range.Length)

	invData, ok := s.inventory.GetFileMetadata(requestedCI.FileId)
	if !ok {
		logger.Error("File not found in inventory for chunk request", "file_id", requestedCI.FileId)
		// Send error back to client
		return
	}

	offset := requestedCI.Range.Offset
	length := requestedCI.Range.Length

	if offset < 0 || length <= 0 || offset+length > invData.TotalSize {
		logger.Warn("Chunk request range is out of bounds for actual file size",
			"file_id", requestedCI.FileId, "req_offset", offset, "req_length", length, "actual_file_size", invData.TotalSize)
		// Send error back to client
		return
	}

	// Find the specific portion file that contains this byte range.
	// This is a simplified logic; a real implementation might need to span multiple portions.
	var targetPortion *qwrappb.FilePortionInfo
	for _, p := range invData.Portions {
		if offset >= p.Offset && (offset+length) <= (p.Offset+p.ChunkSize*int64(p.NumChunks)) {
			targetPortion = p
			break
		}
	}

	if targetPortion == nil {
		logger.Error("Could not find a portion on this agent that contains the requested byte range", "file_id", requestedCI.FileId, "offset", offset, "length", length)
		// Send error back to client
		return
	}

	file, err := s.provider.GetFileReadSeeker(targetPortion.PathOnDisk)
	if err != nil {
		logger.Error("Failed to open portion file on disk", "path", targetPortion.PathOnDisk, "error", err)
		// Send error back to client
		return
	}
	defer file.Close()

	readerAt, ok := file.(io.ReaderAt)
	if !ok {
		logger.Error("File handle does not support ReadAt", "path", targetPortion.PathOnDisk)
		// Send error back to client
		return
	}

	// The offset within the specific portion file
	relativeOffset := offset - targetPortion.Offset

	sectionReader := io.NewSectionReader(readerAt, relativeOffset, length)

	// Send the chunk data
	bytesWritten, err := io.CopyN(stream, sectionReader, length)
	if err != nil {
		logger.Error("Failed to write chunk data to stream", "bytes_written", bytesWritten, "error", err)
		return
	}

	logger.Info("Successfully sent chunk to client", "bytes_sent", bytesWritten)
}


# ===== FILE: internal/orchestrator/server/server.go =====
package server

import (
	"context"
	"crypto/tls"
	"errors"
	"fmt"
	"io"
	"log/slog"
	"net"
	"strings"
	"sync"
	"time"

	"qwrap/internal/framing"
	"qwrap/internal/orchestrator/scheduler" // Assurez-vous que le chemin est correct
	statemanager "qwrap/internal/orchestrator/state"

	"qwrap/pkg/qwrappb" // Assurez-vous que le chemin est correct

	"github.com/quic-go/quic-go"
)

const (
	orchestratorDefaultReadTimeout  = 30 * time.Second
	orchestratorDefaultWriteTimeout = 10 * time.Second
	alpnOrchestratorProtocol        = "qwrap-orchestrator" // Peut être le même "qwrap" ou spécifique
	alpnAgentOrchestratorComms      = "qwrap-agent-orch"
)

var (
	ErrOrchestratorServerClosed = errors.New("orchestrator server is closed")
)

// OrchestratorServerConfig contient la configuration du serveur Orchestrateur.
type OrchestratorServerConfig struct {
	ListenAddr string
	TLSConfig  *tls.Config // Configuration TLS pour le serveur QUIC
	Logger     *slog.Logger

	Scheduler    scheduler.Scheduler       // Dépendance injectée
	StateManager statemanager.StateManager // Dépendance injectée

	MessageWriterFactory func(io.Writer, *slog.Logger) framing.Writer
	MessageReaderFactory func(io.Reader, *slog.Logger) framing.Reader
	AgentClientTLSConfig *tls.Config
	MetadataQueryTimeout time.Duration
}

func (c *OrchestratorServerConfig) setDefaults() {
	if c.Logger == nil {
		c.Logger = slog.Default().With("component", "orchestrator_server")
	}
	if c.TLSConfig == nil {
		panic("TLSConfig is mandatory for OrchestratorServer")
	}
	if c.AgentClientTLSConfig == nil {
		c.Logger.Warn("AgentClientTLSConfig not provided, creating a default one (likely insecure for production).")
		c.AgentClientTLSConfig = &tls.Config{
			InsecureSkipVerify: true,                                 // ATTENTION: Pour tests locaux seulement!
			NextProtos:         []string{alpnAgentOrchestratorComms}, // ALPN que le ChunkServer de l'Agent attend
		}
	} else { // S'assurer que l'ALPN correct est là
		found := false
		for _, p := range c.AgentClientTLSConfig.NextProtos {
			if p == alpnAgentOrchestratorComms {
				found = true
				break
			}
		}
		if !found {
			c.AgentClientTLSConfig.NextProtos = append(c.AgentClientTLSConfig.NextProtos, alpnAgentOrchestratorComms)
		}
	}
	if len(c.TLSConfig.NextProtos) == 0 {
		c.TLSConfig.NextProtos = []string{alpnOrchestratorProtocol}
	} // else: s'assurer que le protocole est présent si NextProtos est déjà défini

	if c.Scheduler == nil {
		panic("Scheduler is mandatory for OrchestratorServer")
	}
	if c.StateManager == nil {
		panic("StateManager is mandatory for OrchestratorServer")
	}
	if c.MessageWriterFactory == nil {
		c.MessageWriterFactory = func(w io.Writer, l *slog.Logger) framing.Writer {
			return framing.NewMessageWriter(w, l.With("subcomponent", "msg_writer_orch"))
		}
	}
	if c.MessageReaderFactory == nil {
		c.MessageReaderFactory = func(r io.Reader, l *slog.Logger) framing.Reader {
			return framing.NewMessageReader(r, l.With("subcomponent", "msg_reader_orch"))
		}
	}
	if c.MetadataQueryTimeout <= 0 {
		c.MetadataQueryTimeout = 10 * time.Second // Timeout par défaut pour une requête de métadonnées à un agent
	}
}

// OrchestratorServer est le serveur principal de l'orchestrateur.
type OrchestratorServer struct {
	config   OrchestratorServerConfig
	listener *quic.Listener
	wg       sync.WaitGroup
	mu       sync.Mutex // Protège listener et closed
	closed   bool

	// Pour gérer les flux de mise à jour des plans clients
	// Clé: PlanID (ou peut-être ClientID si vous en avez un)
	// Valeur: un canal ou un writer direct vers le flux QUIC du client pour les UpdatedTransferPlan
	clientUpdateStreams map[string]quic.Stream // Attention à la gestion de la concurrence et du cycle de vie
	muClientStreams     sync.RWMutex
}

// NewOrchestratorServer crée une nouvelle instance du serveur Orchestrateur.
func NewOrchestratorServer(config OrchestratorServerConfig) (*OrchestratorServer, error) {
	config.setDefaults()
	return &OrchestratorServer{
		config:              config,
		clientUpdateStreams: make(map[string]quic.Stream),
	}, nil
}

// Start démarre le serveur QUIC de l'orchestrateur.
func (s *OrchestratorServer) Start(ctx context.Context) error {
	s.mu.Lock()
	if s.listener != nil {
		s.mu.Unlock()
		return errors.New("orchestrator server already started")
	}

	quicConf := &quic.Config{
		MaxIdleTimeout:       60 * time.Second, // Les connexions client/agent peuvent être plus longues
		HandshakeIdleTimeout: 10 * time.Second,
		// KeepAlivePeriod: ...
	}

	listener, err := quic.ListenAddr(s.config.ListenAddr, s.config.TLSConfig, quicConf)
	if err != nil {
		s.mu.Unlock()
		s.config.Logger.Error("Failed to start orchestrator QUIC listener", "address", s.config.ListenAddr, "error", err)
		return fmt.Errorf("listen on %s failed: %w", s.config.ListenAddr, err)
	}
	s.listener = listener
	s.closed = false
	s.mu.Unlock()

	s.config.Logger.Info("OrchestratorServer started", "address", listener.Addr().String())

	// Démarrer les tâches de fond du scheduler (si ce n'est pas déjà fait ailleurs)
	// s.config.Scheduler.StartBackgroundTasks(ctx) // Assumer que c'est géré par le main de l'orchestrateur

	s.wg.Add(1)
	go func() { // Goroutine d'arrêt
		defer s.wg.Done()
		<-ctx.Done()
		s.config.Logger.Info("OrchestratorServer context cancelled, stopping listener...")
		s.mu.Lock()
		if s.listener != nil {
			_ = s.listener.Close()
			s.listener = nil
		}
		s.closed = true
		s.mu.Unlock()
	}()

	for {
		conn, err := listener.Accept(ctx)
		if err != nil {
			s.mu.Lock()
			isClosed := s.closed
			s.mu.Unlock()
			if isClosed || errors.Is(err, net.ErrClosed) || errors.Is(err, context.Canceled) {
				s.config.Logger.Info("Orchestrator listener accept loop ending", "reason", err)
				return nil
			}
			s.config.Logger.Error("Failed to accept QUIC connection (orchestrator)", "error", err)
			time.Sleep(100 * time.Millisecond)
			continue
		}
		s.config.Logger.Info("Orchestrator accepted new QUIC connection", "remote_addr", conn.RemoteAddr().String())
		s.wg.Add(1)
		// Utiliser le contexte du serveur (ctx) pour la durée de vie de la connexion,
		// mais chaque flux aura son propre sous-contexte.
		go s.handleConnection(ctx, conn)
	}
}

// Stop arrête le serveur.
func (s *OrchestratorServer) Stop(ctx context.Context) error {
	s.mu.Lock()
	if s.closed {
		s.mu.Unlock()
		s.config.Logger.Info("OrchestratorServer Stop called but already closed.")
		return nil
	}
	s.closed = true
	listenerToClose := s.listener
	s.listener = nil
	s.mu.Unlock()
	s.config.Logger.Info("Stopping OrchestratorServer...")
	var err error
	if listenerToClose != nil {
		if e := listenerToClose.Close(); e != nil && !errors.Is(e, net.ErrClosed) {
			err = e
		}
	}
	done := make(chan struct{})
	go func() { s.wg.Wait(); close(done) }()
	select {
	case <-done:
		s.config.Logger.Info("OrchestratorServer all goroutines finished.")
	case <-ctx.Done():
		s.config.Logger.Warn("OrchestratorServer stop timed out.", "error", ctx.Err())
		return ctx.Err()
	}
	return err
}

func (s *OrchestratorServer) handleConnection(connCtx context.Context, conn quic.Connection) {
	defer s.wg.Done()
	defer conn.CloseWithError(0, "orchestrator connection handler finished")
	s.config.Logger.Debug("Orchestrator handling connection", "remote_addr", conn.RemoteAddr())

	for {
		// Accepter un nouveau flux (requête) de ce client/agent
		// Utiliser un contexte dérivé de celui de la connexion pour ce flux.
		streamCtx, streamCancel := context.WithCancel(connCtx)

		stream, err := conn.AcceptStream(streamCtx)
		if err != nil {
			streamCancel() // Important d'annuler le contexte du stream si Accept échoue
			if errors.Is(err, net.ErrClosed) || errors.Is(err, context.Canceled) || err == quic.ErrServerClosed || strings.Contains(err.Error(), "connection is closed") {
				s.config.Logger.Debug("Connection closed or context cancelled (orchestrator handleConnection)", "remote_addr", conn.RemoteAddr(), "error", err)
			} else if _, ok := err.(*quic.IdleTimeoutError); ok {
				s.config.Logger.Info("Orchestrator connection idle timeout", "remote_addr", conn.RemoteAddr().String())
			} else {
				s.config.Logger.Error("Failed to accept stream (orchestrator)", "remote_addr", conn.RemoteAddr(), "error", err)
			}
			return // Fin du traitement de cette connexion
		}
		s.config.Logger.Debug("Orchestrator accepted new stream", "remote_addr", conn.RemoteAddr(), "stream_id", stream.StreamID())

		// Laisser la goroutine handleStream gérer la fermeture de son propre streamCtx via streamCancel
		s.wg.Add(1)
		go s.routeStream(streamCtx, streamCancel, stream, conn.RemoteAddr())
	}
}

// routeStream essaie de déterminer le type de message et le route au bon handler.
// C'est une simplification. Un vrai système pourrait utiliser des types de flux QUIC différents
// ou un premier message sur le flux pour indiquer l'intention.
func (s *OrchestratorServer) routeStream(ctx context.Context, streamCancel context.CancelFunc, stream quic.Stream, remoteAddr net.Addr) {
	defer s.wg.Done()
	// Le streamCancel sera appelé ici, SAUF si un handler long-lived prend le relais.
	isLongLived := false
	defer func() {
		if !isLongLived { // Seulement si le handler n'a pas indiqué qu'il gérait le cycle de vie
			streamCancel() // Annuler le contexte spécifique au flux
			// if err := stream.Close(); err != nil && !errors.Is(err, net.ErrClosed) && !errors.Is(err, context.Canceled) {
			// 	var streamErr *quic.StreamError
			// 	if !errors.As(err, &streamErr) || (streamErr.ErrorCode != 0 && streamErr.Remote) {
			// 		s.config.Logger.Warn("Error closing stream in routeStream defer (non-long-lived)", "remote_addr", remoteAddr, "stream_id", stream.StreamID(), "error", err)
			// 	}
			// }
		}
	}()

	logger := s.config.Logger.With("remote_addr", remoteAddr, "stream_id", stream.StreamID())
	msgReader := s.config.MessageReaderFactory(stream, logger)
	msgWriter := s.config.MessageWriterFactory(stream, logger)

	// 1. Lire le StreamPurposeRequest
	var purposeReq qwrappb.StreamPurposeRequest
	if err := msgReader.ReadMsg(ctx, &purposeReq); err != nil {
		if errors.Is(err, io.EOF) || errors.Is(err, net.ErrClosed) || errors.Is(err, context.Canceled) {
			logger.Debug("Failed to read StreamPurposeRequest, stream closed or context cancelled", "error", err)
		} else {
			logger.Error("Failed to read StreamPurposeRequest", "error", err)
		}
		return // Ferme le stream via defer
	}
	logger.Info("Received StreamPurposeRequest", "purpose", purposeReq.Purpose, "plan_id_context", purposeReq.PlanIdContext)

	// 2. Router vers le handler approprié
	switch purposeReq.Purpose {
	case qwrappb.StreamPurposeRequest_TRANSFER_REQUEST:
		s.handleTransferRequest(ctx, stream, msgReader, msgWriter, remoteAddr)
	case qwrappb.StreamPurposeRequest_CLIENT_REPORT:
		s.handleClientReport(ctx, stream, msgReader, remoteAddr)
	case qwrappb.StreamPurposeRequest_REGISTER_FOR_PLAN_UPDATES:
		// Ce handler prendra en charge la vie du stream, donc on ne le fermera pas dans le defer de routeStream.
		isLongLived = true
		s.handleRegisterForPlanUpdates(ctx, stream, msgReader, purposeReq.PlanIdContext, remoteAddr, streamCancel) // Passer streamCancel pour que le handler puisse l'appeler
	case qwrappb.StreamPurposeRequest_AGENT_REGISTRATION:
		s.handleAgentRegistration(ctx, stream, msgReader, msgWriter, remoteAddr)
	case qwrappb.StreamPurposeRequest_AGENT_HEARTBEAT:
		s.handleAgentHeartbeat(ctx, stream, msgReader, remoteAddr)

	default:
		logger.Warn("Unknown or unsupported stream purpose", "purpose", purposeReq.Purpose)
		// Envoyer une erreur au client/agent ? Pour l'instant, on ferme juste.
	}
}

// --- Handlers Spécifiques (exemples, à appeler depuis routeStream ou handleConnection) ---
// discoverFileMetadataFromAgents - Version Réelle
func (s *OrchestratorServer) discoverFileMetadataFromAgents(ctx context.Context, fileID string, clientProvidedMeta *qwrappb.FileMetadata) (*qwrappb.FileMetadata, []*qwrappb.GetFileMetadataResponse, error) {
	logger := s.config.Logger.With("op", "discoverFileMetadata", "file_id", fileID)
	logger.Info("Attempting to discover file metadata by querying agents")

	_, listCancel := context.WithTimeout(ctx, 5*time.Second)    // Timeout pour obtenir la liste des agents
	availableAgents := s.config.Scheduler.ListAvailableAgents() // Renvoie []*scheduler.AgentInfo
	listCancel()

	if len(availableAgents) == 0 {
		logger.Warn("No agents available to query for file metadata")
		return nil, nil, scheduler.ErrNoAgentsAvailable
	}

	responseChan := make(chan *qwrappb.GetFileMetadataResponse, len(availableAgents))
	var wgDiscovery sync.WaitGroup

	// TLS Config pour se connecter aux agents (doit utiliser l'ALPN que les agents attendent, ex: "qwrap")
	agentSpecificTLSConfig := s.config.AgentClientTLSConfig.Clone() // Cloner pour ne pas modifier l'original
	// S'assurer que l'ALPN est celui du service de chunk des agents, pas celui de l'orchestrateur
	// Cet ALPN est celui que le ChunkServer de l'agent utilise.
	// La constante alpnAgentChunkService est définie dans cmd/agent/main.go ou un lieu partagé.
	const alpnForAgentChunkService = "qwrap"
	agentSpecificTLSConfig.NextProtos = []string{alpnForAgentChunkService}

	quicDialConfigToAgent := &quic.Config{
		MaxIdleTimeout:       s.config.MetadataQueryTimeout / 2, // Timeout plus court pour une simple requête de métadonnées
		HandshakeIdleTimeout: 5 * time.Second,
		KeepAlivePeriod:      0, // Pas besoin de keep-alive pour une requête courte
	}

	agentsQueriedCount := 0
	for _, agentInfo := range availableAgents {
		if agentInfo.Status == qwrappb.AgentStatus_AGENT_STATUS_ERROR || agentInfo.Status == qwrappb.AgentStatus_AGENT_STATUS_UNAVAILABLE {
			continue // Ne pas interroger les agents en erreur ou explicitement indisponibles
		}
		agentsQueriedCount++
		wgDiscovery.Add(1)
		go func(agInfo *scheduler.AgentInfo) {
			defer wgDiscovery.Done()
			l := logger.With("target_agent_id", agInfo.ID, "target_agent_addr", agInfo.Address)
			l.Debug("Querying agent for metadata")

			queryAgentCtx, queryAgentCancel := context.WithTimeout(ctx, s.config.MetadataQueryTimeout)
			defer queryAgentCancel()

			var agentConn quic.Connection
			var errDial error
			agentConn, errDial = quic.DialAddr(queryAgentCtx, agInfo.Address, agentSpecificTLSConfig, quicDialConfigToAgent)
			if errDial != nil {
				l.Warn("Failed to connect to agent for metadata query", "error", errDial)
				responseChan <- &qwrappb.GetFileMetadataResponse{AgentId: agInfo.ID, Found: false, ErrorMessage: "connect error: " + errDial.Error()}
				return
			}
			defer agentConn.CloseWithError(0, "metadata query session finished")

			stream, errStream := agentConn.OpenStreamSync(queryAgentCtx)
			if errStream != nil {
				l.Warn("Failed to open stream to agent for metadata query", "error", errStream)
				responseChan <- &qwrappb.GetFileMetadataResponse{AgentId: agInfo.ID, Found: false, ErrorMessage: "open stream error: " + errStream.Error()}
				return
			}
			defer stream.Close()

			// Utiliser les factories de l'OrchestratorServer, mais avec un logger contextuel
			writer := s.config.MessageWriterFactory(stream, l)
			reader := s.config.MessageReaderFactory(stream, l)

			// L'agent attend maintenant un StreamPurposeRequest
			purposeMsg := &qwrappb.StreamPurposeRequest{Purpose: qwrappb.StreamPurposeRequest_GET_FILE_METADATA_REQUEST}
			if errWritePurpose := writer.WriteMsg(queryAgentCtx, purposeMsg); errWritePurpose != nil {
				l.Warn("Failed to write metadata purpose to agent", "error", errWritePurpose)
				responseChan <- &qwrappb.GetFileMetadataResponse{AgentId: agInfo.ID, Found: false, ErrorMessage: "write purpose error: " + errWritePurpose.Error()}
				return
			}

			metaReq := &qwrappb.GetFileMetadataRequest{RequestId: "orch-meta-" + fileID + "-" + agInfo.ID, FileId: fileID}
			if errWriteReq := writer.WriteMsg(queryAgentCtx, metaReq); errWriteReq != nil {
				l.Warn("Failed to write metadata request to agent", "error", errWriteReq)
				responseChan <- &qwrappb.GetFileMetadataResponse{AgentId: agInfo.ID, Found: false, ErrorMessage: "write request error: " + errWriteReq.Error()}
				return
			}

			var metaResp qwrappb.GetFileMetadataResponse
			if errReadResp := reader.ReadMsg(queryAgentCtx, &metaResp); errReadResp != nil {
				l.Warn("Failed to read metadata response from agent", "error", errReadResp)
				responseChan <- &qwrappb.GetFileMetadataResponse{AgentId: agInfo.ID, Found: false, ErrorMessage: "read response error: " + errReadResp.Error()}
				return
			}
			if metaResp.AgentId == "" {
				metaResp.AgentId = agInfo.ID
			} // S'assurer que l'AgentID est là
			responseChan <- &metaResp
		}(agentInfo) // Passer agentInfo par valeur à la goroutine
	}

	go func() { wgDiscovery.Wait(); close(responseChan) }()

	if agentsQueriedCount == 0 {
		logger.Warn("No agents were actually suitable or available to query for metadata.")
		return nil, nil, errors.New("no agents suitable for metadata query")
	}

	var bestMeta *qwrappb.FileMetadata
	var allPortions []*qwrappb.FilePortionInfo
	var firstSuccessfulAgentID string
	var allErrors []string
	var allAgentResponses []*qwrappb.GetFileMetadataResponse

	for resp := range responseChan {
		allAgentResponses = append(allAgentResponses, resp)
		if resp.Found && resp.GlobalFileMetadata != nil && resp.GlobalFileMetadata.TotalSize > 0 {
			logger.Info("Received valid metadata from agent", "agent_id", resp.AgentId, "file_id", fileID, "size", resp.GlobalFileMetadata.TotalSize, "checksum", resp.GlobalFileMetadata.ChecksumValue, "portions_found", len(resp.AvailablePortions))

			// Aggregate portions
			if len(resp.AvailablePortions) > 0 {
				allPortions = append(allPortions, resp.AvailablePortions...)
			}

			if bestMeta == nil { // Take the first valid response for global metadata
				bestMeta = resp.GlobalFileMetadata
				firstSuccessfulAgentID = resp.AgentId
			} else { // Compare with the current best response for consistency
				if bestMeta.TotalSize != resp.GlobalFileMetadata.TotalSize {
					logger.Warn("Metadata size mismatch between agents", "file_id", fileID, "agent1", firstSuccessfulAgentID, "size1", bestMeta.TotalSize, "agent2", resp.AgentId, "size2", resp.GlobalFileMetadata.TotalSize)
					allErrors = append(allErrors, fmt.Sprintf("agent %s size %d vs agent %s size %d", firstSuccessfulAgentID, bestMeta.TotalSize, resp.AgentId, resp.GlobalFileMetadata.TotalSize))
				}
			}
		} else {
			logger.Warn("Agent reported file not found or metadata invalid", "agent_id", resp.AgentId, "found_flag", resp.Found, "agent_err_msg", resp.ErrorMessage)
			if resp.ErrorMessage != "" {
				allErrors = append(allErrors, fmt.Sprintf("agent %s: %s", resp.AgentId, resp.ErrorMessage))
			}
		}
	}

	if bestMeta == nil {
		errMsg := fmt.Sprintf("failed to discover valid metadata for '%s' from any agent", fileID)
		if len(allErrors) > 0 {
			errMsg += ". Agent reports: " + strings.Join(allErrors, "; ")
		}
		logger.Error(errMsg)
		return nil, nil, errors.New(errMsg)
	}

	// Fusionner avec les infos que le client aurait pu fournir (ex: CustomAttributes)
	// et s'assurer que le FileId est celui de la requête originale.
	finalMeta := &qwrappb.FileMetadata{
		FileId:            fileID, // Utiliser le FileID de la requête initiale
		TotalSize:         bestMeta.TotalSize,
		ChecksumAlgorithm: bestMeta.ChecksumAlgorithm,
		ChecksumValue:     bestMeta.ChecksumValue,
		LastModified:      bestMeta.LastModified,
	}
	if clientProvidedMeta != nil && len(clientProvidedMeta.CustomAttributes) > 0 {
		finalMeta.CustomAttributes = clientProvidedMeta.CustomAttributes
	}
	// On pourrait aussi fusionner les CustomAttributes de `bestMeta` si l'agent en fournit.

	logger.Info("Successfully resolved file metadata and portions", "file_id", fileID, "size", finalMeta.TotalSize, "total_portions_found", len(allPortions), "source_agent_id_for_meta", firstSuccessfulAgentID)
	return finalMeta, allAgentResponses, nil
}

func (s *OrchestratorServer) handleTransferRequest(ctx context.Context, stream quic.Stream, reader framing.Reader, writer framing.Writer, remoteAddr net.Addr) {
	logger := s.config.Logger.With("handler", "TransferRequest", "stream_id", stream.StreamID(), "remote_addr", remoteAddr.String())
	var clientReq qwrappb.TransferRequest

	readReqCtx, readReqCancel := context.WithTimeout(ctx, orchestratorDefaultReadTimeout)
	errReadReq := reader.ReadMsg(readReqCtx, &clientReq)
	readReqCancel()
	if errReadReq != nil {
		logger.Error("Failed to read TransferRequest", "error", errReadReq)
		// Ne pas tenter d'écrire une réponse si la lecture initiale échoue (flux potentiellement cassé)
		return
	}
	logger.Info("Processing TransferRequest", "request_id", clientReq.RequestId, "num_files", len(clientReq.FilesToTransfer))

	if len(clientReq.FilesToTransfer) == 0 || clientReq.FilesToTransfer[0] == nil || clientReq.FilesToTransfer[0].FileId == "" {
		logger.Error("Invalid TransferRequest: missing or empty FileId in FilesToTransfer")
		errResp := &qwrappb.TransferPlan{ClientRequestId: clientReq.RequestId, ErrorMessage: "Invalid request: FileId missing or malformed FilesToTransfer"}
		writeErrCtx, writeErrCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		_ = writer.WriteMsg(writeErrCtx, errResp) // Tenter d'envoyer l'erreur
		writeErrCancel()
		return
	}
	// Pour cette version, on ne gère que le premier fichier de la requête.
	requestedFileMetaFromClient := clientReq.FilesToTransfer[0]

	// 1. Discover Metadata AND Portions
	resolveCtx, resolveCancel := context.WithTimeout(ctx, 20*time.Second) // Timeout for discovery
	resolvedFileMeta, agentMetadata, errMeta := s.discoverFileMetadataFromAgents(resolveCtx, requestedFileMetaFromClient.FileId, requestedFileMetaFromClient)
	resolveCancel()
	if errMeta != nil {
		logger.Error("Failed to resolve file metadata by orchestrator", "file_id", requestedFileMetaFromClient.FileId, "error", errMeta)
		errResp := &qwrappb.TransferPlan{ClientRequestId: clientReq.RequestId, SourceFileMetadata: []*qwrappb.FileMetadata{requestedFileMetaFromClient}, ErrorMessage: "Orchestrator failed to get file details: " + errMeta.Error()}
		writeErrCtx, writeErrCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		_ = writer.WriteMsg(writeErrCtx, errResp)
		writeErrCancel()
		return
	}
	if resolvedFileMeta.TotalSize <= 0 { // L'orchestrateur doit s'assurer que la taille est valide
		errMsg := fmt.Sprintf("File '%s' reported by orchestrator as empty or with invalid size (%d)", resolvedFileMeta.FileId, resolvedFileMeta.TotalSize)
		logger.Error(errMsg)
		errResp := &qwrappb.TransferPlan{ClientRequestId: clientReq.RequestId, SourceFileMetadata: []*qwrappb.FileMetadata{resolvedFileMeta}, ErrorMessage: errMsg}
		writeErrCtx, writeErrCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		_ = writer.WriteMsg(writeErrCtx, errResp)
		writeErrCancel()
		return
	}

	// Utiliser les métadonnées résolues pour la suite.
	// On crée une requête interne pour le StateManager et le Scheduler qui contient ces métadonnées complètes.
	internalTransferReq := &qwrappb.TransferRequest{
		RequestId:       clientReq.RequestId,
		FilesToTransfer: []*qwrappb.FileMetadata{resolvedFileMeta}, // Utiliser les métadonnées résolues
		Options:         clientReq.Options,
	}

	// 2. Créer l'état initial du transfert dans StateManager
	planID, _, errSMCreate := s.config.StateManager.CreateTransfer(ctx, internalTransferReq)
	if errSMCreate != nil {
		logger.Error("Failed to create transfer state", "request_id", internalTransferReq.RequestId, "error", errSMCreate)
		errResp := &qwrappb.TransferPlan{ClientRequestId: internalTransferReq.RequestId, SourceFileMetadata: internalTransferReq.FilesToTransfer, ErrorMessage: "Orchestrator internal error (state creation): " + errSMCreate.Error()}
		writeErrCtx, writeErrCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		_ = writer.WriteMsg(writeErrCtx, errResp)
		writeErrCancel()
		return
	}
	logger.Info("Transfer state created in StateManager", "plan_id", planID)

	// 3. Mettre à jour le statut en PLANNING
	if errSMStatus := s.config.StateManager.UpdateTransferStatus(ctx, planID, statemanager.StatusPlanning); errSMStatus != nil {
		logger.Error("Failed to update transfer status to PLANNING", "plan_id", planID, "error", errSMStatus)
		_ = s.config.StateManager.UpdateTransferStatus(ctx, planID, statemanager.StatusFailed, "internal error during planning init") // Tenter de marquer échoué
		errResp := &qwrappb.TransferPlan{PlanId: planID, ClientRequestId: internalTransferReq.RequestId, SourceFileMetadata: internalTransferReq.FilesToTransfer, ErrorMessage: "Orchestrator internal error (status update): " + errSMStatus.Error()}
		writeErrCtx, writeErrCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		_ = writer.WriteMsg(writeErrCtx, errResp)
		writeErrCancel()
		return
	}

	// 4. Ask Scheduler to create the plan, now with portion info
	// NOTE: This anticipates a change in the Scheduler's interface
	schedulerPlan, errSched := s.config.Scheduler.CreateTransferPlan(ctx, planID, internalTransferReq, agentMetadata)
	if errSched != nil {
		logger.Error("Failed to create transfer plan from scheduler", "plan_id", planID, "error", errSched)
		_ = s.config.StateManager.UpdateTransferStatus(ctx, planID, statemanager.StatusFailed, errSched.Error())
		errResp := &qwrappb.TransferPlan{PlanId: planID, ClientRequestId: internalTransferReq.RequestId, SourceFileMetadata: internalTransferReq.FilesToTransfer, ErrorMessage: "Scheduler failed to create plan: " + errSched.Error()}
		writeErrCtx, writeErrCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		_ = writer.WriteMsg(writeErrCtx, errResp)
		writeErrCancel()
		return
	}
	// Sanity check: le scheduler doit utiliser le planID fourni
	if schedulerPlan.PlanId != planID {
		errMsg := "Internal orchestrator error: PlanID mismatch between StateManager and Scheduler"
		logger.Error(errMsg, "expected_plan_id", planID, "scheduler_plan_id", schedulerPlan.PlanId)
		_ = s.config.StateManager.UpdateTransferStatus(ctx, planID, statemanager.StatusFailed, errMsg)
		errResp := &qwrappb.TransferPlan{PlanId: planID, ClientRequestId: internalTransferReq.RequestId, SourceFileMetadata: internalTransferReq.FilesToTransfer, ErrorMessage: errMsg}
		writeErrCtx, writeErrCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		_ = writer.WriteMsg(writeErrCtx, errResp)
		writeErrCancel()
		return
	}
	logger.Info("Scheduler created transfer plan successfully", "plan_id", planID, "num_assignments", len(schedulerPlan.ChunkAssignments))

	// 5. Lier le plan du scheduler à l'état dans StateManager
	if errLink := s.config.StateManager.LinkSchedulerPlan(ctx, planID, schedulerPlan); errLink != nil {
		logger.Error("Failed to link scheduler plan to state", "plan_id", planID, "error", errLink)
		_ = s.config.StateManager.UpdateTransferStatus(ctx, planID, statemanager.StatusFailed, errLink.Error())
		errResp := &qwrappb.TransferPlan{PlanId: planID, ClientRequestId: internalTransferReq.RequestId, SourceFileMetadata: internalTransferReq.FilesToTransfer, ErrorMessage: "Orchestrator internal error (linking plan): " + errLink.Error()}
		writeErrCtx, writeErrCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		_ = writer.WriteMsg(writeErrCtx, errResp)
		writeErrCancel()
		return
	}
	// Le statut du transfert est maintenant IN_PROGRESS via LinkSchedulerPlan

	// 6. Renvoyer le schedulerPlan (qui est le qwrappb.TransferPlan complet) au client
	// Assurer que le SourceFileMetadata dans le plan envoyé au client est bien le `resolvedFileMeta`
	// schedulerPlan.SourceFileMetadata = []*qwrappb.FileMetadata{resolvedFileMeta} // Normalement déjà fait par CreateTransferPlan

	writePlanCtx, writePlanCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
	defer writePlanCancel()
	if errWrite := writer.WriteMsg(writePlanCtx, schedulerPlan); errWrite != nil {
		logger.Error("Failed to send successful TransferPlan to client", "plan_id", planID, "error", errWrite)
		// Le statut reste IN_PROGRESS dans le StateManager, le client pourrait retenter ? Ou timeout.
	} else {
		logger.Info("TransferPlan sent successfully to client", "plan_id", planID)
	}
}

func (s *OrchestratorServer) handleClientReport(ctx context.Context, stream quic.Stream, reader framing.Reader, remoteAddr net.Addr) {
	logger := s.config.Logger.With("handler", "ClientReport", "stream_id", stream.StreamID(), "remote_addr", remoteAddr)
	var report qwrappb.ClientReport
	if err := reader.ReadMsg(ctx, &report); err != nil {
		logger.Error("Failed to read ClientReport", "error", err)
		return
	}
	logger.Info("Processing ClientReport", "plan_id", report.PlanId, "num_statuses", len(report.ChunkStatuses))

	for _, cs := range report.ChunkStatuses {
		if cs == nil || cs.ChunkInfo == nil {
			continue
		}
		err := s.config.StateManager.UpdateChunkStatus(ctx, report.PlanId, cs.ChunkInfo.FileId, cs.ChunkInfo.ChunkId, cs.AgentId, cs.Event, cs.Details)
		if err != nil {
			logger.Error("Failed to update chunk status in StateManager", "plan_id", report.PlanId, "chunk_id", cs.ChunkInfo.ChunkId, "error", err)
			continue
		}

		isFailureEvent := cs.Event == qwrappb.TransferEvent_DOWNLOAD_FAILED_AGENT_UNREACHABLE ||
			cs.Event == qwrappb.TransferEvent_DOWNLOAD_FAILED_CHECKSUM_MISMATCH ||
			cs.Event == qwrappb.TransferEvent_DOWNLOAD_FAILED_TRANSFER_ERROR ||
			cs.Event == qwrappb.TransferEvent_REASSIGNMENT_REQUESTED

		if isFailureEvent {
			logger.Info("Failure/Reassignment_Req reported for chunk, notifying scheduler", "plan_id", report.PlanId, "chunk_id", cs.ChunkInfo.ChunkId, "agent_id", cs.AgentId, "event", cs.Event)

			if errSched := s.config.Scheduler.ReportAgentFailure(ctx, cs.AgentId, cs.ChunkInfo, cs.Details); errSched != nil {
				logger.Error("Scheduler failed to process agent failure report", "agent_id", cs.AgentId, "error", errSched)
			}

			needsReplan, newAssignments, errReplan := s.config.Scheduler.MaybeReplanChunk(ctx, report.PlanId, cs.ChunkInfo, cs.AgentId)
			if errReplan != nil {
				logger.Error("Error during chunk replanning decision", "plan_id", report.PlanId, "chunk_id", cs.ChunkInfo.ChunkId, "agent_id", cs.AgentId, "error", errReplan)
				if errors.Is(errReplan, scheduler.ErrNoAgentsAvailable) {
					// Pas d'agents pour replanifier. Marquer le chunk comme échec définitif dans StateManager.
					logger.Warn("No agents available to replan chunk, marking as permanently failed.", "plan_id", report.PlanId, "chunk_id", cs.ChunkInfo.ChunkId)
					// On pourrait avoir un événement spécifique pour cela.
					// Pour l'instant, REASSIGNMENT_REQUESTED avec un détail "no_agents" pourrait fonctionner,
					// ou un nouvel événement "DOWNLOAD_FAILED_NO_REPLAN_AGENTS".
					// L'important est que le StateManager comprenne que ce chunk ne sera plus tenté.
					// Alternativement, le client pourrait avoir un timeout pour les chunks en awaitingReassignment.
					// Pour l'instant, on ne fait rien de plus ici, le client attendra.
				}
				// Continuer avec les autres chunks dans le rapport.
			} else if needsReplan { // errReplan est nil ici
				if len(newAssignments) > 0 {
					logger.Info("Chunk replan successful, attempting to reassign in StateManager", "plan_id", report.PlanId, "chunk_id", cs.ChunkInfo.ChunkId, "new_primary_agent", newAssignments[0].AgentId)
					if errState := s.config.StateManager.ReassignChunk(ctx, report.PlanId, cs.ChunkInfo.FileId, cs.ChunkInfo.ChunkId, newAssignments); errState != nil {
						logger.Error("Failed to reassign chunk in StateManager after replan", "plan_id", report.PlanId, "chunk_id", cs.ChunkInfo.ChunkId, "error", errState)
					} else {
						logger.Info("Chunk reassigned in StateManager, sending UpdatedTransferPlan", "plan_id", report.PlanId, "chunk_id", cs.ChunkInfo.ChunkId)
						updatedPlan := &qwrappb.UpdatedTransferPlan{
							PlanId:                  report.PlanId,
							NewOrUpdatedAssignments: newAssignments,
							// InvalidatedChunks: Pourrait inclure l'ancienne assignation comme invalidée,
							// mais le client devrait gérer cela en voyant une nouvelle assignation pour le même chunkID.
						}
						s.sendUpdatedPlanToClient(report.PlanId, updatedPlan) // Cette méthode envoie au client via le stream stocké
					}
				} else {
					// needsReplan était true, mais MaybeReplanChunk n'a retourné aucune nouvelle affectation (et pas d'erreur ErrNoAgentsAvailable).
					// Cela pourrait être une condition où le scheduler a décidé qu'il n'y avait rien à faire (ex: l'agent va bien).
					logger.Info("Replanning decided no new assignments were needed for chunk", "plan_id", report.PlanId, "chunk_id", cs.ChunkInfo.ChunkId)
				}
			} else { // needsReplan était false
				logger.Info("Scheduler determined replanning was not necessary for chunk", "plan_id", report.PlanId, "chunk_id", cs.ChunkInfo.ChunkId, "failed_agent", cs.AgentId)
			}
		}
	}
}

// Adapter handleRegisterForPlanUpdates pour prendre planID et streamCancel
func (s *OrchestratorServer) handleRegisterForPlanUpdates(
	ctx context.Context, // Contexte du stream/connexion
	stream quic.Stream, // Le stream QUIC dédié
	reader framing.Reader, // Déjà utilisé pour lire StreamPurposeRequest, pourrait être réutilisé si d'autres messages sont attendus
	planID string, // Le planID extrait de StreamPurposeRequest
	remoteAddr net.Addr,
	streamOwnedCancel context.CancelFunc, // Le cancel du contexte de routeStream
) {
	// Ce handler prend possession du stream et de son contexte.
	// Il ne doit PAS appeler streamOwnedCancel immédiatement, seulement à la fin de sa propre logique.
	logger := s.config.Logger.With("handler", "RegisterForPlanUpdates", "stream_id", stream.StreamID(), "remote_addr", remoteAddr, "plan_id", planID)

	if planID == "" {
		logger.Warn("RegisterForPlanUpdates called with empty plan_id context")
		streamOwnedCancel() // Annuler le contexte du flux car il est invalide
		_ = stream.Close()  // Fermer le flux directement
		return
	}

	logger.Info("Client stream registered for plan updates", "plan_id", planID)
	s.muClientStreams.Lock()
	if oldStream, exists := s.clientUpdateStreams[planID]; exists && oldStream != stream {
		logger.Info("Closing pre-existing update stream for plan due to new registration", "plan_id", planID)
		// Informer l'ancien stream qu'il est remplacé. QUIC stream.CancelWrite/Read.
		oldStream.CancelWrite(quic.StreamErrorCode(1)) // Code d'erreur applicatif "Replaced"
		oldStream.CancelRead(quic.StreamErrorCode(1))
		// La goroutine associée à oldStream (dans un précédent appel à handleRegisterForPlanUpdates)
		// devrait se terminer en voyant son contexte annulé ou une erreur sur le stream.
	}
	s.clientUpdateStreams[planID] = stream
	s.muClientStreams.Unlock()

	// Garder ce stream ouvert. Le routeStream ne le fermera PAS (grâce à isLongLived).
	// Cette goroutine se termine lorsque le contexte du stream (ctx) est annulé.
	<-ctx.Done() // Attend que le contexte du stream (passé depuis handleConnection) soit terminé

	s.muClientStreams.Lock()
	// Vérifier si c'est toujours CE stream avant de le supprimer, au cas où il aurait été remplacé rapidement.
	if currentStreamInMap, exists := s.clientUpdateStreams[planID]; exists && currentStreamInMap == stream {
		delete(s.clientUpdateStreams, planID)
		logger.Info("Removed client update stream from map due to context done", "plan_id", planID)
	} else if exists {
		logger.Info("Client update stream for plan was already replaced, not removing the new one.", "plan_id", planID)
	} else {
		logger.Info("Client update stream for plan was already removed.", "plan_id", planID)
	}
	s.muClientStreams.Unlock()
	streamOwnedCancel() // Maintenant que le handler a fini avec le stream, annuler son contexte.
	// Le stream.Close() sera fait par le defer de handleConnection car ctx est maintenant Done.
	logger.Debug("handleRegisterForPlanUpdates finished and stream context cancelled", "plan_id", planID)
}

func (s *OrchestratorServer) handleAgentRegistration(ctx context.Context, stream quic.Stream, reader framing.Reader, writer framing.Writer, remoteAddr net.Addr) {
	logger := s.config.Logger.With("handler", "AgentRegistration", "stream_id", stream.StreamID(), "remote_addr", remoteAddr.String()) // .String() pour le log
	var req qwrappb.AgentRegistrationRequest

	// Utiliser un contexte avec timeout pour la lecture du message, dérivé du contexte du stream
	readCtx, readCancel := context.WithTimeout(ctx, orchestratorDefaultReadTimeout)
	defer readCancel()
	if err := reader.ReadMsg(readCtx, &req); err != nil {
		logger.Error("Failed to read AgentRegistrationRequest", "error", err)
		// Ne pas tenter d'écrire une réponse si la lecture a échoué (le flux est peut-être cassé)
		return
	}
	logger.Info("Processing AgentRegistrationRequest", "agent_id", req.AgentId, "address_provided", req.AgentAddress, "capabilities", req.Capabilities)

	if req.AgentId == "" || req.AgentAddress == "" {
		logger.Warn("Invalid AgentRegistrationRequest: missing AgentId or AgentAddress", "agent_id", req.AgentId, "address", req.AgentAddress)
		errResp := &qwrappb.AgentRegistrationResponse{Success: false, Message: "AgentId and AgentAddress are required"}
		writeCtx, writeCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		defer writeCancel()
		if writeErr := writer.WriteMsg(writeCtx, errResp); writeErr != nil {
			logger.Error("Failed to send error response for invalid AgentRegistration", "error", writeErr)
		}
		return
	}

	// Utiliser un contexte pour l'appel au scheduler
	scheduleCtx, scheduleCancel := context.WithTimeout(ctx, 5*time.Second) // Timeout pour l'opération du scheduler
	defer scheduleCancel()
	resp, err := s.config.Scheduler.RegisterAgent(scheduleCtx, &req)
	if err != nil {
		logger.Error("Failed to register agent with scheduler", "agent_id", req.AgentId, "error", err)
		errResp := &qwrappb.AgentRegistrationResponse{Success: false, Message: "Registration failed internally: " + err.Error()}
		writeCtx, writeCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
		defer writeCancel()
		if writeErr := writer.WriteMsg(writeCtx, errResp); writeErr != nil {
			logger.Error("Failed to send error response for AgentRegistration failure", "agent_id", req.AgentId, "error", writeErr)
		}
		return
	}

	writeCtx, writeCancel := context.WithTimeout(ctx, orchestratorDefaultWriteTimeout)
	defer writeCancel()
	if err := writer.WriteMsg(writeCtx, resp); err != nil {
		logger.Error("Failed to send AgentRegistrationResponse to agent", "agent_id", req.AgentId, "error", err)
	} else {
		logger.Info("AgentRegistrationResponse sent", "agent_id", req.AgentId, "success", resp.Success)
		if resp.HeartbeatInterval != nil {
			logger.Info("-> Suggested heartbeat interval", "seconds", resp.HeartbeatInterval.GetSeconds())
		}
	}
}

func (s *OrchestratorServer) handleAgentHeartbeat(ctx context.Context, stream quic.Stream, reader framing.Reader, remoteAddr net.Addr) {
	logger := s.config.Logger.With("handler", "AgentHeartbeat", "stream_id", stream.StreamID(), "remote_addr", remoteAddr.String())
	var hb qwrappb.AgentHeartbeat

	readCtx, readCancel := context.WithTimeout(ctx, orchestratorDefaultReadTimeout)
	defer readCancel()
	if err := reader.ReadMsg(readCtx, &hb); err != nil {
		if errors.Is(err, io.EOF) || errors.Is(err, net.ErrClosed) || errors.Is(err, context.Canceled) {
			logger.Debug("Stream closed or context cancelled while reading AgentHeartbeat", "error", err)
		} else {
			logger.Error("Failed to read AgentHeartbeat", "error", err)
		}
		return
	}
	// Décommenter pour log verbeux
	// logger.Debug("Processing AgentHeartbeat", "agent_id", hb.AgentId, "status", hb.Status)

	if hb.AgentId == "" {
		logger.Warn("Received AgentHeartbeat with empty AgentId")
		return
	}

	// Utiliser un contexte pour l'appel au scheduler
	scheduleCtx, scheduleCancel := context.WithTimeout(ctx, 2*time.Second) // Timeout court pour un heartbeat
	defer scheduleCancel()
	if err := s.config.Scheduler.HandleHeartbeat(scheduleCtx, &hb); err != nil {
		// Ne pas logguer comme une erreur de serveur si c'est ErrAgentNotFound, c'est une condition attendue.
		if errors.Is(err, scheduler.ErrAgentNotFound) {
			logger.Info("Scheduler could not handle heartbeat: agent not found or deregistered", "agent_id", hb.AgentId)
		} else {
			logger.Error("Scheduler failed to handle heartbeat", "agent_id", hb.AgentId, "error", err)
		}
	}

	// Généralement, pas de réponse de contenu pour un heartbeat. Le flux se ferme simplement.
	// Si une réponse était nécessaire (ex: HeartbeatResponse avec des commandes), il faudrait l'écrire ici.
}

func (s *OrchestratorServer) sendUpdatedPlanToClient(planID string, updatedPlan *qwrappb.UpdatedTransferPlan) {
	s.muClientStreams.RLock()
	clientStream, exists := s.clientUpdateStreams[planID]
	s.muClientStreams.RUnlock()

	logger := s.config.Logger.With("plan_id", planID, "subcomponent", "update_sender")

	if exists {
		// Créer un writer pour ce stream spécifique
		// Le logger passé au writer sera celui du serveur avec le contexte du planID
		writer := s.config.MessageWriterFactory(clientStream, logger)

		// Utiliser un contexte avec timeout pour l'envoi
		writeCtx, cancel := context.WithTimeout(context.Background(), orchestratorDefaultWriteTimeout)
		defer cancel()

		err := writer.WriteMsg(writeCtx, updatedPlan)
		if err != nil {
			logger.Error("Failed to send UpdatedTransferPlan to client", "error", err)
			// Le stream est peut-être cassé. Le retirer de la map et le fermer.
			s.muClientStreams.Lock()
			// Revérifier au cas où il aurait été remplacé entre RLock et Lock
			if currentStream, stillExists := s.clientUpdateStreams[planID]; stillExists && currentStream == clientStream {
				delete(s.clientUpdateStreams, planID)
			}
			s.muClientStreams.Unlock()
			clientStream.CancelRead(0)  // Indiquer au client de ne plus attendre sur ce flux
			clientStream.CancelWrite(0) // Annuler toute écriture en cours (ne devrait pas y en avoir)
			clientStream.Close()        // Fermer le flux
		} else {
			logger.Info("Successfully sent UpdatedTransferPlan to client")
		}
	} else {
		logger.Warn("No active update stream found for client to send UpdatedTransferPlan")
	}
}


# ===== FILE: internal/orchestrator/state/interface.go =====
package statemanager

import (
	"context"
	"errors"
	"log/slog"
	"time"

	"qwrap/pkg/qwrappb" // Votre package protobuf généré
	// "github.com/google/uuid" // Pour générer des IDs uniques
)

var (
	ErrTransferNotFound      = errors.New("transfer not found")
	ErrFileNotFound          = errors.New("file not found in transfer")
	ErrChunkNotFound         = errors.New("chunk not found in file")
	ErrAssignmentNotFound    = errors.New("chunk assignment not found")
	ErrInvalidStateOperation = errors.New("invalid operation for current state")
)

// TransferStatus définit l'état global d'un transfert.
type TransferStatus string

const (
	StatusPending    TransferStatus = "PENDING"     // En attente de planification
	StatusPlanning   TransferStatus = "PLANNING"    // Le scheduler travaille dessus
	StatusInProgress TransferStatus = "IN_PROGRESS" // Chunks en cours de téléchargement
	StatusPaused     TransferStatus = "PAUSED"      // (Futur)
	StatusCompleted  TransferStatus = "COMPLETED"   // Tous les chunks téléchargés et vérifiés
	StatusFailed     TransferStatus = "FAILED"      // Échec irrécupérable du transfert
	StatusCancelled  TransferStatus = "CANCELLED"   // Annulé par l'utilisateur ou le système
	StatusArchived   TransferStatus = "ARCHIVED"    // (Futur) Gardé pour l'historique
)

// ChunkState contient l'état détaillé d'un chunk spécifique.
type ChunkState struct {
	ChunkInfo      *qwrappb.ChunkInfo
	AssignedAgents []string              // IDs des agents auxquels ce chunk est actuellement assigné (pour réplication)
	PrimaryAgent   string                // Agent principal désigné pour ce chunk
	Status         qwrappb.TransferEvent // Statut du point de vue du client (le plus récent)
	Attempts       int
	LastReportTime time.Time
	// (Futur) DownloadSpeedBPS float64
	// (Futur) DownloadedByClient string // ID du client qui a téléchargé (si multi-client)
}

// FileState contient l'état d'un fichier au sein d'un transfert.
type FileState struct {
	Metadata *qwrappb.FileMetadata
	Chunks   map[uint64]*ChunkState // Clé: ChunkID
	Status   TransferStatus         // Peut être différent du statut global du transfert
	// (Futur) ProgressPercent float64
}

// TransferState contient l'état complet d'une opération de transfert.
type TransferState struct {
	PlanID                string // Corresponds au PlanID du qwrappb.TransferPlan
	ClientRequestID       string
	Status                TransferStatus
	Files                 map[string]*FileState // Clé: FileID
	CreationTime          time.Time
	LastUpdateTime        time.Time
	AssignedSchedulerPlan *qwrappb.TransferPlan // Le plan généré par le scheduler
	// (Futur) ClientID string
	// (Futur) ErrorMessage string // Si Status == FAILED
	// (Futur) CompletionTime time.Time
	// (Futur) TotalBytesTransferred int64
}

// StateManagerConfig contient la configuration du StateManager.
type StateManagerConfig struct {
	Logger   *slog.Logger
	DBPath   string // Chemin vers le fichier de la base de données BoltDB
	// (Futur) SnapshotInterval time.Duration
	// (Futur) GCInterval time.Duration (pour nettoyer les vieux transferts)
}

func (c *StateManagerConfig) setDefaults() {
	if c.Logger == nil {
		c.Logger = slog.Default().With("component", "statemanager")
	}
}

// StateManager est responsable de la gestion de l'état de tous les transferts
// et des entités associées (fichiers, chunks, agents).
type StateManager interface {
	// --- Gestion des Transferts ---

	// CreateTransfer initialise un nouvel état de transfert basé sur une requête client.
	// Retourne l'ID du plan généré pour ce transfert.
	CreateTransfer(ctx context.Context, clientReq *qwrappb.TransferRequest) (string, *TransferState, error)

	// GetTransfer récupère l'état d'un transfert par son PlanID.
	GetTransfer(ctx context.Context, planID string) (*TransferState, error)

	// UpdateTransferStatus met à jour le statut global d'un transfert.
	UpdateTransferStatus(ctx context.Context, planID string, status TransferStatus, errorMessage ...string) error

	// LinkSchedulerPlan associe un plan généré par le scheduler à un état de transfert.
	// Cette opération peuple les FileStates et ChunkStates.
	LinkSchedulerPlan(ctx context.Context, planID string, schedulerPlan *qwrappb.TransferPlan) error

	// --- Gestion des Chunks ---

	// UpdateChunkStatus met à jour l'état d'un chunk spécifique au sein d'un transfert.
	// Cela serait généralement appelé suite à un ClientReport.
	UpdateChunkStatus(ctx context.Context, planID string, fileID string, chunkID uint64, agentID string, event qwrappb.TransferEvent, details string) error

	// ReassignChunk met à jour l'affectation d'un chunk à un (ou plusieurs) nouvel agent(s).
	// Utilisé par le scheduler en cas de rééquilibrage ou de panne.
	ReassignChunk(ctx context.Context, planID string, fileID string, chunkID uint64, newAssignments []*qwrappb.ChunkAssignment) error

	// GetChunkState récupère l'état d'un chunk.
	GetChunkState(ctx context.Context, planID string, fileID string, chunkID uint64) (*ChunkState, error)

	// --- Opérations de Persistance et de Cycle de Vie (Interfaces pour le futur) ---

	// LoadState (Futur) Charge l'état depuis la persistance au démarrage.
	// LoadState(ctx context.Context) error

	// SnapshotState (Futur) Crée un snapshot de l'état actuel.
	// SnapshotState(ctx context.Context) error

	// ApplyWALEntry (Futur) Applique une entrée du Write-Ahead Log.
	// ApplyWALEntry(ctx context.Context, entry []byte) error

	// GarbageCollect (Futur) Nettoie les anciens transferts terminés.
	// GarbageCollect(ctx context.Context, olderThan time.Time) (int, error)

	// ListTransfers (Futur) Liste les transferts (avec filtres optionnels)
	// ListTransfers(ctx context.Context, statusFilter TransferStatus, limit, offset int) ([]*TransferState, error)

	// Close ferme les ressources du StateManager, comme la connexion à la base de données.
	Close() error
}


# ===== FILE: internal/orchestrator/state/state_manager.go =====
package statemanager

import (
	"context"
	"encoding/json"
	"errors"
	"fmt"
	"sync"
	"time"

	"qwrap/pkg/qwrappb" // Votre package protobuf généré

	"github.com/google/uuid" // Pour générer des IDs uniques
	"go.etcd.io/bbolt"
)

type stateManagerImpl struct {
	mu        sync.RWMutex
	transfers map[string]*TransferState // Clé: PlanID
	config    StateManagerConfig
	db        *bbolt.DB // Handle de la base de données BoltDB
	// (Futur) wal *os.File
}

// NewStateManager crée une nouvelle instance de StateManager.
func NewStateManager(config StateManagerConfig) (StateManager, error) {
	config.setDefaults()

	if config.DBPath == "" {
		return nil, errors.New("DBPath must be specified in StateManagerConfig")
	}

	db, err := bbolt.Open(config.DBPath, 0600, &bbolt.Options{Timeout: 1 * time.Second})
	if err != nil {
		return nil, fmt.Errorf("failed to open bolt database at %s: %w", config.DBPath, err)
	}

	sm := &stateManagerImpl{
		transfers: make(map[string]*TransferState),
		config:    config,
		db:        db,
	}

	// Ensure the 'transfers' bucket exists
	err = db.Update(func(tx *bbolt.Tx) error {
		_, err := tx.CreateBucketIfNotExists([]byte("transfers"))
		return err
	})
	if err != nil {
		db.Close() // Close the db if we can't create the bucket
		return nil, fmt.Errorf("failed to create 'transfers' bucket: %w", err)
	}

	// Load existing state from the database
	if err := sm.loadStateFromDB(); err != nil {
		db.Close()
		return nil, fmt.Errorf("failed to load existing state from db: %w", err)
	}

	config.Logger.Info("StateManager initialized with BoltDB persistence", "db_path", config.DBPath)

	return sm, nil
}

func (sm *stateManagerImpl) Close() error {
	sm.mu.Lock()
	defer sm.mu.Unlock()

	if sm.db != nil {
		sm.config.Logger.Info("Closing BoltDB database.")
		return sm.db.Close()
	}
	return nil
}

// --- Gestion des Transferts ---

func (sm *stateManagerImpl) CreateTransfer(ctx context.Context, clientReq *qwrappb.TransferRequest) (string, *TransferState, error) {
	sm.mu.Lock()
	defer sm.mu.Unlock()

	planID := "plan-" + uuid.NewString() // Générer un ID unique pour le plan

	if _, exists := sm.transfers[planID]; exists {
		// Très improbable avec UUID, mais bonne pratique
		return "", nil, fmt.Errorf("generated planID %s already exists", planID)
	}
	if clientReq == nil || len(clientReq.FilesToTransfer) == 0 {
		return "", nil, errors.New("cannot create transfer from nil or empty request")
	}

	now := time.Now()
	ts := &TransferState{
		PlanID:          planID,
		ClientRequestID: clientReq.RequestId,
		Status:          StatusPending, // Initialement en attente de planification
		Files:           make(map[string]*FileState),
		CreationTime:    now,
		LastUpdateTime:  now,
	}

	for _, fm := range clientReq.FilesToTransfer {
		if fm == nil || fm.FileId == "" {
			sm.config.Logger.Warn("Skipping file with nil metadata or empty FileId in CreateTransfer", "request_id", clientReq.RequestId)
			continue
		}
		ts.Files[fm.FileId] = &FileState{
			Metadata: fm,
			Chunks:   make(map[uint64]*ChunkState), // Sera peuplé par LinkSchedulerPlan
			Status:   StatusPending,
		}
	}
	if len(ts.Files) == 0 {
		return "", nil, errors.New("no valid files to process in transfer request")
	}

	// Persist the new transfer state to the database before adding to memory
	jsonData, err := json.Marshal(ts)
	if err != nil {
		return "", nil, fmt.Errorf("failed to serialize transfer state for plan %s: %w", planID, err)
	}

	err = sm.db.Update(func(tx *bbolt.Tx) error {
		b := tx.Bucket([]byte("transfers"))
		// This check is for safety, bucket should exist from NewStateManager
		if b == nil {
			return fmt.Errorf("transfers bucket not found")
		}
		return b.Put([]byte(planID), jsonData)
	})

	if err != nil {
		return "", nil, fmt.Errorf("failed to persist transfer state for plan %s: %w", planID, err)
	}

	sm.transfers[planID] = ts
	sm.config.Logger.Info("New transfer state created and persisted", "plan_id", planID, "client_request_id", clientReq.RequestId)

	return planID, ts, nil
}

func (sm *stateManagerImpl) GetTransfer(ctx context.Context, planID string) (*TransferState, error) {
	sm.mu.RLock()
	defer sm.mu.RUnlock()

	ts, exists := sm.transfers[planID]
	if !exists {
		return nil, ErrTransferNotFound
	}
	// Retourner une copie pour l'isolation (surtout si on avait de la persistance)
	// Pour une version en mémoire simple, retourner le pointeur est acceptable, mais moins sûr.
	// copy := *ts // Copie superficielle, les maps et slices internes sont toujours partagés.
	// Pour une vraie copie profonde, il faudrait une fonction dédiée.
	return ts, nil
}

func (sm *stateManagerImpl) UpdateTransferStatus(ctx context.Context, planID string, status TransferStatus, errorMessage ...string) error {
	sm.mu.Lock()
	defer sm.mu.Unlock()

	ts, exists := sm.transfers[planID]
	if !exists {
		return ErrTransferNotFound
	}

	oldStatus := ts.Status
	ts.Status = status
	ts.LastUpdateTime = time.Now()

	// Persist the updated state
	if err := sm.saveTransferState(ts); err != nil {
		// If persistence fails, should we roll back the in-memory change?
		// For now, we log the error and the in-memory state might be ahead of persisted state.
		ts.Status = oldStatus // Rollback in-memory change
		return fmt.Errorf("failed to persist status update for plan %s: %w", planID, err)
	}

	sm.config.Logger.Info("Transfer status updated and persisted",
		"plan_id", planID,
		"old_status", oldStatus,
		"new_status", status,
	)
	return nil
}

func (sm *stateManagerImpl) LinkSchedulerPlan(ctx context.Context, planID string, schedulerPlan *qwrappb.TransferPlan) error {
	sm.mu.Lock()
	defer sm.mu.Unlock()

	ts, exists := sm.transfers[planID]
	if !exists {
		return ErrTransferNotFound
	}

	if ts.Status != StatusPending && ts.Status != StatusPlanning {
		return fmt.Errorf("%w: cannot link plan when transfer status is %s", ErrInvalidStateOperation, ts.Status)
	}
	if schedulerPlan == nil {
		return errors.New("schedulerPlan cannot be nil")
	}

	ts.AssignedSchedulerPlan = schedulerPlan // Stocker le plan complet
	ts.Status = StatusInProgress             // Le plan est là, on passe en InProgress

	// Peupler les ChunkStates
	for _, assignment := range schedulerPlan.ChunkAssignments {
		if assignment == nil || assignment.ChunkInfo == nil || assignment.ChunkInfo.FileId == "" {
			sm.config.Logger.Warn("Skipping invalid chunk assignment in LinkSchedulerPlan", "plan_id", planID)
			continue
		}
		fileID := assignment.ChunkInfo.FileId
		chunkID := assignment.ChunkInfo.ChunkId

		fileState, fsExists := ts.Files[fileID]
		if !fsExists {
			// Cela ne devrait pas arriver si CreateTransfer a bien initialisé les FileStates
			// basé sur le clientReq, et que le schedulerPlan est cohérent.
			sm.config.Logger.Error("File ID from scheduler plan not found in transfer state",
				"plan_id", planID, "file_id", fileID)
			// On pourrait créer le FileState ici ou retourner une erreur.
			// Pour être robuste, on le crée s'il manque, en supposant que le schedulerPlan est la source de vérité pour les fichiers.
			sourceMeta := findFileMeta(schedulerPlan.SourceFileMetadata, fileID)
			if sourceMeta == nil {
				sm.config.Logger.Error("File metadata not found in scheduler plan for file ID", "plan_id", planID, "file_id", fileID)
				return fmt.Errorf("metadata for file %s not found in scheduler plan", fileID)
			}
			fileState = &FileState{
				Metadata: sourceMeta,
				Chunks:   make(map[uint64]*ChunkState),
				Status:   StatusInProgress, // Le fichier est maintenant en cours
			}
			ts.Files[fileID] = fileState
		}
		fileState.Status = StatusInProgress // Marquer le fichier comme en cours aussi

		// Créer le ChunkState
		chunkState := &ChunkState{
			ChunkInfo:      assignment.ChunkInfo,         // Stocker une référence
			AssignedAgents: []string{assignment.AgentId}, // Initialement assigné à cet agent
			PrimaryAgent:   assignment.AgentId,
			Status:         qwrappb.TransferEvent_TRANSFER_EVENT_UNKNOWN, // Aucun rapport client encore
			Attempts:       0,
			LastReportTime: time.Now(),
		}
		fileState.Chunks[chunkID] = chunkState
	}
	ts.LastUpdateTime = time.Now()

	// Persist the updated state
	if err := sm.saveTransferState(ts); err != nil {
		// This is a critical failure. The in-memory state is now significantly different from the persisted state.
		// A real-world system might need a more robust recovery or rollback mechanism.
		// For now, we will log the error and return it, leaving the system in a potentially inconsistent state.
		return fmt.Errorf("CRITICAL: failed to persist linked scheduler plan for plan %s: %w", planID, err)
	}

	sm.config.Logger.Info("Scheduler plan linked and persisted to transfer", "plan_id", planID, "num_assignments", len(schedulerPlan.ChunkAssignments))
	return nil
}

// Helper pour trouver FileMetadata dans une slice
func findFileMeta(metas []*qwrappb.FileMetadata, fileID string) *qwrappb.FileMetadata {
	for _, meta := range metas {
		if meta != nil && meta.FileId == fileID {
			return meta
		}
	}
	return nil
}

// --- Gestion des Chunks ---

func (sm *stateManagerImpl) UpdateChunkStatus(ctx context.Context, planID string, fileID string, chunkID uint64, agentID string, event qwrappb.TransferEvent, details string) error {
	sm.mu.Lock()
	defer sm.mu.Unlock()

	ts, exists := sm.transfers[planID]
	if !exists {
		return ErrTransferNotFound
	}
	fileState, fsExists := ts.Files[fileID]
	if !fsExists {
		return ErrFileNotFound
	}
	chunkState, csExists := fileState.Chunks[chunkID]
	if !csExists {
		return ErrChunkNotFound
	}

	chunkState.Status = event
	chunkState.LastReportTime = time.Now()
	if event == qwrappb.TransferEvent_DOWNLOAD_STARTED {
		chunkState.Attempts++
	}
	// (Futur) Mettre à jour des métriques plus fines ici si nécessaire

	sm.config.Logger.Debug("Chunk status updated",
		"plan_id", planID,
		"file_id", fileID,
		"chunk_id", chunkID,
		"agent_id", agentID,
		"new_event", event,
	)
	ts.LastUpdateTime = time.Now() // Mettre à jour le transfert global aussi

	// Logique pour déterminer si le fichier ou le transfert est complété
	// (Simplifié : vérifier si tous les chunks sont DOWNLOAD_SUCCESSFUL)
	if event == qwrappb.TransferEvent_DOWNLOAD_SUCCESSFUL {
		allFileChunksDone := true
		for _, cs := range fileState.Chunks {
			if cs.Status != qwrappb.TransferEvent_DOWNLOAD_SUCCESSFUL {
				allFileChunksDone = false
				break
			}
		}
		if allFileChunksDone {
			fileState.Status = StatusCompleted
			sm.config.Logger.Info("File download completed", "plan_id", planID, "file_id", fileID)

			allTransferFilesDone := true
			for _, fs := range ts.Files {
				if fs.Status != StatusCompleted {
					allTransferFilesDone = false
					break
				}
			}
			if allTransferFilesDone {
				ts.Status = StatusCompleted
				// ts.CompletionTime = time.Now()
				sm.config.Logger.Info("Entire transfer completed", "plan_id", planID)
			}
		}
	} else if event == qwrappb.TransferEvent_DOWNLOAD_FAILED_AGENT_UNREACHABLE ||
		event == qwrappb.TransferEvent_DOWNLOAD_FAILED_CHECKSUM_MISMATCH ||
		event == qwrappb.TransferEvent_DOWNLOAD_FAILED_TRANSFER_ERROR {
		// (Futur) Logique pour marquer le transfert comme FAILED si trop d'échecs de chunks
		// ou si un chunk critique échoue toutes ses tentatives de réassignation.
	}

	// Persist the changes
	if err := sm.saveTransferState(ts); err != nil {
		// Log the error, but the in-memory state has already changed. This could lead to inconsistency.
		return fmt.Errorf("failed to persist chunk status update for plan %s: %w", planID, err)
	}

	return nil
}

func (sm *stateManagerImpl) ReassignChunk(ctx context.Context, planID string, fileID string, chunkID uint64, newAssignments []*qwrappb.ChunkAssignment) error {
	sm.mu.Lock()
	defer sm.mu.Unlock()

	ts, exists := sm.transfers[planID]
	if !exists {
		return ErrTransferNotFound
	}
	fileState, fsExists := ts.Files[fileID]
	if !fsExists {
		return ErrFileNotFound
	}
	chunkState, csExists := fileState.Chunks[chunkID]
	if !csExists {
		return ErrChunkNotFound
	}
	if len(newAssignments) == 0 {
		return errors.New("newAssignments cannot be empty for ReassignChunk")
	}

	chunkState.AssignedAgents = []string{}
	for _, assign := range newAssignments {
		chunkState.AssignedAgents = append(chunkState.AssignedAgents, assign.AgentId)
	}
	chunkState.PrimaryAgent = newAssignments[0].AgentId              // Le premier est le nouveau primaire
	chunkState.Status = qwrappb.TransferEvent_TRANSFER_EVENT_UNKNOWN // Réinitialiser le statut client
	chunkState.Attempts = 0                                          // Réinitialiser les tentatives pour la nouvelle assignation
	if newAssignments[0].ChunkInfo != nil {
		// Attention: ne pas écraser le pointeur si ChunkInfo contient des données en mémoire
		// qu'on veut préserver. Ici, ChunkInfo est principalement des métadonnées.
		// Faire une copie si nécessaire ou s'assurer que le scheduler ne modifie que l'agent.
		// Pour une réassignation simple, on assume que le ChunkInfo est le même.
		// Si le scheduler peut changer le ChunkInfo (ex: un autre range pour un chunk "corrigé"),
		// alors chunkState.ChunkInfo = newAssignments[0].ChunkInfo serait nécessaire.
		// Pour l'instant, on suppose que le ChunkInfo d'origine est conservé.
	}

	sm.config.Logger.Info("Chunk reassigned",
		"plan_id", planID,
		"file_id", fileID,
		"chunk_id", chunkID,
		"new_primary_agent", chunkState.PrimaryAgent,
		"num_replicas", len(chunkState.AssignedAgents),
	)
	ts.LastUpdateTime = time.Now()

	// Persist the changes
	if err := sm.saveTransferState(ts); err != nil {
		return fmt.Errorf("failed to persist chunk reassignment for plan %s: %w", planID, err)
	}

	return nil
}

// saveTransferState serializes and persists a single TransferState to the database.
// This method assumes the caller has already acquired the necessary locks.
func (sm *stateManagerImpl) saveTransferState(ts *TransferState) error {
	if ts == nil || ts.PlanID == "" {
		return errors.New("cannot save nil or empty planID transfer state")
	}

	jsonData, err := json.Marshal(ts)
	if err != nil {
		return fmt.Errorf("failed to serialize transfer state for plan %s: %w", ts.PlanID, err)
	}

	return sm.db.Update(func(tx *bbolt.Tx) error {
		b := tx.Bucket([]byte("transfers"))
		return b.Put([]byte(ts.PlanID), jsonData)
	})
}

// loadStateFromDB iterates over all transfers in the DB and loads them into memory.
func (sm *stateManagerImpl) loadStateFromDB() error {
	sm.mu.Lock()
	defer sm.mu.Unlock()

	return sm.db.View(func(tx *bbolt.Tx) error {
		b := tx.Bucket([]byte("transfers"))
		if b == nil {
			// Bucket not existing is not an error, just means no transfers yet.
			sm.config.Logger.Info("'transfers' bucket not found, assuming new database.")
			return nil
		}

		count := 0
		err := b.ForEach(func(k, v []byte) error {
			var ts TransferState
			if err := json.Unmarshal(v, &ts); err != nil {
				// Log the corrupted entry but continue loading others
				sm.config.Logger.Error("Failed to deserialize transfer state from DB", "plan_id", string(k), "error", err)
				return nil // Continue to next item
			}
			sm.transfers[ts.PlanID] = &ts
			count++
			return nil
		})

		if err != nil {
			return fmt.Errorf("error while iterating over transfers bucket: %w", err)
		}

		sm.config.Logger.Info("Successfully loaded state for transfers from DB", "count", count)
		return nil
	})
}

func (sm *stateManagerImpl) GetChunkState(ctx context.Context, planID string, fileID string, chunkID uint64) (*ChunkState, error) {
	sm.mu.RLock()
	defer sm.mu.RUnlock()

	ts, exists := sm.transfers[planID]
	if !exists {
		return nil, ErrTransferNotFound
	}
	fileState, fsExists := ts.Files[fileID]
	if !fsExists {
		return nil, ErrFileNotFound
	}
	chunkState, csExists := fileState.Chunks[chunkID]
	if !csExists {
		return nil, ErrChunkNotFound
	}
	// copy := *chunkState // Copie superficielle
	return chunkState, nil
}

// --- Opérations de Persistance et de Cycle de Vie (Placeholders) ---

// func (sm *stateManagerImpl) LoadState(ctx context.Context) error {
// 	sm.mu.Lock()
// 	defer sm.mu.Unlock()
// 	sm.config.Logger.Info("Loading state from persistence...")
// 	// TODO: Implémenter la lecture depuis BadgerDB/BoltDB, rejouer le WAL.
// 	return errors.New("LoadState not implemented")
// }

// func (sm *stateManagerImpl) SnapshotState(ctx context.Context) error {
// 	sm.mu.RLock() // RLock car on lit l'état pour le snapshot
// 	defer sm.mu.RUnlock()
// 	sm.config.Logger.Info("Creating state snapshot...")
// 	// TODO: Implémenter la sérialisation de sm.transfers et l'écriture sur disque.
// 	// S'assurer que le WAL est purgé jusqu'à ce point.
// 	return errors.New("SnapshotState not implemented")
// }

// func (sm *stateManagerImpl) ApplyWALEntry(ctx context.Context, entry []byte) error {
// 	sm.mu.Lock()
// 	defer sm.mu.Unlock()
// 	// TODO: Désérialiser l'entrée et appliquer la modification à sm.transfers.
// 	// Cette méthode serait appelée pendant la recovery.
// 	return errors.New("ApplyWALEntry not implemented")
// }

// func (sm *stateManagerImpl) GarbageCollect(ctx context.Context, olderThan time.Time) (int, error) {
// 	sm.mu.Lock()
// 	defer sm.mu.Unlock()
// 	sm.config.Logger.Info("Running garbage collection for old transfers...", "older_than", olderThan)
// 	count := 0
// 	for planID, ts := range sm.transfers {
// 		if (ts.Status == StatusCompleted || ts.Status == StatusFailed || ts.Status == StatusCancelled) &&
// 			ts.LastUpdateTime.Before(olderThan) { // Ou ts.CompletionTime
// 			delete(sm.transfers, planID)
// 			count++
// 		}
// 	}
// 	sm.config.Logger.Info("Garbage collection finished", "deleted_count", count)
// 	return count, nil
// }


# ===== FILE: internal/orchestrator/scheduler/interface.go =====
package scheduler

import (
	"context"
	"errors"
	"log/slog"
	"time"

	"qwrap/pkg/qwrappb" // Votre package protobuf généré
	// Pour les métriques Prometheus (optionnel pour la première passe, mais bon à garder en tête)
	// "github.com/prometheus/client_golang/prometheus"
	// "github.com/prometheus/client_golang/prometheus/promauto"
)

const (
	defaultAgentHeartbeatTimeout    = 30 * time.Second
	defaultAgentEvictionGracePeriod = 5 * time.Minute // Temps avant de supprimer un agent totalement silencieux
	maxAgentLoadPercentage          = 90.0            // Pourcentage de charge max avant de considérer un agent comme surchargé
	minAgentCapacityForCritical     = 2               // Nombre min d'agents pour répliquer un chunk critique
	criticalChunkReplicationFactor  = 2               // Nombre de répliques pour les chunks critiques
)

var (
	ErrNoAgentsAvailable          = errors.New("no suitable agents available")
	ErrAgentNotFound              = errors.New("agent not found")
	ErrInvalidAgentHeartbeat      = errors.New("invalid agent heartbeat data")
	ErrTransferPlanCreationFailed = errors.New("transfer plan creation failed")
)

// AgentInfo contient l'état et les métriques d'un agent connu par le scheduler.
type AgentInfo struct {
	ID                   string
	Address              string // IP:Port pour les clients QUIC
	Capabilities         []string
	MaxConcurrentStreams int64 // Capacité déclarée par l'agent
	Status               qwrappb.AgentStatus
	LastHeartbeatTime    time.Time

	// Métriques de performance (mises à jour par les heartbeats)
	CPULoadPercent          float32
	MemoryUsageBytes        int64
	AvailableBandwidthBPS   int64 // Bande passante sortante disponible estimée
	ActiveClientConnections int32
	ActiveChunkTransfers    int32 // Nombre de chunks que l'agent sert actuellement

	// Métriques calculées par le scheduler
	CurrentLoadPercentage float64   // (ActiveChunkTransfers / MaxConcurrentStreams) * 100
	Score                 float64   // Score composite pour la sélection
	ConsecutiveFailures   int       // Pour le circuit breaker
	BlacklistedUntil      time.Time // Pour la blacklist temporaire

	// (Futur) LatencyToClients map[string]time.Duration // Latence moyenne vers des groupes de clients
	// (Futur) GeographicLocation string
}

// PlanificationAlgorithmType définit le type d'algorithme de planification à utiliser.
type PlanificationAlgorithmType string

const (
	AlgoLeastLoaded        PlanificationAlgorithmType = "least_loaded"
	AlgoRoundRobinWeighted PlanificationAlgorithmType = "round_robin_weighted"
	AlgoGeoConsistentHash  PlanificationAlgorithmType = "geo_consistent_hash"
	// ... autres algorithmes
)

// SchedulerConfig contient la configuration du Scheduler.
type SchedulerConfig struct {
	DefaultAlgorithm         PlanificationAlgorithmType
	AgentHeartbeatTimeout    time.Duration
	AgentEvictionGracePeriod time.Duration
	Logger                   *slog.Logger
	// (Futur) Prometheus Registry
}

func (c *SchedulerConfig) setDefaults() {
	if c.DefaultAlgorithm == "" {
		c.DefaultAlgorithm = AlgoLeastLoaded
	}
	if c.AgentHeartbeatTimeout <= 0 {
		c.AgentHeartbeatTimeout = defaultAgentHeartbeatTimeout
	}
	if c.AgentEvictionGracePeriod <= 0 {
		c.AgentEvictionGracePeriod = defaultAgentEvictionGracePeriod
	}
	if c.Logger == nil {
		c.Logger = slog.Default().With("component", "scheduler")
	}
}

// Scheduler est responsable de l'enregistrement des agents, du suivi de leur état,
// et de l'attribution des tâches de transfert de chunks.
type Scheduler interface {
	// RegisterAgent enregistre un nouvel agent ou met à jour les informations d'un agent existant.
	RegisterAgent(ctx context.Context, req *qwrappb.AgentRegistrationRequest) (*qwrappb.AgentRegistrationResponse, error)
	// HandleHeartbeat traite un heartbeat reçu d'un agent.
	HandleHeartbeat(ctx context.Context, hb *qwrappb.AgentHeartbeat) error
	// CreateTransferPlan génère un plan de transfert pour une requête donnée.
	// Il sélectionne les agents appropriés pour chaque chunk.
	CreateTransferPlan(ctx context.Context, planID string, transferReq *qwrappb.TransferRequest, agentMetadata []*qwrappb.GetFileMetadataResponse) (*qwrappb.TransferPlan, error)
	// ReportAgentFailure est appelé par d'autres composants (ex: le client via l'orchestrateur principal)
	// pour signaler qu'un agent a échoué à servir un chunk.
	ReportAgentFailure(ctx context.Context, agentID string, chunkInfo *qwrappb.ChunkInfo, reason string) error
	// MaybeReplanChunk tente de replanifier un chunk après un échec rapporté sur un agent spécifique.
	MaybeReplanChunk(ctx context.Context, planID string, failedChunkInfo *qwrappb.ChunkInfo, failedAgentID string) (needsReplan bool, newAssignments []*qwrappb.ChunkAssignment, err error)
	// GetAgentInfo retourne les informations d'un agent spécifique.
	GetAgentInfo(agentID string) (*AgentInfo, error)
	// ListAvailableAgents retourne une liste des agents considérés comme disponibles et sains.
	ListAvailableAgents() []*AgentInfo
	// StartBackgroundTasks démarre les tâches de fond du scheduler (ex: nettoyage des agents morts).
	StartBackgroundTasks(ctx context.Context)
}


# ===== FILE: internal/orchestrator/scheduler/scheduler.go =====
package scheduler

import (
	"context"
	"errors"
	"fmt"
	"math"
	"qwrap/pkg/qwrappb" // Votre package protobuf généré
	"sort"
	"sync"
	"time"

	"google.golang.org/protobuf/types/known/durationpb"
	// "github.com/google/uuid" // Pour générer des IDs de plan
)

type schedulerImpl struct {
	mu     sync.RWMutex
	agents map[string]*AgentInfo // Clé: AgentID
	config SchedulerConfig
	// (Futur) Structures pour algorithmes spécifiques, ex: anneau pour consistent hashing
	// (Futur) Prometheus Gauges/Counters
}

// NewScheduler crée une nouvelle instance du Scheduler.
func NewScheduler(config SchedulerConfig) Scheduler {
	config.setDefaults()
	s := &schedulerImpl{
		agents: make(map[string]*AgentInfo),
		config: config,
	}
	// (Futur) Initialiser les métriques Prometheus ici
	return s
}

func (s *schedulerImpl) RegisterAgent(ctx context.Context, req *qwrappb.AgentRegistrationRequest) (*qwrappb.AgentRegistrationResponse, error) {
	s.mu.Lock()
	defer s.mu.Unlock()

	agentID := req.AgentId
	if agentID == "" {
		// (Optionnel) Générer un ID si l'agent n'en fournit pas.
		// agentID = uuid.NewString()
		s.config.Logger.Warn("Agent registered without an ID, ID generation might be needed or enforce client-side ID", "address", req.AgentAddress)
		return &qwrappb.AgentRegistrationResponse{Success: false, Message: "AgentID is required"}, errors.New("AgentID is required for registration")
	}

	s.config.Logger.Info("Registering or updating agent", "agent_id", agentID, "address", req.AgentAddress)

	agent, exists := s.agents[agentID]
	if !exists {
		agent = &AgentInfo{ID: agentID}
		s.agents[agentID] = agent
		s.config.Logger.Info("New agent registered", "agent_id", agentID)
	} else {
		s.config.Logger.Info("Updating existing agent registration", "agent_id", agentID)
	}

	agent.Address = req.AgentAddress
	agent.Capabilities = req.Capabilities
	agent.MaxConcurrentStreams = req.MaxConcurrentStreams
	if agent.MaxConcurrentStreams <= 0 {
		agent.MaxConcurrentStreams = 10 // Une valeur par défaut raisonnable
		s.config.Logger.Warn("Agent registered with non-positive MaxConcurrentStreams, defaulting", "agent_id", agentID, "default_streams", agent.MaxConcurrentStreams)
	}
	agent.Status = qwrappb.AgentStatus_AGENT_STATUS_IDLE // Devient IDLE après enregistrement/màj
	agent.LastHeartbeatTime = time.Now()
	agent.ConsecutiveFailures = 0
	agent.BlacklistedUntil = time.Time{} // Clear blacklist on re-registration

	return &qwrappb.AgentRegistrationResponse{
		Success:           true,
		Message:           fmt.Sprintf("Agent %s registered/updated successfully", agentID),
		HeartbeatInterval: durationpb.New(s.config.AgentHeartbeatTimeout / 3), // Suggérer un intervalle
	}, nil
}

func (s *schedulerImpl) HandleHeartbeat(ctx context.Context, hb *qwrappb.AgentHeartbeat) error {
	s.mu.Lock()
	defer s.mu.Unlock()

	agentID := hb.AgentId
	agent, exists := s.agents[agentID]
	if !exists {
		s.config.Logger.Warn("Received heartbeat from unknown or deregistered agent", "agent_id", agentID)
		// On pourrait choisir de ré-enregistrer l'agent ici s'il fournit assez d'infos,
		// ou simplement ignorer. Pour l'instant, on ignore.
		return fmt.Errorf("%w: %s, received heartbeat", ErrAgentNotFound, agentID)
	}
	if hb.Timestamp == nil {
		s.config.Logger.Warn("Received heartbeat with nil timestamp", "agent_id", agentID)
		return fmt.Errorf("%w: nil timestamp for agent %s", ErrInvalidAgentHeartbeat, agentID)
	}

	s.config.Logger.Debug("Handling heartbeat", "agent_id", agentID, "status", hb.Status)

	agent.Status = hb.Status
	agent.LastHeartbeatTime = time.Now() // Utiliser l'heure de réception du serveur, hb.Timestamp pour info
	agent.CPULoadPercent = hb.CpuLoadPercent
	agent.MemoryUsageBytes = hb.MemoryUsageBytes
	agent.AvailableBandwidthBPS = hb.AvailableBandwidthBps
	agent.ActiveClientConnections = hb.ActiveClientConnections
	agent.ActiveChunkTransfers = hb.ActiveChunkTransfers

	// Recalculer la charge
	if agent.MaxConcurrentStreams > 0 {
		agent.CurrentLoadPercentage = (float64(agent.ActiveChunkTransfers) / float64(agent.MaxConcurrentStreams)) * 100.0
	} else {
		agent.CurrentLoadPercentage = 100.0 // Considérer comme plein s'il n'a pas de capacité définie
	}

	// Réinitialiser les échecs consécutifs si le heartbeat est OK et qu'il n'est pas blacklisté
	if agent.Status != qwrappb.AgentStatus_AGENT_STATUS_ERROR &&
		agent.Status != qwrappb.AgentStatus_AGENT_STATUS_UNAVAILABLE &&
		agent.BlacklistedUntil.IsZero() { // Pas activement blacklisté
		agent.ConsecutiveFailures = 0
	}

	// (Futur) Mettre à jour les métriques Prometheus pour cet agent
	return nil
}

func (s *schedulerImpl) CreateTransferPlan(ctx context.Context, planID string, transferReq *qwrappb.TransferRequest, agentMetadata []*qwrappb.GetFileMetadataResponse) (*qwrappb.TransferPlan, error) {
	s.mu.RLock()
	defer s.mu.RUnlock()

	if len(transferReq.FilesToTransfer) == 0 || transferReq.FilesToTransfer[0] == nil {
		return nil, fmt.Errorf("%w: no files specified in transfer request", ErrTransferPlanCreationFailed)
	}
	fileMeta := transferReq.FilesToTransfer[0]
	if fileMeta.FileId == "" || fileMeta.TotalSize <= 0 {
		return nil, fmt.Errorf("%w: invalid file metadata (ID: %s, Size: %d)", ErrTransferPlanCreationFailed, fileMeta.FileId, fileMeta.TotalSize)
	}

	// 1. Filter for healthy, available agents
	allAvailableAgents := make([]*AgentInfo, 0, len(s.agents))
	for _, agent := range s.agents {
		if (agent.Status == qwrappb.AgentStatus_AGENT_STATUS_IDLE || agent.Status == qwrappb.AgentStatus_AGENT_STATUS_ACTIVE) &&
			(agent.BlacklistedUntil.IsZero() || time.Now().After(agent.BlacklistedUntil)) &&
			agent.CurrentLoadPercentage < maxAgentLoadPercentage {
			allAvailableAgents = append(allAvailableAgents, agent)
		}
	}

	if len(allAvailableAgents) == 0 {
		s.config.Logger.Error("Failed to create transfer plan: no suitable agents available at all.")
		return nil, ErrNoAgentsAvailable
	}

	// 2. Pre-process available portions for efficient lookup
	chunkToAgentIDs := make(map[uint64][]string)
	for _, resp := range agentMetadata {
		for _, portion := range resp.AvailablePortions {
			for chunkID := portion.ChunkIndexStart; chunkID <= portion.ChunkIndexEnd; chunkID++ {
				chunkToAgentIDs[chunkID] = append(chunkToAgentIDs[chunkID], resp.AgentId)
			}
		}
	}
	availableAgentMap := make(map[string]*AgentInfo, len(allAvailableAgents))
	for _, agent := range allAvailableAgents {
		availableAgentMap[agent.ID] = agent
	}

	// 3. Define chunking strategy
	defaultChunkSize := int64(1 * 1024 * 1024) // 1 MiB
	if fileMeta.TotalSize < defaultChunkSize && fileMeta.TotalSize > 0 {
		defaultChunkSize = fileMeta.TotalSize
	}
	numChunks := int(math.Ceil(float64(fileMeta.TotalSize) / float64(defaultChunkSize)))

	s.config.Logger.Info("Creating transfer plan with portion-aware strategy",
		"plan_id", planID, "file_id", fileMeta.FileId, "total_size", fileMeta.TotalSize,
		"num_chunks", numChunks, "num_available_agents", len(allAvailableAgents), "num_agent_responses", len(agentMetadata))

	// 4. Sort all available agents by least-loaded for assigning new chunks
	sort.SliceStable(allAvailableAgents, func(i, j int) bool {
		if allAvailableAgents[i].CurrentLoadPercentage == allAvailableAgents[j].CurrentLoadPercentage {
			return allAvailableAgents[i].AvailableBandwidthBPS > allAvailableAgents[j].AvailableBandwidthBPS
		}
		return allAvailableAgents[i].CurrentLoadPercentage < allAvailableAgents[j].CurrentLoadPercentage
	})

	// 5. Assign chunks
	assignments := make([]*qwrappb.ChunkAssignment, numChunks)
	newChunkAgentIndex := 0
	for i := 0; i < numChunks; i++ {
		chunkID := uint64(i)
		var selectedAgent *AgentInfo

		// 5a. Try to assign from agents that already have the chunk
		if agentIDs, ok := chunkToAgentIDs[chunkID]; ok {
			candidateAgents := make([]*AgentInfo, 0, len(agentIDs))
			for _, id := range agentIDs {
				if agent, agentIsAvailable := availableAgentMap[id]; agentIsAvailable {
					candidateAgents = append(candidateAgents, agent)
				}
			}

			if len(candidateAgents) > 0 {
				// Sort just the candidates that have the chunk by load
				sort.SliceStable(candidateAgents, func(i, j int) bool {
					if candidateAgents[i].CurrentLoadPercentage == candidateAgents[j].CurrentLoadPercentage {
						return candidateAgents[i].AvailableBandwidthBPS > candidateAgents[j].AvailableBandwidthBPS
					}
					return candidateAgents[i].CurrentLoadPercentage < candidateAgents[j].CurrentLoadPercentage
				})
				selectedAgent = candidateAgents[0]
				s.config.Logger.Debug("Assigning pre-existing chunk to best owner", "chunk_id", chunkID, "agent_id", selectedAgent.ID)
			}
		}

		// 5b. If not assigned, pick from the general pool of available agents
		if selectedAgent == nil {
			if len(allAvailableAgents) > 0 {
				selectedAgent = allAvailableAgents[newChunkAgentIndex%len(allAvailableAgents)]
				newChunkAgentIndex++
				s.config.Logger.Debug("Assigning new chunk via round-robin", "chunk_id", chunkID, "agent_id", selectedAgent.ID)
			} else {
				// Should have been caught earlier, but as a safeguard.
				return nil, ErrNoAgentsAvailable
			}
		}

		// 6. Create the assignment
		currentOffset := int64(i) * defaultChunkSize
		actualChunkSize := defaultChunkSize
		if currentOffset+defaultChunkSize > fileMeta.TotalSize {
			actualChunkSize = fileMeta.TotalSize - currentOffset
		}
		chunkInfo := &qwrappb.ChunkInfo{
			FileId:  fileMeta.FileId,
			ChunkId: chunkID,
			Range:   &qwrappb.ByteRange{Offset: currentOffset, Length: actualChunkSize},
		}
		assignments[i] = &qwrappb.ChunkAssignment{
			ChunkInfo:    chunkInfo,
			AgentId:      selectedAgent.ID,
			AgentAddress: selectedAgent.Address,
		}
	}

	if len(assignments) != numChunks {
		return nil, fmt.Errorf("%w: could not assign all chunks for file %s", ErrTransferPlanCreationFailed, fileMeta.FileId)
	}

	plan := &qwrappb.TransferPlan{
		PlanId:             planID,
		ClientRequestId:    transferReq.RequestId,
		SourceFileMetadata: []*qwrappb.FileMetadata{fileMeta},
		DefaultChunkSize:   defaultChunkSize,
		ChunkAssignments:   assignments,
		Options:            transferReq.Options,
	}

	return plan, nil
}

func (s *schedulerImpl) ReportAgentFailure(ctx context.Context, agentID string, chunkInfo *qwrappb.ChunkInfo, reason string) error {
	s.mu.Lock()
	defer s.mu.Unlock()

	agent, exists := s.agents[agentID]
	if !exists {
		s.config.Logger.Warn("Reported failure for unknown agent", "agent_id", agentID)
		return ErrAgentNotFound
	}

	s.config.Logger.Warn("Agent failure reported",
		"agent_id", agentID,
		"file_id", chunkInfo.FileId,
		"chunk_id", chunkInfo.ChunkId,
		"reason", reason,
	)

	agent.ConsecutiveFailures++

	// Logique de Circuit Breaker / Blacklist simple
	// (Exemple : après 3 échecs consécutifs, blacklist pour 1 minute)
	if agent.ConsecutiveFailures >= 3 {
		blacklistDuration := 1 * time.Minute
		agent.BlacklistedUntil = time.Now().Add(blacklistDuration)
		agent.Status = qwrappb.AgentStatus_AGENT_STATUS_UNAVAILABLE // Le marquer indisponible
		s.config.Logger.Warn("Agent blacklisted due to repeated failures",
			"agent_id", agentID,
			"failures", agent.ConsecutiveFailures,
			"blacklist_duration", blacklistDuration,
		)
		// (Futur) Déclencher une replanification pour les chunks affectés à cet agent.
	}
	return nil
}

func (s *schedulerImpl) GetAgentInfo(agentID string) (*AgentInfo, error) {
	s.mu.RLock()
	defer s.mu.RUnlock()
	agent, exists := s.agents[agentID]
	if !exists {
		return nil, ErrAgentNotFound
	}
	// Retourner une copie pour éviter les modifications externes non contrôlées
	agentCopy := *agent
	return &agentCopy, nil
}

func (s *schedulerImpl) ListAvailableAgents() []*AgentInfo {
	s.mu.RLock()
	defer s.mu.RUnlock()

	available := make([]*AgentInfo, 0, len(s.agents))
	now := time.Now()
	for _, agent := range s.agents {
		if (agent.Status == qwrappb.AgentStatus_AGENT_STATUS_IDLE || agent.Status == qwrappb.AgentStatus_AGENT_STATUS_ACTIVE) &&
			(agent.BlacklistedUntil.IsZero() || now.After(agent.BlacklistedUntil)) &&
			now.Sub(agent.LastHeartbeatTime) <= s.config.AgentHeartbeatTimeout { // Vérifier aussi le timeout du heartbeat
			agentCopy := *agent // Retourner des copies
			available = append(available, &agentCopy)
		}
	}
	return available
}

func (s *schedulerImpl) StartBackgroundTasks(ctx context.Context) {
	s.config.Logger.Info("Starting scheduler background tasks...")
	go s.agentCleanupLoop(ctx)
	// (Futur) go s.metricsUpdateLoop(ctx)
}

func (s *schedulerImpl) agentCleanupLoop(ctx context.Context) {
	// Vérifier périodiquement les agents inactifs/morts.
	ticker := time.NewTicker(s.config.AgentHeartbeatTimeout) // Vérifier à la fréquence du timeout
	defer ticker.Stop()

	for {
		select {
		case <-ctx.Done():
			s.config.Logger.Info("Agent cleanup loop stopping due to context cancellation.")
			return
		case <-ticker.C:
			s.cleanupDeadAgents()
		}
	}
}

func (s *schedulerImpl) cleanupDeadAgents() {
	s.mu.Lock() // Lock complet car on peut supprimer des éléments
	defer s.mu.Unlock()

	now := time.Now()
	agentsToEvict := []string{}

	for agentID, agent := range s.agents {
		// Si un agent n'a pas envoyé de heartbeat depuis un certain temps (ex: 2 * timeout)
		// OU si son statut est en erreur et qu'il n'a pas récupéré.
		if now.Sub(agent.LastHeartbeatTime) > s.config.AgentHeartbeatTimeout*2 {
			if agent.Status != qwrappb.AgentStatus_AGENT_STATUS_UNAVAILABLE && agent.Status != qwrappb.AgentStatus_AGENT_STATUS_ERROR {
				s.config.Logger.Warn("Agent missed heartbeats, marking as unavailable", "agent_id", agentID, "last_heartbeat", agent.LastHeartbeatTime)
				agent.Status = qwrappb.AgentStatus_AGENT_STATUS_UNAVAILABLE // Marquer comme indisponible d'abord
				agent.ConsecutiveFailures = 3                               // Forcer le circuit breaker si pas déjà actif
				if agent.BlacklistedUntil.IsZero() || now.After(agent.BlacklistedUntil) {
					agent.BlacklistedUntil = now.Add(1 * time.Minute) // Blacklist courte
				}
			}
			// Si l'agent est silencieux depuis très longtemps, le supprimer complètement.
			if now.Sub(agent.LastHeartbeatTime) > s.config.AgentEvictionGracePeriod {
				s.config.Logger.Warn("Agent silent for too long, queueing for eviction", "agent_id", agentID, "last_heartbeat", agent.LastHeartbeatTime)
				agentsToEvict = append(agentsToEvict, agentID)
			}

		} else if (agent.Status == qwrappb.AgentStatus_AGENT_STATUS_ERROR || agent.Status == qwrappb.AgentStatus_AGENT_STATUS_UNAVAILABLE) &&
			(agent.BlacklistedUntil.IsZero() || now.After(agent.BlacklistedUntil)) && // N'est plus explicitement blacklisté
			agent.ConsecutiveFailures > 0 { // Mais a toujours des échecs

			// Si un agent est en erreur/indisponible mais que son timeout de blacklist est passé,
			// on pourrait lui donner une chance de se ré-enregistrer ou de se rétablir.
			// S'il continue à ne pas envoyer de heartbeats OK, il sera attrapé par la logique ci-dessus.
			// Pour l'instant, on ne fait rien de plus ici que ce que fait déjà HandleHeartbeat.
		}
	}

	if len(agentsToEvict) > 0 {
		s.config.Logger.Info("Evicting dead/silent agents", "count", len(agentsToEvict), "agent_ids", agentsToEvict)
		for _, agentID := range agentsToEvict {
			delete(s.agents, agentID)
		}
	}
}

// MaybeReplanChunk tente de replanifier un chunk après un échec rapporté.
func (s *schedulerImpl) MaybeReplanChunk(ctx context.Context, planID string, failedChunkInfo *qwrappb.ChunkInfo, failedAgentID string) (bool, []*qwrappb.ChunkAssignment, error) {
	s.mu.RLock()         // Utiliser RLock d'abord pour lire l'état des agents
	defer s.mu.RUnlock() // S'assurer qu'il est libéré même si on retourne tôt

	if failedChunkInfo == nil {
		return false, nil, errors.New("failedChunkInfo cannot be nil for replanning")
	}

	agent, agentExists := s.agents[failedAgentID]
	// Même si l'agent n'existe plus (a été évincé), on pourrait vouloir replanifier le chunk.
	// La décision de replanifier peut se baser sur le fait qu'un échec a eu lieu.

	s.config.Logger.Info("Considering replan for chunk",
		"plan_id", planID, "chunk_id", failedChunkInfo.ChunkId, "file_id", failedChunkInfo.FileId,
		"failed_agent_id", failedAgentID, "agent_exists_in_scheduler", agentExists)

	// Décider si une replanification est nécessaire.
	// Par exemple, si l'agent est maintenant blacklisté, en erreur, ou si on veut simplement essayer un autre agent.
	// Pour cette version, on replanifie si l'agent est défaillant ou si on le demande explicitement.
	// Une logique plus fine pourrait considérer le type d'erreur du chunk.
	needsReplanDecision := false
	if agentExists {
		if agent.Status == qwrappb.AgentStatus_AGENT_STATUS_UNAVAILABLE ||
			agent.Status == qwrappb.AgentStatus_AGENT_STATUS_ERROR ||
			(!agent.BlacklistedUntil.IsZero() && time.Now().Before(agent.BlacklistedUntil)) {
			needsReplanDecision = true
			s.config.Logger.Info("Replan needed due to failed agent status or blacklist", "agent_id", failedAgentID, "status", agent.Status, "blacklisted_until", agent.BlacklistedUntil)
		}
	} else {
		// Si l'agent n'existe plus dans le scheduler, il faut absolument replanifier si le chunk n'est pas complet.
		needsReplanDecision = true
		s.config.Logger.Info("Replan needed because failed agent no longer known to scheduler", "agent_id", failedAgentID)
	}

	// On pourrait avoir une politique pour toujours essayer de replanifier après N échecs sur un agent, même s'il semble OK.
	// Pour l'instant, on se base sur l'état de l'agent. Si aucune raison ci-dessus, on pourrait décider de ne pas replanifier.
	// Toutefois, si cette fonction est appelée, c'est généralement parce qu'un échec a eu lieu.
	// On va forcer la replanification si le chunk a échoué, pour au moins essayer un autre agent.
	needsReplanDecision = true

	if !needsReplanDecision {
		s.config.Logger.Info("Replan not deemed necessary for chunk based on current agent states", "chunk_id", failedChunkInfo.ChunkId)
		return false, nil, nil
	}

	// Filtrer les agents disponibles et sains, en excluant l'agent défaillant.
	availableGoodAgents := make([]*AgentInfo, 0, len(s.agents))
	now := time.Now()
	for _, ag := range s.agents {
		if ag.ID == failedAgentID { // Exclure l'agent qui vient d'échouer pour cette affectation
			continue
		}
		if (ag.Status == qwrappb.AgentStatus_AGENT_STATUS_IDLE || ag.Status == qwrappb.AgentStatus_AGENT_STATUS_ACTIVE) &&
			(ag.BlacklistedUntil.IsZero() || now.After(ag.BlacklistedUntil)) &&
			now.Sub(ag.LastHeartbeatTime) <= s.config.AgentHeartbeatTimeout && // Encore en vie
			ag.CurrentLoadPercentage < maxAgentLoadPercentage { // Pas surchargé
			availableGoodAgents = append(availableGoodAgents, ag)
		}
	}

	if len(availableGoodAgents) == 0 {
		s.config.Logger.Warn("No alternative suitable agents available for replanning chunk", "chunk_id", failedChunkInfo.ChunkId, "failed_agent_id", failedAgentID)
		return true, nil, ErrNoAgentsAvailable // Replan était nécessaire, mais impossible
	}

	// Appliquer la stratégie de sélection (ex: le moins chargé parmi les alternatifs)
	sort.SliceStable(availableGoodAgents, func(i, j int) bool {
		if availableGoodAgents[i].CurrentLoadPercentage == availableGoodAgents[j].CurrentLoadPercentage {
			return availableGoodAgents[i].AvailableBandwidthBPS > availableGoodAgents[j].AvailableBandwidthBPS
		}
		return availableGoodAgents[i].CurrentLoadPercentage < availableGoodAgents[j].CurrentLoadPercentage
	})

	newPrimaryAgent := availableGoodAgents[0]

	// (Futur) Gérer la réplication : si le chunk est critique ou si la politique l'exige,
	// sélectionner plusieurs agents ici. Pour l'instant, une seule nouvelle affectation.
	// replicationFactor := 1
	// if isChunkCritical(failedChunkInfo) { replicationFactor = criticalChunkReplicationFactor }
	// newAssignments := make([]*qwrappb.ChunkAssignment, 0, replicationFactor)
	// for i := 0; i < replicationFactor && i < len(availableGoodAgents); i++ {
	//    selectedAg := availableGoodAgents[i]
	//    newAssignments = append(newAssignments, &qwrappb.ChunkAssignment{
	//        ChunkInfo:    failedChunkInfo, // Utiliser les mêmes ChunkInfo (ID, Range, FileId)
	//        AgentId:      selectedAg.ID,
	//        AgentAddress: selectedAg.Address,
	//    })
	// }

	newAssignments := []*qwrappb.ChunkAssignment{{
		ChunkInfo:    failedChunkInfo, // Important: le ChunkInfo (ID, Range, etc.) reste le même
		AgentId:      newPrimaryAgent.ID,
		AgentAddress: newPrimaryAgent.Address,
	}}

	s.config.Logger.Info("Chunk replanned successfully",
		"plan_id", planID, "chunk_id", failedChunkInfo.ChunkId,
		"old_agent_id", failedAgentID, "new_primary_agent_id", newPrimaryAgent.ID)

	// Note: Ce `Scheduler` ne met PAS à jour la charge prévisionnelle du nouvel agent.
	// Cette charge sera mise à jour par les heartbeats ou quand le StateManager
	// confirme que le chunk est activement en cours de transfert par ce nouvel agent.

	return true, newAssignments, nil
}


# ===== FILE: internal/orchestrator/scheduler/scheduler_test.go =====
package scheduler

import (
	"context"
	"log/slog"
	"os"
	"testing"
	"time"

	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
	"qwrap/pkg/qwrappb"
)

// newTestScheduler creates a new scheduler instance for testing.
func newTestScheduler(t *testing.T) Scheduler {
	cfg := SchedulerConfig{
		Logger:                slog.New(slog.NewTextHandler(os.Stdout, &slog.HandlerOptions{Level: slog.LevelDebug})),
		AgentHeartbeatTimeout: 2 * time.Second,
	}
	// NewScheduler now returns the interface type and doesn't return an error.
	s := NewScheduler(cfg)
	require.NotNil(t, s)
	return s
}

func TestCreateTransferPlan_PreferAgentWithPortion(t *testing.T) {
	s := newTestScheduler(t)
	ctx := context.Background()

	// Register two agents using AgentRegistrationRequest
	regReq1 := &qwrappb.AgentRegistrationRequest{AgentId: "agent1", AgentAddress: "host1:1234"}
	_, err := s.RegisterAgent(ctx, regReq1)
	require.NoError(t, err)

	regReq2 := &qwrappb.AgentRegistrationRequest{AgentId: "agent2", AgentAddress: "host2:1234"}
	_, err = s.RegisterAgent(ctx, regReq2)
	require.NoError(t, err)

	// Setup transfer request
	fileMeta := &qwrappb.FileMetadata{FileId: "file1", TotalSize: 2 * 1024 * 1024, ChunkSize: 1024 * 1024} // 2 MiB file, 1MiB chunks
	transferReq := &qwrappb.TransferRequest{
		RequestId:       "req1",
		FilesToTransfer: []*qwrappb.FileMetadata{fileMeta},
	}

	// Agent 2 has chunk 0
	agentMetadata := []*qwrappb.GetFileMetadataResponse{
		{AgentId: "agent1", Found: true, GlobalFileMetadata: fileMeta, AvailablePortions: []*qwrappb.FilePortionInfo{}},
		{AgentId: "agent2", Found: true, GlobalFileMetadata: fileMeta, AvailablePortions: []*qwrappb.FilePortionInfo{{ChunkIndexStart: 0, ChunkIndexEnd: 0}}},
	}

	// Create the plan
	plan, err := s.CreateTransferPlan(ctx, "plan1", transferReq, agentMetadata)

	// Assertions
	require.NoError(t, err)
	require.NotNil(t, plan)
	assert.Equal(t, "plan1", plan.PlanId)
	// With 2MiB total size and 1MiB chunk size, we expect 2 chunks.
	require.Len(t, plan.ChunkAssignments, 2)

	// Chunk 0 should be assigned to agent2
	assignment0 := plan.ChunkAssignments[0]
	assert.Equal(t, uint64(0), assignment0.ChunkInfo.ChunkId)
	// The ChunkAssignment message has a single AgentId field.
	assert.Equal(t, "agent2", assignment0.AgentId)

	// Chunk 1 should be assigned to the other agent (round-robin starts with agent1)
	assignment1 := plan.ChunkAssignments[1]
	assert.Equal(t, uint64(1), assignment1.ChunkInfo.ChunkId)
	assert.Equal(t, "agent1", assignment1.AgentId)
}

func TestCreateTransferPlan_NoPortionsAvailable(t *testing.T) {
	s := newTestScheduler(t)
	ctx := context.Background()

	// Register two agents
	regReq1 := &qwrappb.AgentRegistrationRequest{AgentId: "agent1", AgentAddress: "host1:1234"}
	_, err := s.RegisterAgent(ctx, regReq1)
	require.NoError(t, err)

	regReq2 := &qwrappb.AgentRegistrationRequest{AgentId: "agent2", AgentAddress: "host2:1234"}
	_, err = s.RegisterAgent(ctx, regReq2)
	require.NoError(t, err)

	// Setup transfer request
	fileMeta := &qwrappb.FileMetadata{FileId: "file1", TotalSize: 2 * 1024 * 1024, ChunkSize: 1024 * 1024} // 2 MiB file
	transferReq := &qwrappb.TransferRequest{
		RequestId:       "req1",
		FilesToTransfer: []*qwrappb.FileMetadata{fileMeta},
	}

	// No agent has any portion
	agentMetadata := []*qwrappb.GetFileMetadataResponse{
		{AgentId: "agent1", Found: true, GlobalFileMetadata: fileMeta, AvailablePortions: []*qwrappb.FilePortionInfo{}},
		{AgentId: "agent2", Found: true, GlobalFileMetadata: fileMeta, AvailablePortions: []*qwrappb.FilePortionInfo{}},
	}

	// Create the plan
	plan, err := s.CreateTransferPlan(ctx, "plan1", transferReq, agentMetadata)

	// Assertions
	require.NoError(t, err)
	require.NotNil(t, plan)
	require.Len(t, plan.ChunkAssignments, 2)

	// Assignments should be round-robin (agent1, then agent2)
	assert.Equal(t, "agent1", plan.ChunkAssignments[0].AgentId)
	assert.Equal(t, "agent2", plan.ChunkAssignments[1].AgentId)
}


# ===== FILE: internal/framing/interface.go =====
package framing

import (
	"context"

	"google.golang.org/protobuf/proto"
)

// Writer est une interface pour écrire des messages Protobuf framés.
type Writer interface {
	// WriteMsg sérialise le message Protobuf, préfixe sa longueur en Uvarint,
	// et l'écrit dans le io.Writer sous-jacent.
	// Le contexte peut être utilisé pour les timeouts ou l'annulation.
	WriteMsg(ctx context.Context, msg proto.Message) error
}

// Reader est une interface pour lire des messages Protobuf framés.
type Reader interface {
	// ReadMsg lit la longueur Uvarint, lit le message Protobuf correspondant,
	// et le désérialise dans le message fourni.
	// Le contexte peut être utilisé pour les timeouts ou l'annulation.
	ReadMsg(ctx context.Context, msg proto.Message) error
}


# ===== FILE: internal/framing/framing.go =====
package framing

import (
	"bufio"
	"context"
	"encoding/binary"
	"errors"
	"fmt"
	"io"
	"log/slog"
	"sync"
	"time"

	"google.golang.org/protobuf/proto"
)

const (
	// MaxMessageSize définit la taille maximale autorisée pour un message Protobuf (payload).
	// 10MB comme spécifié.
	MaxMessageSize = 10 * 1024 * 1024

	// readByteTimeout est un timeout court pour lire un seul octet (pour Uvarint).
	// Utile si le flux est très lent ou bloqué.
	readByteTimeout = 5 * time.Second
)

var (
	ErrMessageTooLarge    = errors.New("protobuf message exceeds maximum allowed size")
	ErrInvalidUvarint     = errors.New("malformed uvarint length prefix")
	ErrIncompleteMessage  = errors.New("incomplete message read (less data than specified by length prefix)")
	ErrBufferPoolDepleted = errors.New("buffer pool depleted (should not happen with proper sizing)")
	// ErrCorruptedMessage n'est pas directement levé ici, car la corruption de payload
	// serait détectée par proto.Unmarshal et retournerait une erreur de cette librairie.
)

// defaultBufferPoolSize est la taille du pool de buffers.
const defaultBufferPoolSize = 128 // Nombre de buffers à garder en pool
// defaultBufferSize est la taille initiale des buffers. Ils peuvent grandir.
const defaultInitialBufferSize = 4 * 1024 // 4KB

var bufferPool = sync.Pool{
	New: func() interface{} {
		b := make([]byte, 0, defaultInitialBufferSize)
		return &b
	},
}

func GetBuffer() *[]byte {
	bufPtr := bufferPool.Get().(*[]byte)
	// Réinitialiser la longueur, mais garder la capacité
	*bufPtr = (*bufPtr)[:0]
	return bufPtr
}

func PutBuffer(bufPtr *[]byte) {
	// Optionnel: vérifier si le buffer a trop grandi avant de le remettre dans le pool
	// pour éviter de garder en mémoire des buffers géants inutilement.
	// if cap(*bufPtr) > someSensibleMaxSizeForPool {
	//    *bufPtr = make([]byte, 0, defaultInitialBufferSize) // Recréer avec taille par défaut
	// }
	bufferPool.Put(bufPtr)
}

// --- Implémentation du Writer ---

type messageWriter struct {
	w      io.Writer
	logger *slog.Logger
	// (Futur) Métriques
}

// NewMessageWriter crée un nouveau Writer pour écrire des messages Protobuf framés.
func NewMessageWriter(w io.Writer, logger *slog.Logger) Writer {
	if logger == nil {
		logger = slog.Default().With("component", "framing_writer")
	}
	return &messageWriter{w: w, logger: logger}
}

func (mw *messageWriter) WriteMsg(ctx context.Context, msg proto.Message) error {
	if msg == nil {
		return errors.New("cannot write nil message")
	}

	// 1. Sérialiser le message Protobuf
	// Utiliser un buffer du pool pour la sérialisation afin de réduire les allocations.
	protoDataBufPtr := GetBuffer()
	defer PutBuffer(protoDataBufPtr)

	// Utiliser proto.MarshalAppend pour écrire directement dans notre buffer.
	// Cela évite une allocation intermédiaire que proto.Marshal ferait.
	var err error
	*protoDataBufPtr, err = proto.MarshalOptions{}.MarshalAppend(*protoDataBufPtr, msg)
	if err != nil {
		return fmt.Errorf("failed to marshal protobuf message: %w", err)
	}
	protoData := *protoDataBufPtr

	msgLen := len(protoData)
	if msgLen == 0 {
		// Envoyer un message de longueur zéro est valide (Uvarint 0 puis rien).
		// Le reader doit pouvoir le gérer.
		mw.logger.Debug("Writing zero-length protobuf message")
	}
	if msgLen > MaxMessageSize {
		return fmt.Errorf("%w: message size %d, max %d", ErrMessageTooLarge, msgLen, MaxMessageSize)
	}

	// 2. Préparer le préfixe de longueur Uvarint
	// Un Uvarint pour 10MB (10 * 1024 * 1024) prendra au max 4 octets.
	// binary.MaxVarintLen64 (10 octets) est pour int64, pour uint64 (longueur) c'est 9 octets.
	// Pour 10MB = 10,485,760, le uvarint prend 4 octets.
	lenBuf := make([]byte, binary.MaxVarintLen32) // MaxVarintLen32 est 5 octets, suffisant pour MaxMessageSize
	n := binary.PutUvarint(lenBuf, uint64(msgLen))
	lenPrefix := lenBuf[:n]

	// Utiliser un io.Writer contextuel si possible, ou gérer le contexte manuellement.
	// Pour simplifier, on vérifie le contexte avant chaque écriture bloquante.
	// Une meilleure approche serait d'utiliser un writer qui respecte le contexte.

	// 3. Écrire le préfixe de longueur
	if err := mw.writeWithContext(ctx, lenPrefix); err != nil {
		return fmt.Errorf("failed to write length prefix: %w", err)
	}

	// 4. Écrire le message Protobuf lui-même
	if msgLen > 0 {
		if err := mw.writeWithContext(ctx, protoData); err != nil {
			return fmt.Errorf("failed to write protobuf data: %w", err)
		}
	}
	return nil
}

// writeWithContext est un helper pour écrire des données en respectant le contexte.
func (mw *messageWriter) writeWithContext(ctx context.Context, data []byte) error {
	if len(data) == 0 {
		return nil
	}

	// Tenter d'écrire en une seule fois.
	// Si le writer sous-jacent est un `net.Conn`, il pourrait y avoir des écritures partielles.
	// Boucler jusqu'à ce que tout soit écrit ou qu'une erreur/annulation se produise.
	totalWritten := 0
	for totalWritten < len(data) {
		select {
		case <-ctx.Done():
			return fmt.Errorf("write cancelled: %w", ctx.Err())
		default:
			// Non-bloquant, on continue
		}

		// (Optionnel) Si le writer supporte SetWriteDeadline, l'utiliser avec le contexte.
		// if deadlineWriter, ok := mw.w.(interface{ SetWriteDeadline(time.Time) error }); ok {
		// 	if dl, ok := ctx.Deadline(); ok {
		// 		deadlineWriter.SetWriteDeadline(dl)
		// 	} else {
		// 		deadlineWriter.SetWriteDeadline(time.Time{}) // No deadline
		// 	}
		// }

		n, err := mw.w.Write(data[totalWritten:])
		totalWritten += n
		if err != nil {
			// Vérifier si l'erreur est due à l'annulation du contexte (si le writer est sensible au contexte)
			if ctx.Err() != nil && errors.Is(err, ctx.Err()) {
				return fmt.Errorf("write context error: %w", err)
			}
			return fmt.Errorf("write error after %d bytes: %w", totalWritten, err)
		}
	}
	return nil
}

// --- Implémentation du Reader ---

type messageReader struct {
	r      io.Reader // Utiliser bufio.Reader pour ReadByte et une lecture bufferisée
	logger *slog.Logger
	// (Futur) Métriques
	// (Futur) Buffer interne pour les lectures partielles de Uvarint si non bufio.Reader
}

// NewMessageReader crée un nouveau Reader pour lire des messages Protobuf framés.
// Il est recommandé que 'r' soit déjà un io.ByteReader (comme bufio.Reader) pour l'efficacité de ReadUvarint.
func NewMessageReader(r io.Reader, logger *slog.Logger) Reader {
	if logger == nil {
		logger = slog.Default().With("component", "framing_reader")
	}
	// S'assurer que nous avons un io.ByteReader pour binary.ReadUvarint
	br, ok := r.(io.ByteReader)
	if !ok {
		logger.Debug("Input reader is not an io.ByteReader, wrapping with bufio.Reader")
		br = bufio.NewReader(r) // r est maintenant ce bufio.Reader
		r = br.(io.Reader)      // Mettre à jour r pour être le bufio.Reader pour io.ReadFull
	}

	return &messageReader{r: r, logger: logger}
}

func (mr *messageReader) ReadMsg(ctx context.Context, msg proto.Message) error {
	if msg == nil {
		return errors.New("cannot read into nil message")
	}

	// 1. Lire la longueur Uvarint du message
	// binary.ReadUvarint attend un io.ByteReader.
	var msgLen uint64
	var err error

	// Gérer le contexte pour ReadUvarint qui peut bloquer sur chaque ReadByte.
	// On ne peut pas facilement passer un contexte à binary.ReadUvarint.
	// On utilise une goroutine et un select avec timeout/contexte.
	// Si le reader sous-jacent est un `net.Conn`, on pourrait mettre un ReadDeadline.

	// Si r est un net.Conn, on peut utiliser SetReadDeadline
	if conn, ok := mr.r.(interface{ SetReadDeadline(time.Time) error }); ok {
		deadline := time.Now().Add(readByteTimeout * time.Duration(binary.MaxVarintLen32+1)) // Timeout global pour lire le uvarint
		if dl, ctxHasDeadline := ctx.Deadline(); ctxHasDeadline && dl.Before(deadline) {
			deadline = dl
		}
		conn.SetReadDeadline(deadline)
		defer conn.SetReadDeadline(time.Time{}) // Effacer la deadline
	}
	// Note: ce timeout s'applique à l'ensemble de la lecture du uvarint.
	// ReadUvarint peut faire plusieurs appels à ReadByte.

	byteReader, ok := mr.r.(io.ByteReader)
	if !ok {
		// Cela ne devrait pas arriver si NewMessageReader a bien wrappé.
		return errors.New("internal error: reader is not an io.ByteReader")
	}

	msgLen, err = binary.ReadUvarint(byteReader)

	if err != nil {
		// Vérifier si l'erreur est due à l'annulation du contexte (si le reader est sensible au contexte)
		if ctx.Err() != nil && (errors.Is(err, ctx.Err()) || errors.Is(err, io.EOF)) { // EOF peut être un signe d'annulation
			return fmt.Errorf("read length cancelled: %w", ctx.Err())
		}
		if errors.Is(err, io.EOF) { // EOF avant de lire un Uvarint complet
			return io.EOF // Propager EOF si le flux est terminé proprement
		}
		return fmt.Errorf("%w: %w", ErrInvalidUvarint, err)
	}

	// 2. Valider la longueur
	if msgLen > MaxMessageSize {
		// Consommer les octets du message pour ne pas désynchroniser le flux si possible,
		// mais avec une limite pour éviter de lire indéfiniment un message corrompu.
		// (Optionnel, peut être dangereux si la longueur annoncée est malicieusement énorme)
		// io.CopyN(io.Discard, mr.r, int64(msgLen))
		return fmt.Errorf("%w: message claims size %d, max %d", ErrMessageTooLarge, msgLen, MaxMessageSize)
	}

	if msgLen == 0 {
		// Message vide valide, rien à lire de plus.
		// Désérialiser un message vide dans `msg` (le mettra à son état par défaut).
		proto.Reset(msg)
		mr.logger.Debug("Read zero-length protobuf message")
		return nil
	}

	// 3. Lire le payload du message
	// Utiliser un buffer du pool pour la lecture.
	payloadBufPtr := GetBuffer()
	defer PutBuffer(payloadBufPtr)
	payloadBuf := *payloadBufPtr

	// S'assurer que le buffer a assez de capacité.
	if cap(payloadBuf) < int(msgLen) {
		payloadBuf = make([]byte, msgLen)
	} else {
		payloadBuf = payloadBuf[:msgLen]
	}

	// io.ReadFull lit exactement len(buf) octets ou retourne une erreur.
	// Gérer le contexte pour io.ReadFull.

	// Si r est un net.Conn, on peut utiliser SetReadDeadline
	if conn, ok := mr.r.(interface{ SetReadDeadline(time.Time) error }); ok {
		deadline := time.Now().Add(readByteTimeout) // Timeout pour la lecture du payload
		if dl, ctxHasDeadline := ctx.Deadline(); ctxHasDeadline && dl.Before(deadline) {
			deadline = dl
		}
		conn.SetReadDeadline(deadline)
		// Le defer de SetReadDeadline(time.Time{}) est déjà en place
	}

	n, err := io.ReadFull(mr.r, payloadBuf)
	if err != nil {
		if errors.Is(err, io.EOF) || errors.Is(err, io.ErrUnexpectedEOF) { // EOF ou UnexpectedEOF avant la fin du message annoncé
			return fmt.Errorf("%w: expected %d bytes, got %d: %w", ErrIncompleteMessage, msgLen, n, err)
		}
		// Vérifier si l'erreur est due à l'annulation du contexte
		if ctx.Err() != nil && errors.Is(err, ctx.Err()) {
			return fmt.Errorf("read payload cancelled: %w", ctx.Err())
		}
		return fmt.Errorf("failed to read message payload (expected %d bytes): %w", msgLen, err)
	}
	if uint64(n) != msgLen {
		// Ne devrait pas arriver avec io.ReadFull sans erreur, mais par sécurité.
		return fmt.Errorf("%w: read %d bytes, but length prefix indicated %d", ErrIncompleteMessage, n, msgLen)
	}

	// 4. Désérialiser le message Protobuf
	if err := proto.Unmarshal(payloadBuf[:msgLen], msg); err != nil {
		// L'erreur ici est probablement ErrCorruptedMessage (ou un type d'erreur de la lib proto)
		return fmt.Errorf("failed to unmarshal protobuf message: %w", err)
	}

	// (Optionnel) Validation UTF-8 si on sait que c'est un message texte
	// Cette validation est spécifique à l'application. Le framing général ne le fait pas.
	// Si vous avez des champs string dans vos protos, la lib proto gère l'UTF-8.

	return nil
}


# ===== FILE: internal/common/config.go =====
package common


# ===== FILE: internal/common/crypto.go =====
package common


